/*! For license information please see main.2c80c02a.js.LICENSE.txt */
!function(){"use strict";var e={463:function(e,t,n){var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,u={};function s(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(u[e]=t,e=0;e<t.length;e++)o.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function _(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(h,e)&&(d.test(e)?p[e]=!0:(h[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,_);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,_);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,_);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var g=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),x=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),O=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),M=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var z=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var N=Symbol.iterator;function D(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=N&&e[N]||e["@@iterator"])?e:null}var B,F=Object.assign;function P(e){if(void 0===B)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);B=t&&t[1]||""}return"\n"+B+e}var L=!1;function R(e,t){if(!e||L)return"";L=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&"string"===typeof l.stack){for(var i=l.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u]){var s="\n"+i[o].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=o&&0<=u);break}}}finally{L=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?P(e):""}function U(e){switch(e.tag){case 5:return P(e.type);case 16:return P("Lazy");case 13:return P("Suspense");case 19:return P("SuspenseList");case 0:case 2:case 15:return e=R(e.type,!1);case 11:return e=R(e.type.render,!1);case 1:return e=R(e.type,!0);default:return""}}function V(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case k:return"Fragment";case x:return"Portal";case A:return"Profiler";case S:return"StrictMode";case T:return"Suspense";case j:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case O:return(e.displayName||"Context")+".Consumer";case E:return(e._context.displayName||"Context")+".Provider";case I:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case C:return null!==(t=e.displayName||null)?t:V(e.type)||"Memo";case M:t=e._payload,e=e._init;try{return V(e(t))}catch(n){}}return null}function W(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return V(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function Y(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function q(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function $(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function X(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Q(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Y(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function K(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function Z(e,t){K(e,t);var n=Y(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,Y(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function J(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&$(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Y(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Y(n)}}function ae(e,t){var n=Y(t.value),r=Y(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ue(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ue(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var le,ce,fe=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((le=le||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=le.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(he).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]}))}));var ye=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _e(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ge=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,ke=null,Se=null;function Ae(e){if(e=bi(e)){if("function"!==typeof xe)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),xe(e.stateNode,e.type,t))}}function Ee(e){ke?Se?Se.push(e):Se=[e]:ke=e}function Oe(){if(ke){var e=ke,t=Se;if(Se=ke=null,Ae(e),t)for(e=0;e<t.length;e++)Ae(t[e])}}function Ie(e,t){return e(t)}function Te(){}var je=!1;function Ce(e,t,n){if(je)return e(t,n);je=!0;try{return Ie(e,t,n)}finally{je=!1,(null!==ke||null!==Se)&&(Te(),Oe())}}function Me(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var ze=!1;if(c)try{var Ne={};Object.defineProperty(Ne,"passive",{get:function(){ze=!0}}),window.addEventListener("test",Ne,Ne),window.removeEventListener("test",Ne,Ne)}catch(ce){ze=!1}function De(e,t,n,r,i,a,o,u,s){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(c){this.onError(c)}}var Be=!1,Fe=null,Pe=!1,Le=null,Re={onError:function(e){Be=!0,Fe=e}};function Ue(e,t,n,r,i,a,o,u,s){Be=!1,Fe=null,De.apply(Re,arguments)}function Ve(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function We(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ye(e){if(Ve(e)!==e)throw Error(a(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ve(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Ye(i),e;if(o===r)return Ye(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=o;break}if(s===r){u=!0,r=i,n=o;break}s=s.sibling}if(!u){for(s=o.child;s;){if(s===n){u=!0,n=o,r=i;break}if(s===r){u=!0,r=o,n=i;break}s=s.sibling}if(!u)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?qe(e):null}function qe(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=qe(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,$e=i.unstable_cancelCallback,Xe=i.unstable_shouldYield,Qe=i.unstable_requestPaint,Ke=i.unstable_now,Ze=i.unstable_getCurrentPriorityLevel,Je=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ut(e)/st|0)|0},ut=Math.log,st=Math.LN2;var lt=64,ct=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var u=o&~i;0!==u?r=ft(u):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function ht(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=lt;return 0===(4194240&(lt<<=1))&&(lt=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function _t(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function gt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,xt,kt,St,At,Et=!1,Ot=[],It=null,Tt=null,jt=null,Ct=new Map,Mt=new Map,zt=[],Nt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dt(e,t){switch(e){case"focusin":case"focusout":It=null;break;case"dragenter":case"dragleave":Tt=null;break;case"mouseover":case"mouseout":jt=null;break;case"pointerover":case"pointerout":Ct.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mt.delete(t.pointerId)}}function Bt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=_i(e.target);if(null!==t){var n=Ve(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=We(n)))return e.blockedOn=t,void At(e.priority,(function(){kt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Pt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);ge=r,n.target.dispatchEvent(r),ge=null,t.shift()}return!0}function Lt(e,t,n){Pt(e)&&n.delete(t)}function Rt(){Et=!1,null!==It&&Pt(It)&&(It=null),null!==Tt&&Pt(Tt)&&(Tt=null),null!==jt&&Pt(jt)&&(jt=null),Ct.forEach(Lt),Mt.forEach(Lt)}function Ut(e,t){e.blockedOn===t&&(e.blockedOn=null,Et||(Et=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Rt)))}function Vt(e){function t(t){return Ut(t,e)}if(0<Ot.length){Ut(Ot[0],e);for(var n=1;n<Ot.length;n++){var r=Ot[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==It&&Ut(It,e),null!==Tt&&Ut(Tt,e),null!==jt&&Ut(jt,e),Ct.forEach(t),Mt.forEach(t),n=0;n<zt.length;n++)(r=zt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<zt.length&&null===(n=zt[0]).blockedOn;)Ft(n),null===n.blockedOn&&zt.shift()}var Wt=g.ReactCurrentBatchConfig,Yt=!0;function Ht(e,t,n,r){var i=bt,a=Wt.transition;Wt.transition=null;try{bt=1,Gt(e,t,n,r)}finally{bt=i,Wt.transition=a}}function qt(e,t,n,r){var i=bt,a=Wt.transition;Wt.transition=null;try{bt=4,Gt(e,t,n,r)}finally{bt=i,Wt.transition=a}}function Gt(e,t,n,r){if(Yt){var i=Xt(e,t,n,r);if(null===i)Yr(e,t,r,$t,n),Dt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return It=Bt(It,e,t,n,r,i),!0;case"dragenter":return Tt=Bt(Tt,e,t,n,r,i),!0;case"mouseover":return jt=Bt(jt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Ct.set(a,Bt(Ct.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Mt.set(a,Bt(Mt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Dt(e,r),4&t&&-1<Nt.indexOf(e)){for(;null!==i;){var a=bi(i);if(null!==a&&wt(a),null===(a=Xt(e,t,n,r))&&Yr(e,t,r,$t,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Yr(e,t,r,null,n)}}var $t=null;function Xt(e,t,n,r){if($t=null,null!==(e=_i(e=we(r))))if(null===(t=Ve(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=We(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return $t=e,null}function Qt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ze()){case Je:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Kt=null,Zt=null,Jt=null;function en(){if(Jt)return Jt;var e,t,n=Zt,r=n.length,i="value"in Kt?Kt.value:Kt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Jt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,un,sn,ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=an(ln),fn=F({},ln,{view:0,detail:0}),dn=an(fn),hn=F({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:An,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&"mousemove"===e.type?(on=e.screenX-sn.screenX,un=e.screenY-sn.screenY):un=on=0,sn=e),on)},movementY:function(e){return"movementY"in e?e.movementY:un}}),pn=an(hn),vn=an(F({},hn,{dataTransfer:0})),mn=an(F({},fn,{relatedTarget:0})),yn=an(F({},ln,{animationName:0,elapsedTime:0,pseudoElement:0})),_n=F({},ln,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=an(_n),gn=an(F({},ln,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=kn[e])&&!!t[e]}function An(){return Sn}var En=F({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:An,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),On=an(En),In=an(F({},hn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Tn=an(F({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:An})),jn=an(F({},ln,{propertyName:0,elapsedTime:0,pseudoElement:0})),Cn=F({},hn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Mn=an(Cn),zn=[9,13,27,32],Nn=c&&"CompositionEvent"in window,Dn=null;c&&"documentMode"in document&&(Dn=document.documentMode);var Bn=c&&"TextEvent"in window&&!Dn,Fn=c&&(!Nn||Dn&&8<Dn&&11>=Dn),Pn=String.fromCharCode(32),Ln=!1;function Rn(e,t){switch(e){case"keyup":return-1!==zn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Un(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Vn=!1;var Wn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Yn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Wn[e.type]:"textarea"===t}function Hn(e,t,n,r){Ee(r),0<(t=qr(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var qn=null,Gn=null;function $n(e){Pr(e,0)}function Xn(e){if(G(gi(e)))return e}function Qn(e,t){if("change"===e)return t}var Kn=!1;if(c){var Zn;if(c){var Jn="oninput"in document;if(!Jn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Jn="function"===typeof er.oninput}Zn=Jn}else Zn=!1;Kn=Zn&&(!document.documentMode||9<document.documentMode)}function tr(){qn&&(qn.detachEvent("onpropertychange",nr),Gn=qn=null)}function nr(e){if("value"===e.propertyName&&Xn(Gn)){var t=[];Hn(t,Gn,e,we(e)),Ce($n,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(qn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Xn(Gn)}function ar(e,t){if("click"===e)return Xn(t)}function or(e,t){if("input"===e||"change"===e)return Xn(t)}var ur="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function sr(e,t){if(ur(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!ur(e[i],t[i]))return!1}return!0}function lr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=lr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=lr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=$();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=$((e=t.contentWindow).document)}return t}function hr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=dr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&hr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=cr(n,a);var o=cr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=c&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,_r=null,br=!1;function gr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==mr||mr!==$(r)||("selectionStart"in(r=mr)&&hr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},_r&&sr(_r,r)||(_r=r,0<(r=qr(yr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},kr={},Sr={};function Ar(e){if(kr[e])return kr[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return kr[e]=n[t];return e}c&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var Er=Ar("animationend"),Or=Ar("animationiteration"),Ir=Ar("animationstart"),Tr=Ar("transitionend"),jr=new Map,Cr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Mr(e,t){jr.set(e,t),s(t,[e])}for(var zr=0;zr<Cr.length;zr++){var Nr=Cr[zr];Mr(Nr.toLowerCase(),"on"+(Nr[0].toUpperCase()+Nr.slice(1)))}Mr(Er,"onAnimationEnd"),Mr(Or,"onAnimationIteration"),Mr(Ir,"onAnimationStart"),Mr("dblclick","onDoubleClick"),Mr("focusin","onFocus"),Mr("focusout","onBlur"),Mr(Tr,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Br=new Set("cancel close invalid load scroll toggle".split(" ").concat(Dr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,u,s,l){if(Ue.apply(this,arguments),Be){if(!Be)throw Error(a(198));var c=Fe;Be=!1,Fe=null,Pe||(Pe=!0,Le=c)}}(r,t,void 0,e),e.currentTarget=null}function Pr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,l=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Fr(i,u,l),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,l=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Fr(i,u,l),a=s}}}if(Pe)throw e=Le,Pe=!1,Le=null,e}function Lr(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(Wr(t,e,2,!1),n.add(r))}function Rr(e,t,n){var r=0;t&&(r|=4),Wr(n,e,r,t)}var Ur="_reactListening"+Math.random().toString(36).slice(2);function Vr(e){if(!e[Ur]){e[Ur]=!0,o.forEach((function(t){"selectionchange"!==t&&(Br.has(t)||Rr(t,!1,e),Rr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Ur]||(t[Ur]=!0,Rr("selectionchange",!1,t))}}function Wr(e,t,n,r){switch(Qt(t)){case 1:var i=Ht;break;case 4:i=qt;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!ze||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Yr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=_i(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}Ce((function(){var r=a,i=we(n),o=[];e:{var u=jr.get(e);if(void 0!==u){var s=cn,l=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":s=On;break;case"focusin":l="focus",s=mn;break;case"focusout":l="blur",s=mn;break;case"beforeblur":case"afterblur":s=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=Tn;break;case Er:case Or:case Ir:s=yn;break;case Tr:s=jn;break;case"scroll":s=dn;break;case"wheel":s=Mn;break;case"copy":case"cut":case"paste":s=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=In}var c=0!==(4&t),f=!c&&"scroll"===e,d=c?null!==u?u+"Capture":null:u;c=[];for(var h,p=r;null!==p;){var v=(h=p).stateNode;if(5===h.tag&&null!==v&&(h=v,null!==d&&(null!=(v=Me(p,d))&&c.push(Hr(p,v,h)))),f)break;p=p.return}0<c.length&&(u=new s(u,l,null,n,i),o.push({event:u,listeners:c}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||n===ge||!(l=n.relatedTarget||n.fromElement)||!_i(l)&&!l[pi])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(l=(l=n.relatedTarget||n.toElement)?_i(l):null)&&(l!==(f=Ve(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(s=null,l=r),s!==l)){if(c=pn,v="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=In,v="onPointerLeave",d="onPointerEnter",p="pointer"),f=null==s?u:gi(s),h=null==l?u:gi(l),(u=new c(v,p+"leave",s,n,i)).target=f,u.relatedTarget=h,v=null,_i(i)===r&&((c=new c(d,p+"enter",l,n,i)).target=h,c.relatedTarget=f,v=c),f=v,s&&l)e:{for(d=l,p=0,h=c=s;h;h=Gr(h))p++;for(h=0,v=d;v;v=Gr(v))h++;for(;0<p-h;)c=Gr(c),p--;for(;0<h-p;)d=Gr(d),h--;for(;p--;){if(c===d||null!==d&&c===d.alternate)break e;c=Gr(c),d=Gr(d)}c=null}else c=null;null!==s&&$r(o,u,s,c,!1),null!==l&&null!==f&&$r(o,f,l,c,!0)}if("select"===(s=(u=r?gi(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var m=Qn;else if(Yn(u))if(Kn)m=or;else{m=ir;var y=rr}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(m=ar);switch(m&&(m=m(e,r))?Hn(o,m,n,i):(y&&y(e,u,r),"focusout"===e&&(y=u._wrapperState)&&y.controlled&&"number"===u.type&&ee(u,"number",u.value)),y=r?gi(r):window,e){case"focusin":(Yn(y)||"true"===y.contentEditable)&&(mr=y,yr=r,_r=null);break;case"focusout":_r=yr=mr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,gr(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":gr(o,n,i)}var _;if(Nn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Vn?Rn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Fn&&"ko"!==n.locale&&(Vn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Vn&&(_=en()):(Zt="value"in(Kt=i)?Kt.value:Kt.textContent,Vn=!0)),0<(y=qr(r,b)).length&&(b=new gn(b,e,null,n,i),o.push({event:b,listeners:y}),_?b.data=_:null!==(_=Un(n))&&(b.data=_))),(_=Bn?function(e,t){switch(e){case"compositionend":return Un(t);case"keypress":return 32!==t.which?null:(Ln=!0,Pn);case"textInput":return(e=t.data)===Pn&&Ln?null:e;default:return null}}(e,n):function(e,t){if(Vn)return"compositionend"===e||!Nn&&Rn(e,t)?(e=en(),Jt=Zt=Kt=null,Vn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=qr(r,"onBeforeInput")).length&&(i=new gn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=_))}Pr(o,t)}))}function Hr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function qr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Me(e,n))&&r.unshift(Hr(e,a,i)),null!=(a=Me(e,t))&&r.push(Hr(e,a,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function $r(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,l=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==l&&(u=l,i?null!=(s=Me(n,a))&&o.unshift(Hr(n,s,u)):i||null!=(s=Me(n,a))&&o.push(Hr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Xr=/\r\n?/g,Qr=/\u0000|\uFFFD/g;function Kr(e){return("string"===typeof e?e:""+e).replace(Xr,"\n").replace(Qr,"")}function Zr(e,t,n){if(t=Kr(t),Kr(e)!==t&&n)throw Error(a(425))}function Jr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(ui)}:ri;function ui(e){setTimeout((function(){throw e}))}function si(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Vt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Vt(t)}function li(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ci(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),di="__reactFiber$"+fi,hi="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,mi="__reactListeners$"+fi,yi="__reactHandles$"+fi;function _i(e){var t=e[di];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[di]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ci(e);null!==e;){if(n=e[di])return n;e=ci(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[di]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function gi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[hi]||null}var xi=[],ki=-1;function Si(e){return{current:e}}function Ai(e){0>ki||(e.current=xi[ki],xi[ki]=null,ki--)}function Ei(e,t){ki++,xi[ki]=e.current,e.current=t}var Oi={},Ii=Si(Oi),Ti=Si(!1),ji=Oi;function Ci(e,t){var n=e.type.contextTypes;if(!n)return Oi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Mi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function zi(){Ai(Ti),Ai(Ii)}function Ni(e,t,n){if(Ii.current!==Oi)throw Error(a(168));Ei(Ii,t),Ei(Ti,n)}function Di(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,W(e)||"Unknown",i));return F({},n,r)}function Bi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Oi,ji=Ii.current,Ei(Ii,e),Ei(Ti,Ti.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Di(e,t,ji),r.__reactInternalMemoizedMergedChildContext=e,Ai(Ti),Ai(Ii),Ei(Ii,e)):Ai(Ti),Ei(Ti,n)}var Pi=null,Li=!1,Ri=!1;function Ui(e){null===Pi?Pi=[e]:Pi.push(e)}function Vi(){if(!Ri&&null!==Pi){Ri=!0;var e=0,t=bt;try{var n=Pi;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Pi=null,Li=!1}catch(i){throw null!==Pi&&(Pi=Pi.slice(e+1)),Ge(Je,Vi),i}finally{bt=t,Ri=!1}}return null}var Wi=[],Yi=0,Hi=null,qi=0,Gi=[],$i=0,Xi=null,Qi=1,Ki="";function Zi(e,t){Wi[Yi++]=qi,Wi[Yi++]=Hi,Hi=e,qi=t}function Ji(e,t,n){Gi[$i++]=Qi,Gi[$i++]=Ki,Gi[$i++]=Xi,Xi=e;var r=Qi;e=Ki;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Qi=1<<32-ot(t)+i|n<<i|r,Ki=a+e}else Qi=1<<a|n<<i|r,Ki=e}function ea(e){null!==e.return&&(Zi(e,1),Ji(e,1,0))}function ta(e){for(;e===Hi;)Hi=Wi[--Yi],Wi[Yi]=null,qi=Wi[--Yi],Wi[Yi]=null;for(;e===Xi;)Xi=Gi[--$i],Gi[$i]=null,Ki=Gi[--$i],Gi[$i]=null,Qi=Gi[--$i],Gi[$i]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Ml(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ua(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=li(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Xi?{id:Qi,overflow:Ki}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Ml(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function sa(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function la(e){if(ia){var t=ra;if(t){var n=t;if(!ua(e,t)){if(sa(e))throw Error(a(418));t=li(n.nextSibling);var r=na;t&&ua(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(sa(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function ca(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function fa(e){if(e!==na)return!1;if(!ia)return ca(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(sa(e))throw da(),Error(a(418));for(;t;)oa(e,t),t=li(t.nextSibling)}if(ca(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=li(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?li(e.stateNode.nextSibling):null;return!0}function da(){for(var e=ra;e;)e=li(e.nextSibling)}function ha(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=g.ReactCurrentBatchConfig;function ma(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ya=Si(null),_a=null,ba=null,ga=null;function wa(){ga=ba=_a=null}function xa(e){var t=ya.current;Ai(ya),e._currentValue=t}function ka(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Sa(e,t){_a=e,ga=ba=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(gu=!0),e.firstContext=null)}function Aa(e){var t=e._currentValue;if(ga!==e)if(e={context:e,memoizedValue:t,next:null},null===ba){if(null===_a)throw Error(a(308));ba=e,_a.dependencies={lanes:0,firstContext:e}}else ba=ba.next=e;return t}var Ea=null;function Oa(e){null===Ea?Ea=[e]:Ea.push(e)}function Ia(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Oa(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ta(e,r)}function Ta(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var ja=!1;function Ca(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ma(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function za(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Na(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Ts)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ta(e,n)}return null===(i=r.interleaved)?(t.next=t,Oa(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ta(e,n)}function Da(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,_t(e,n)}}function Ba(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fa(e,t,n,r){var i=e.updateQueue;ja=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(null!==u){i.shared.pending=null;var s=u,l=s.next;s.next=null,null===o?a=l:o.next=l,o=s;var c=e.alternate;null!==c&&((u=(c=c.updateQueue).lastBaseUpdate)!==o&&(null===u?c.firstBaseUpdate=l:u.next=l,c.lastBaseUpdate=s))}if(null!==a){var f=i.baseState;for(o=0,c=l=s=null,u=a;;){var d=u.lane,h=u.eventTime;if((r&d)===d){null!==c&&(c=c.next={eventTime:h,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var p=e,v=u;switch(d=t,h=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(h,f,d);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=v.payload)?p.call(h,f,d):p)||void 0===d)break e;f=F({},f,d);break e;case 2:ja=!0}}null!==u.callback&&0!==u.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[u]:d.push(u))}else h={eventTime:h,lane:d,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===c?(l=c=h,s=f):c=c.next=h,o|=d;if(null===(u=u.next)){if(null===(u=i.shared.pending))break;u=(d=u).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===c&&(s=f),i.baseState=s,i.firstBaseUpdate=l,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Fs|=o,e.lanes=o,e.memoizedState=f}}function Pa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var La=(new r.Component).refs;function Ra(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Ua={isMounted:function(e){return!!(e=e._reactInternals)&&Ve(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tl(),i=nl(e),a=za(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Na(e,a,i))&&(rl(t,e,i,r),Da(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tl(),i=nl(e),a=za(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Na(e,a,i))&&(rl(t,e,i,r),Da(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tl(),r=nl(e),i=za(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Na(e,i,r))&&(rl(t,e,r,n),Da(t,e,r))}};function Va(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!sr(n,r)||!sr(i,a))}function Wa(e,t,n){var r=!1,i=Oi,a=t.contextType;return"object"===typeof a&&null!==a?a=Aa(a):(i=Mi(t)?ji:Ii.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ci(e,i):Oi),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Ua,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Ya(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ua.enqueueReplaceState(t,t.state,null)}function Ha(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=La,Ca(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Aa(a):(a=Mi(t)?ji:Ii.current,i.context=Ci(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Ra(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Ua.enqueueReplaceState(i,i.state,null),Fa(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function qa(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===La&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ga(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function $a(e){return(0,e._init)(e._payload)}function Xa(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Nl(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function u(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Pl(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){var a=n.type;return a===k?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===M&&$a(a)===t.type)?((r=i(t,n.props)).ref=qa(e,t,n),r.return=e,r):((r=Dl(n.type,n.key,n.props,null,e.mode,r)).ref=qa(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Ll(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Bl(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Pl(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Dl(t.type,t.key,t.props,null,e.mode,n)).ref=qa(e,null,t),n.return=e,n;case x:return(t=Ll(t,e.mode,n)).return=e,t;case M:return d(e,(0,t._init)(t._payload),n)}if(te(t)||D(t))return(t=Bl(t,e.mode,n,null)).return=e,t;Ga(e,t)}return null}function h(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?l(e,t,n,r):null;case x:return n.key===i?c(e,t,n,r):null;case M:return h(e,t,(i=n._init)(n._payload),r)}if(te(n)||D(n))return null!==i?null:f(e,t,n,r,null);Ga(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case M:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||D(r))return f(t,e=e.get(n)||null,r,i,null);Ga(t,r)}return null}function v(i,a,u,s){for(var l=null,c=null,f=a,v=a=0,m=null;null!==f&&v<u.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=h(i,f,u[v],s);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),a=o(y,a,v),null===c?l=y:c.sibling=y,c=y,f=m}if(v===u.length)return n(i,f),ia&&Zi(i,v),l;if(null===f){for(;v<u.length;v++)null!==(f=d(i,u[v],s))&&(a=o(f,a,v),null===c?l=f:c.sibling=f,c=f);return ia&&Zi(i,v),l}for(f=r(i,f);v<u.length;v++)null!==(m=p(f,i,v,u[v],s))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===c?l=m:c.sibling=m,c=m);return e&&f.forEach((function(e){return t(i,e)})),ia&&Zi(i,v),l}function m(i,u,s,l){var c=D(s);if("function"!==typeof c)throw Error(a(150));if(null==(s=c.call(s)))throw Error(a(151));for(var f=c=null,v=u,m=u=0,y=null,_=s.next();null!==v&&!_.done;m++,_=s.next()){v.index>m?(y=v,v=null):y=v.sibling;var b=h(i,v,_.value,l);if(null===b){null===v&&(v=y);break}e&&v&&null===b.alternate&&t(i,v),u=o(b,u,m),null===f?c=b:f.sibling=b,f=b,v=y}if(_.done)return n(i,v),ia&&Zi(i,m),c;if(null===v){for(;!_.done;m++,_=s.next())null!==(_=d(i,_.value,l))&&(u=o(_,u,m),null===f?c=_:f.sibling=_,f=_);return ia&&Zi(i,m),c}for(v=r(i,v);!_.done;m++,_=s.next())null!==(_=p(v,i,m,_.value,l))&&(e&&null!==_.alternate&&v.delete(null===_.key?m:_.key),u=o(_,u,m),null===f?c=_:f.sibling=_,f=_);return e&&v.forEach((function(e){return t(i,e)})),ia&&Zi(i,m),c}return function e(r,a,o,s){if("object"===typeof o&&null!==o&&o.type===k&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var l=o.key,c=a;null!==c;){if(c.key===l){if((l=o.type)===k){if(7===c.tag){n(r,c.sibling),(a=i(c,o.props.children)).return=r,r=a;break e}}else if(c.elementType===l||"object"===typeof l&&null!==l&&l.$$typeof===M&&$a(l)===c.type){n(r,c.sibling),(a=i(c,o.props)).ref=qa(r,c,o),a.return=r,r=a;break e}n(r,c);break}t(r,c),c=c.sibling}o.type===k?((a=Bl(o.props.children,r.mode,s,o.key)).return=r,r=a):((s=Dl(o.type,o.key,o.props,null,r.mode,s)).ref=qa(r,a,o),s.return=r,r=s)}return u(r);case x:e:{for(c=o.key;null!==a;){if(a.key===c){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Ll(o,r.mode,s)).return=r,r=a}return u(r);case M:return e(r,a,(c=o._init)(o._payload),s)}if(te(o))return v(r,a,o,s);if(D(o))return m(r,a,o,s);Ga(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Pl(o,r.mode,s)).return=r,r=a),u(r)):n(r,a)}}var Qa=Xa(!0),Ka=Xa(!1),Za={},Ja=Si(Za),eo=Si(Za),to=Si(Za);function no(e){if(e===Za)throw Error(a(174));return e}function ro(e,t){switch(Ei(to,t),Ei(eo,e),Ei(Ja,Za),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:se(null,"");break;default:t=se(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ai(Ja),Ei(Ja,t)}function io(){Ai(Ja),Ai(eo),Ai(to)}function ao(e){no(to.current);var t=no(Ja.current),n=se(t,e.type);t!==n&&(Ei(eo,e),Ei(Ja,n))}function oo(e){eo.current===e&&(Ai(Ja),Ai(eo))}var uo=Si(0);function so(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var lo=[];function co(){for(var e=0;e<lo.length;e++)lo[e]._workInProgressVersionPrimary=null;lo.length=0}var fo=g.ReactCurrentDispatcher,ho=g.ReactCurrentBatchConfig,po=0,vo=null,mo=null,yo=null,_o=!1,bo=!1,go=0,wo=0;function xo(){throw Error(a(321))}function ko(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ur(e[n],t[n]))return!1;return!0}function So(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?uu:su,e=n(r,i),bo){o=0;do{if(bo=!1,go=0,25<=o)throw Error(a(301));o+=1,yo=mo=null,t.updateQueue=null,fo.current=lu,e=n(r,i)}while(bo)}if(fo.current=ou,t=null!==mo&&null!==mo.next,po=0,yo=mo=vo=null,_o=!1,t)throw Error(a(300));return e}function Ao(){var e=0!==go;return go=0,e}function Eo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===yo?vo.memoizedState=yo=e:yo=yo.next=e,yo}function Oo(){if(null===mo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=mo.next;var t=null===yo?vo.memoizedState:yo.next;if(null!==t)yo=t,mo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(mo=e).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===yo?vo.memoizedState=yo=e:yo=yo.next=e}return yo}function Io(e,t){return"function"===typeof t?t(e):t}function To(e){var t=Oo(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=mo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var u=i.next;i.next=o.next,o.next=u}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var s=u=null,l=null,c=o;do{var f=c.lane;if((po&f)===f)null!==l&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var d={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===l?(s=l=d,u=r):l=l.next=d,vo.lanes|=f,Fs|=f}c=c.next}while(null!==c&&c!==o);null===l?u=r:l.next=s,ur(r,t.memoizedState)||(gu=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=l,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,Fs|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function jo(e){var t=Oo(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{o=e(o,u.action),u=u.next}while(u!==i);ur(o,t.memoizedState)||(gu=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Co(){}function Mo(e,t){var n=vo,r=Oo(),i=t(),o=!ur(r.memoizedState,i);if(o&&(r.memoizedState=i,gu=!0),r=r.queue,Yo(Do.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==yo&&1&yo.memoizedState.tag){if(n.flags|=2048,Lo(9,No.bind(null,n,r,i,t),void 0,null),null===js)throw Error(a(349));0!==(30&po)||zo(n,t,i)}return i}function zo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function No(e,t,n,r){t.value=n,t.getSnapshot=r,Bo(t)&&Fo(e)}function Do(e,t,n){return n((function(){Bo(t)&&Fo(e)}))}function Bo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ur(e,n)}catch(r){return!0}}function Fo(e){var t=Ta(e,1);null!==t&&rl(t,e,1,-1)}function Po(e){var t=Eo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Io,lastRenderedState:e},t.queue=e,e=e.dispatch=nu.bind(null,vo,e),[t.memoizedState,e]}function Lo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ro(){return Oo().memoizedState}function Uo(e,t,n,r){var i=Eo();vo.flags|=e,i.memoizedState=Lo(1|t,n,void 0,void 0===r?null:r)}function Vo(e,t,n,r){var i=Oo();r=void 0===r?null:r;var a=void 0;if(null!==mo){var o=mo.memoizedState;if(a=o.destroy,null!==r&&ko(r,o.deps))return void(i.memoizedState=Lo(t,n,a,r))}vo.flags|=e,i.memoizedState=Lo(1|t,n,a,r)}function Wo(e,t){return Uo(8390656,8,e,t)}function Yo(e,t){return Vo(2048,8,e,t)}function Ho(e,t){return Vo(4,2,e,t)}function qo(e,t){return Vo(4,4,e,t)}function Go(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function $o(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Vo(4,4,Go.bind(null,t,e),n)}function Xo(){}function Qo(e,t){var n=Oo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ko(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ko(e,t){var n=Oo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ko(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Zo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,gu=!0),e.memoizedState=n):(ur(n,t)||(n=vt(),vo.lanes|=n,Fs|=n,e.baseState=!0),t)}function Jo(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{bt=n,ho.transition=r}}function eu(){return Oo().memoizedState}function tu(e,t,n){var r=nl(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ru(e))iu(t,n);else if(null!==(n=Ia(e,t,n,r))){rl(n,e,r,tl()),au(n,t,r)}}function nu(e,t,n){var r=nl(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ru(e))iu(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,u=a(o,n);if(i.hasEagerState=!0,i.eagerState=u,ur(u,o)){var s=t.interleaved;return null===s?(i.next=i,Oa(t)):(i.next=s.next,s.next=i),void(t.interleaved=i)}}catch(l){}null!==(n=Ia(e,t,i,r))&&(rl(n,e,r,i=tl()),au(n,t,r))}}function ru(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function iu(e,t){bo=_o=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function au(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,_t(e,n)}}var ou={readContext:Aa,useCallback:xo,useContext:xo,useEffect:xo,useImperativeHandle:xo,useInsertionEffect:xo,useLayoutEffect:xo,useMemo:xo,useReducer:xo,useRef:xo,useState:xo,useDebugValue:xo,useDeferredValue:xo,useTransition:xo,useMutableSource:xo,useSyncExternalStore:xo,useId:xo,unstable_isNewReconciler:!1},uu={readContext:Aa,useCallback:function(e,t){return Eo().memoizedState=[e,void 0===t?null:t],e},useContext:Aa,useEffect:Wo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Uo(4194308,4,Go.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Uo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Uo(4,2,e,t)},useMemo:function(e,t){var n=Eo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Eo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=tu.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Eo().memoizedState=e},useState:Po,useDebugValue:Xo,useDeferredValue:function(e){return Eo().memoizedState=e},useTransition:function(){var e=Po(!1),t=e[0];return e=Jo.bind(null,e[1]),Eo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=Eo();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===js)throw Error(a(349));0!==(30&po)||zo(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Wo(Do.bind(null,r,o,e),[e]),r.flags|=2048,Lo(9,No.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Eo(),t=js.identifierPrefix;if(ia){var n=Ki;t=":"+t+"R"+(n=(Qi&~(1<<32-ot(Qi)-1)).toString(32)+n),0<(n=go++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},su={readContext:Aa,useCallback:Qo,useContext:Aa,useEffect:Yo,useImperativeHandle:$o,useInsertionEffect:Ho,useLayoutEffect:qo,useMemo:Ko,useReducer:To,useRef:Ro,useState:function(){return To(Io)},useDebugValue:Xo,useDeferredValue:function(e){return Zo(Oo(),mo.memoizedState,e)},useTransition:function(){return[To(Io)[0],Oo().memoizedState]},useMutableSource:Co,useSyncExternalStore:Mo,useId:eu,unstable_isNewReconciler:!1},lu={readContext:Aa,useCallback:Qo,useContext:Aa,useEffect:Yo,useImperativeHandle:$o,useInsertionEffect:Ho,useLayoutEffect:qo,useMemo:Ko,useReducer:jo,useRef:Ro,useState:function(){return jo(Io)},useDebugValue:Xo,useDeferredValue:function(e){var t=Oo();return null===mo?t.memoizedState=e:Zo(t,mo.memoizedState,e)},useTransition:function(){return[jo(Io)[0],Oo().memoizedState]},useMutableSource:Co,useSyncExternalStore:Mo,useId:eu,unstable_isNewReconciler:!1};function cu(e,t){try{var n="",r=t;do{n+=U(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fu(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function du(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var hu="function"===typeof WeakMap?WeakMap:Map;function pu(e,t,n){(n=za(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hs||(Hs=!0,qs=r),du(0,t)},n}function vu(e,t,n){(n=za(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){du(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){du(0,t),"function"!==typeof r&&(null===Gs?Gs=new Set([this]):Gs.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function mu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new hu;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=El.bind(null,e,t,n),t.then(e,e))}function yu(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function _u(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=za(-1,1)).tag=2,Na(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var bu=g.ReactCurrentOwner,gu=!1;function wu(e,t,n,r){t.child=null===e?Ka(t,null,n,r):Qa(t,e.child,n,r)}function xu(e,t,n,r,i){n=n.render;var a=t.ref;return Sa(t,i),r=So(e,t,n,r,a,i),n=Ao(),null===e||gu?(ia&&n&&ea(t),t.flags|=1,wu(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hu(e,t,i))}function ku(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||zl(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Dl(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Su(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:sr)(o,r)&&e.ref===t.ref)return Hu(e,t,i)}return t.flags|=1,(e=Nl(a,r)).ref=t.ref,e.return=t,t.child=e}function Su(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(sr(a,r)&&e.ref===t.ref){if(gu=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Hu(e,t,i);0!==(131072&e.flags)&&(gu=!0)}}return Ou(e,t,n,r,i)}function Au(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ei(Ns,zs),zs|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ei(Ns,zs),zs|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ei(Ns,zs),zs|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ei(Ns,zs),zs|=r;return wu(e,t,i,n),t.child}function Eu(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ou(e,t,n,r,i){var a=Mi(n)?ji:Ii.current;return a=Ci(t,a),Sa(t,i),n=So(e,t,n,r,a,i),r=Ao(),null===e||gu?(ia&&r&&ea(t),t.flags|=1,wu(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hu(e,t,i))}function Iu(e,t,n,r,i){if(Mi(n)){var a=!0;Bi(t)}else a=!1;if(Sa(t,i),null===t.stateNode)Yu(e,t),Wa(t,n,r),Ha(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,l=n.contextType;"object"===typeof l&&null!==l?l=Aa(l):l=Ci(t,l=Mi(n)?ji:Ii.current);var c=n.getDerivedStateFromProps,f="function"===typeof c||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==l)&&Ya(t,o,r,l),ja=!1;var d=t.memoizedState;o.state=d,Fa(t,r,o,i),s=t.memoizedState,u!==r||d!==s||Ti.current||ja?("function"===typeof c&&(Ra(t,n,c,r),s=t.memoizedState),(u=ja||Va(t,n,u,r,d,s,l))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=l,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Ma(e,t),u=t.memoizedProps,l=t.type===t.elementType?u:ma(t.type,u),o.props=l,f=t.pendingProps,d=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=Aa(s):s=Ci(t,s=Mi(n)?ji:Ii.current);var h=n.getDerivedStateFromProps;(c="function"===typeof h||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||d!==s)&&Ya(t,o,r,s),ja=!1,d=t.memoizedState,o.state=d,Fa(t,r,o,i);var p=t.memoizedState;u!==f||d!==p||Ti.current||ja?("function"===typeof h&&(Ra(t,n,h,r),p=t.memoizedState),(l=ja||Va(t,n,l,r,d,p,s)||!1)?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=l):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Tu(e,t,n,r,a,i)}function Tu(e,t,n,r,i,a){Eu(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Fi(t,n,!1),Hu(e,t,a);r=t.stateNode,bu.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Qa(t,e.child,null,a),t.child=Qa(t,null,u,a)):wu(e,t,u,a),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function ju(e){var t=e.stateNode;t.pendingContext?Ni(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ni(0,t.context,!1),ro(e,t.containerInfo)}function Cu(e,t,n,r,i){return ha(),pa(i),t.flags|=256,wu(e,t,n,r),t.child}var Mu,zu,Nu,Du,Bu={dehydrated:null,treeContext:null,retryLane:0};function Fu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Pu(e,t,n){var r,i=t.pendingProps,o=uo.current,u=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(u=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ei(uo,1&o),null===e)return la(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(s=i.children,e=i.fallback,u?(i=t.mode,u=t.child,s={mode:"hidden",children:s},0===(1&i)&&null!==u?(u.childLanes=0,u.pendingProps=s):u=Fl(s,i,0,null),e=Bl(e,i,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=Fu(n),t.memoizedState=Bu,e):Lu(t,s));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,u){if(n)return 256&t.flags?(t.flags&=-257,Ru(e,t,u,r=fu(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Fl({mode:"visible",children:r.children},i,0,null),(o=Bl(o,i,u,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Qa(t,e.child,null,u),t.child.memoizedState=Fu(u),t.memoizedState=Bu,o);if(0===(1&t.mode))return Ru(e,t,u,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var s=r.dgst;return r=s,Ru(e,t,u,r=fu(o=Error(a(419)),r,void 0))}if(s=0!==(u&e.childLanes),gu||s){if(null!==(r=js)){switch(u&-u){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|u))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Ta(e,i),rl(r,e,i,-1))}return ml(),Ru(e,t,u,r=fu(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Il.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=li(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Gi[$i++]=Qi,Gi[$i++]=Ki,Gi[$i++]=Xi,Qi=e.id,Ki=e.overflow,Xi=t),t=Lu(t,r.children),t.flags|=4096,t)}(e,t,s,i,r,o,n);if(u){u=i.fallback,s=t.mode,r=(o=e.child).sibling;var l={mode:"hidden",children:i.children};return 0===(1&s)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=l,t.deletions=null):(i=Nl(o,l)).subtreeFlags=14680064&o.subtreeFlags,null!==r?u=Nl(r,u):(u=Bl(u,s,n,null)).flags|=2,u.return=t,i.return=t,i.sibling=u,t.child=i,i=u,u=t.child,s=null===(s=e.child.memoizedState)?Fu(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},u.memoizedState=s,u.childLanes=e.childLanes&~n,t.memoizedState=Bu,i}return e=(u=e.child).sibling,i=Nl(u,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Lu(e,t){return(t=Fl({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ru(e,t,n,r){return null!==r&&pa(r),Qa(t,e.child,null,n),(e=Lu(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Uu(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),ka(e.return,t,n)}function Vu(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Wu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(wu(e,t,r.children,n),0!==(2&(r=uo.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Uu(e,n,t);else if(19===e.tag)Uu(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ei(uo,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===so(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Vu(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===so(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Vu(t,!0,n,null,a);break;case"together":Vu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Yu(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Hu(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Fs|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Nl(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Nl(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function qu(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Gu(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function $u(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gu(t),null;case 1:case 17:return Mi(t.type)&&zi(),Gu(t),null;case 3:return r=t.stateNode,io(),Ai(Ti),Ai(Ii),co(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(ul(aa),aa=null))),zu(e,t),Gu(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Nu(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Gu(t),null}if(e=no(Ja.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[di]=t,r[hi]=o,e=0!==(1&t.mode),n){case"dialog":Lr("cancel",r),Lr("close",r);break;case"iframe":case"object":case"embed":Lr("load",r);break;case"video":case"audio":for(i=0;i<Dr.length;i++)Lr(Dr[i],r);break;case"source":Lr("error",r);break;case"img":case"image":case"link":Lr("error",r),Lr("load",r);break;case"details":Lr("toggle",r);break;case"input":Q(r,o),Lr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Lr("invalid",r);break;case"textarea":ie(r,o),Lr("invalid",r)}for(var s in _e(n,o),i=null,o)if(o.hasOwnProperty(s)){var l=o[s];"children"===s?"string"===typeof l?r.textContent!==l&&(!0!==o.suppressHydrationWarning&&Zr(r.textContent,l,e),i=["children",l]):"number"===typeof l&&r.textContent!==""+l&&(!0!==o.suppressHydrationWarning&&Zr(r.textContent,l,e),i=["children",""+l]):u.hasOwnProperty(s)&&null!=l&&"onScroll"===s&&Lr("scroll",r)}switch(n){case"input":q(r),J(r,o,!0);break;case"textarea":q(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Jr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ue(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[di]=t,e[hi]=r,Mu(e,t,!1,!1),t.stateNode=e;e:{switch(s=be(n,r),n){case"dialog":Lr("cancel",e),Lr("close",e),i=r;break;case"iframe":case"object":case"embed":Lr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Dr.length;i++)Lr(Dr[i],e);i=r;break;case"source":Lr("error",e),i=r;break;case"img":case"image":case"link":Lr("error",e),Lr("load",e),i=r;break;case"details":Lr("toggle",e),i=r;break;case"input":Q(e,r),i=X(e,r),Lr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),Lr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Lr("invalid",e)}for(o in _e(n,i),l=i)if(l.hasOwnProperty(o)){var c=l[o];"style"===o?me(e,c):"dangerouslySetInnerHTML"===o?null!=(c=c?c.__html:void 0)&&fe(e,c):"children"===o?"string"===typeof c?("textarea"!==n||""!==c)&&de(e,c):"number"===typeof c&&de(e,""+c):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(u.hasOwnProperty(o)?null!=c&&"onScroll"===o&&Lr("scroll",e):null!=c&&b(e,o,c,s))}switch(n){case"input":q(e),J(e,r,!1);break;case"textarea":q(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Y(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Jr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Gu(t),null;case 6:if(e&&null!=t.stateNode)Du(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no(Ja.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[di]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Zr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Zr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[di]=t,t.stateNode=r}return Gu(t),null;case 13:if(Ai(uo),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))da(),ha(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[di]=t}else ha(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Gu(t),o=!1}else null!==aa&&(ul(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&uo.current)?0===Ds&&(Ds=3):ml())),null!==t.updateQueue&&(t.flags|=4),Gu(t),null);case 4:return io(),zu(e,t),null===e&&Vr(t.stateNode.containerInfo),Gu(t),null;case 10:return xa(t.type._context),Gu(t),null;case 19:if(Ai(uo),null===(o=t.memoizedState))return Gu(t),null;if(r=0!==(128&t.flags),null===(s=o.rendering))if(r)qu(o,!1);else{if(0!==Ds||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=so(e))){for(t.flags|=128,qu(o,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(s=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ei(uo,1&uo.current|2),t.child}e=e.sibling}null!==o.tail&&Ke()>Ws&&(t.flags|=128,r=!0,qu(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=so(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),qu(o,!0),null===o.tail&&"hidden"===o.tailMode&&!s.alternate&&!ia)return Gu(t),null}else 2*Ke()-o.renderingStartTime>Ws&&1073741824!==n&&(t.flags|=128,r=!0,qu(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=o.last)?n.sibling=s:t.child=s,o.last=s)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ke(),t.sibling=null,n=uo.current,Ei(uo,r?1&n|2:1&n),t):(Gu(t),null);case 22:case 23:return dl(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&zs)&&(Gu(t),6&t.subtreeFlags&&(t.flags|=8192)):Gu(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Xu(e,t){switch(ta(t),t.tag){case 1:return Mi(t.type)&&zi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Ai(Ti),Ai(Ii),co(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Ai(uo),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));ha()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ai(uo),null;case 4:return io(),null;case 10:return xa(t.type._context),null;case 22:case 23:return dl(),null;default:return null}}Mu=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},zu=function(){},Nu=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Ja.current);var a,o=null;switch(n){case"input":i=X(e,i),r=X(e,r),o=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Jr)}for(c in _e(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var s=i[c];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(u.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(s=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&l!==s&&(null!=l||null!=s))if("style"===c)if(s){for(a in s)!s.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&s[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(o||(o=[]),o.push(c,n)),n=l;else"dangerouslySetInnerHTML"===c?(l=l?l.__html:void 0,s=s?s.__html:void 0,null!=l&&s!==l&&(o=o||[]).push(c,l)):"children"===c?"string"!==typeof l&&"number"!==typeof l||(o=o||[]).push(c,""+l):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(u.hasOwnProperty(c)?(null!=l&&"onScroll"===c&&Lr("scroll",e),o||s===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(t.updateQueue=c)&&(t.flags|=4)}},Du=function(e,t,n,r){n!==r&&(t.flags|=4)};var Qu=!1,Ku=!1,Zu="function"===typeof WeakSet?WeakSet:Set,Ju=null;function es(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Al(e,t,r)}else n.current=null}function ts(e,t,n){try{n()}catch(r){Al(e,t,r)}}var ns=!1;function rs(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&ts(t,n,a)}i=i.next}while(i!==r)}}function is(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function as(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function os(e){var t=e.alternate;null!==t&&(e.alternate=null,os(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[di],delete t[hi],delete t[vi],delete t[mi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function us(e){return 5===e.tag||3===e.tag||4===e.tag}function ss(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||us(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ls(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Jr));else if(4!==r&&null!==(e=e.child))for(ls(e,t,n),e=e.sibling;null!==e;)ls(e,t,n),e=e.sibling}function cs(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cs(e,t,n),e=e.sibling;null!==e;)cs(e,t,n),e=e.sibling}var fs=null,ds=!1;function hs(e,t,n){for(n=n.child;null!==n;)ps(e,t,n),n=n.sibling}function ps(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(u){}switch(n.tag){case 5:Ku||es(n,t);case 6:var r=fs,i=ds;fs=null,hs(e,t,n),ds=i,null!==(fs=r)&&(ds?(e=fs,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):fs.removeChild(n.stateNode));break;case 18:null!==fs&&(ds?(e=fs,n=n.stateNode,8===e.nodeType?si(e.parentNode,n):1===e.nodeType&&si(e,n),Vt(e)):si(fs,n.stateNode));break;case 4:r=fs,i=ds,fs=n.stateNode.containerInfo,ds=!0,hs(e,t,n),fs=r,ds=i;break;case 0:case 11:case 14:case 15:if(!Ku&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&ts(n,t,o),i=i.next}while(i!==r)}hs(e,t,n);break;case 1:if(!Ku&&(es(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){Al(n,t,u)}hs(e,t,n);break;case 21:hs(e,t,n);break;case 22:1&n.mode?(Ku=(r=Ku)||null!==n.memoizedState,hs(e,t,n),Ku=r):hs(e,t,n);break;default:hs(e,t,n)}}function vs(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Zu),t.forEach((function(t){var r=Tl.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ms(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,u=t,s=u;e:for(;null!==s;){switch(s.tag){case 5:fs=s.stateNode,ds=!1;break e;case 3:case 4:fs=s.stateNode.containerInfo,ds=!0;break e}s=s.return}if(null===fs)throw Error(a(160));ps(o,u,i),fs=null,ds=!1;var l=i.alternate;null!==l&&(l.return=null),i.return=null}catch(c){Al(i,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ys(t,e),t=t.sibling}function ys(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ms(t,e),_s(e),4&r){try{rs(3,e,e.return),is(3,e)}catch(m){Al(e,e.return,m)}try{rs(5,e,e.return)}catch(m){Al(e,e.return,m)}}break;case 1:ms(t,e),_s(e),512&r&&null!==n&&es(n,n.return);break;case 5:if(ms(t,e),_s(e),512&r&&null!==n&&es(n,n.return),32&e.flags){var i=e.stateNode;try{de(i,"")}catch(m){Al(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,u=null!==n?n.memoizedProps:o,s=e.type,l=e.updateQueue;if(e.updateQueue=null,null!==l)try{"input"===s&&"radio"===o.type&&null!=o.name&&K(i,o),be(s,u);var c=be(s,o);for(u=0;u<l.length;u+=2){var f=l[u],d=l[u+1];"style"===f?me(i,d):"dangerouslySetInnerHTML"===f?fe(i,d):"children"===f?de(i,d):b(i,f,d,c)}switch(s){case"input":Z(i,o);break;case"textarea":ae(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):h!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[hi]=o}catch(m){Al(e,e.return,m)}}break;case 6:if(ms(t,e),_s(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){Al(e,e.return,m)}}break;case 3:if(ms(t,e),_s(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Vt(t.containerInfo)}catch(m){Al(e,e.return,m)}break;case 4:default:ms(t,e),_s(e);break;case 13:ms(t,e),_s(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Vs=Ke())),4&r&&vs(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Ku=(c=Ku)||f,ms(t,e),Ku=c):ms(t,e),_s(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!f&&0!==(1&e.mode))for(Ju=e,f=e.child;null!==f;){for(d=Ju=f;null!==Ju;){switch(p=(h=Ju).child,h.tag){case 0:case 11:case 14:case 15:rs(4,h,h.return);break;case 1:es(h,h.return);var v=h.stateNode;if("function"===typeof v.componentWillUnmount){r=h,n=h.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){Al(r,n,m)}}break;case 5:es(h,h.return);break;case 22:if(null!==h.memoizedState){xs(d);continue}}null!==p?(p.return=h,Ju=p):xs(d)}f=f.sibling}e:for(f=null,d=e;;){if(5===d.tag){if(null===f){f=d;try{i=d.stateNode,c?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(s=d.stateNode,u=void 0!==(l=d.memoizedProps.style)&&null!==l&&l.hasOwnProperty("display")?l.display:null,s.style.display=ve("display",u))}catch(m){Al(e,e.return,m)}}}else if(6===d.tag){if(null===f)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(m){Al(e,e.return,m)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:ms(t,e),_s(e),4&r&&vs(e);case 21:}}function _s(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(us(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(de(i,""),r.flags&=-33),cs(e,ss(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;ls(e,ss(e),o);break;default:throw Error(a(161))}}catch(u){Al(e,e.return,u)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bs(e,t,n){Ju=e,gs(e,t,n)}function gs(e,t,n){for(var r=0!==(1&e.mode);null!==Ju;){var i=Ju,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Qu;if(!o){var u=i.alternate,s=null!==u&&null!==u.memoizedState||Ku;u=Qu;var l=Ku;if(Qu=o,(Ku=s)&&!l)for(Ju=i;null!==Ju;)s=(o=Ju).child,22===o.tag&&null!==o.memoizedState?ks(i):null!==s?(s.return=o,Ju=s):ks(i);for(;null!==a;)Ju=a,gs(a,t,n),a=a.sibling;Ju=i,Qu=u,Ku=l}ws(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Ju=a):ws(e)}}function ws(e){for(;null!==Ju;){var t=Ju;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ku||is(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ku)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ma(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Pa(t,o,r);break;case 3:var u=t.updateQueue;if(null!==u){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Pa(t,u,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var f=c.memoizedState;if(null!==f){var d=f.dehydrated;null!==d&&Vt(d)}}}break;default:throw Error(a(163))}Ku||512&t.flags&&as(t)}catch(h){Al(t,t.return,h)}}if(t===e){Ju=null;break}if(null!==(n=t.sibling)){n.return=t.return,Ju=n;break}Ju=t.return}}function xs(e){for(;null!==Ju;){var t=Ju;if(t===e){Ju=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Ju=n;break}Ju=t.return}}function ks(e){for(;null!==Ju;){var t=Ju;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{is(4,t)}catch(s){Al(t,n,s)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(s){Al(t,i,s)}}var a=t.return;try{as(t)}catch(s){Al(t,a,s)}break;case 5:var o=t.return;try{as(t)}catch(s){Al(t,o,s)}}}catch(s){Al(t,t.return,s)}if(t===e){Ju=null;break}var u=t.sibling;if(null!==u){u.return=t.return,Ju=u;break}Ju=t.return}}var Ss,As=Math.ceil,Es=g.ReactCurrentDispatcher,Os=g.ReactCurrentOwner,Is=g.ReactCurrentBatchConfig,Ts=0,js=null,Cs=null,Ms=0,zs=0,Ns=Si(0),Ds=0,Bs=null,Fs=0,Ps=0,Ls=0,Rs=null,Us=null,Vs=0,Ws=1/0,Ys=null,Hs=!1,qs=null,Gs=null,$s=!1,Xs=null,Qs=0,Ks=0,Zs=null,Js=-1,el=0;function tl(){return 0!==(6&Ts)?Ke():-1!==Js?Js:Js=Ke()}function nl(e){return 0===(1&e.mode)?1:0!==(2&Ts)&&0!==Ms?Ms&-Ms:null!==va.transition?(0===el&&(el=vt()),el):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Qt(e.type)}function rl(e,t,n,r){if(50<Ks)throw Ks=0,Zs=null,Error(a(185));yt(e,n,r),0!==(2&Ts)&&e===js||(e===js&&(0===(2&Ts)&&(Ps|=n),4===Ds&&sl(e,Ms)),il(e,r),1===n&&0===Ts&&0===(1&t.mode)&&(Ws=Ke()+500,Li&&Vi()))}function il(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),u=1<<o,s=i[o];-1===s?0!==(u&n)&&0===(u&r)||(i[o]=ht(u,t)):s<=t&&(e.expiredLanes|=u),a&=~u}}(e,t);var r=dt(e,e===js?Ms:0);if(0===r)null!==n&&$e(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&$e(n),1===t)0===e.tag?function(e){Li=!0,Ui(e)}(ll.bind(null,e)):Ui(ll.bind(null,e)),oi((function(){0===(6&Ts)&&Vi()})),n=null;else{switch(gt(r)){case 1:n=Je;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=jl(n,al.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function al(e,t){if(Js=-1,el=0,0!==(6&Ts))throw Error(a(327));var n=e.callbackNode;if(kl()&&e.callbackNode!==n)return null;var r=dt(e,e===js?Ms:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=yl(e,r);else{t=r;var i=Ts;Ts|=2;var o=vl();for(js===e&&Ms===t||(Ys=null,Ws=Ke()+500,hl(e,t));;)try{bl();break}catch(s){pl(e,s)}wa(),Es.current=o,Ts=i,null!==Cs?t=0:(js=null,Ms=0,t=Ds)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ol(e,i))),1===t)throw n=Bs,hl(e,0),sl(e,r),il(e,Ke()),n;if(6===t)sl(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ur(a(),i))return!1}catch(u){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=yl(e,r))&&(0!==(o=pt(e))&&(r=o,t=ol(e,o))),1===t))throw n=Bs,hl(e,0),sl(e,r),il(e,Ke()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:xl(e,Us,Ys);break;case 3:if(sl(e,r),(130023424&r)===r&&10<(t=Vs+500-Ke())){if(0!==dt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tl(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(xl.bind(null,e,Us,Ys),t);break}xl(e,Us,Ys);break;case 4:if(sl(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var u=31-ot(r);o=1<<u,(u=t[u])>i&&(i=u),r&=~o}if(r=i,10<(r=(120>(r=Ke()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*As(r/1960))-r)){e.timeoutHandle=ri(xl.bind(null,e,Us,Ys),r);break}xl(e,Us,Ys);break;default:throw Error(a(329))}}}return il(e,Ke()),e.callbackNode===n?al.bind(null,e):null}function ol(e,t){var n=Rs;return e.current.memoizedState.isDehydrated&&(hl(e,t).flags|=256),2!==(e=yl(e,t))&&(t=Us,Us=n,null!==t&&ul(t)),e}function ul(e){null===Us?Us=e:Us.push.apply(Us,e)}function sl(e,t){for(t&=~Ls,t&=~Ps,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function ll(e){if(0!==(6&Ts))throw Error(a(327));kl();var t=dt(e,0);if(0===(1&t))return il(e,Ke()),null;var n=yl(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ol(e,r))}if(1===n)throw n=Bs,hl(e,0),sl(e,t),il(e,Ke()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xl(e,Us,Ys),il(e,Ke()),null}function cl(e,t){var n=Ts;Ts|=1;try{return e(t)}finally{0===(Ts=n)&&(Ws=Ke()+500,Li&&Vi())}}function fl(e){null!==Xs&&0===Xs.tag&&0===(6&Ts)&&kl();var t=Ts;Ts|=1;var n=Is.transition,r=bt;try{if(Is.transition=null,bt=1,e)return e()}finally{bt=r,Is.transition=n,0===(6&(Ts=t))&&Vi()}}function dl(){zs=Ns.current,Ai(Ns)}function hl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Cs)for(n=Cs.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&zi();break;case 3:io(),Ai(Ti),Ai(Ii),co();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Ai(uo);break;case 10:xa(r.type._context);break;case 22:case 23:dl()}n=n.return}if(js=e,Cs=e=Nl(e.current,null),Ms=zs=t,Ds=0,Bs=null,Ls=Ps=Fs=0,Us=Rs=null,null!==Ea){for(t=0;t<Ea.length;t++)if(null!==(r=(n=Ea[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Ea=null}return e}function pl(e,t){for(;;){var n=Cs;try{if(wa(),fo.current=ou,_o){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}_o=!1}if(po=0,yo=mo=vo=null,bo=!1,go=0,Os.current=null,null===n||null===n.return){Ds=1,Bs=t,Cs=null;break}e:{var o=e,u=n.return,s=n,l=t;if(t=Ms,s.flags|=32768,null!==l&&"object"===typeof l&&"function"===typeof l.then){var c=l,f=s,d=f.tag;if(0===(1&f.mode)&&(0===d||11===d||15===d)){var h=f.alternate;h?(f.updateQueue=h.updateQueue,f.memoizedState=h.memoizedState,f.lanes=h.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=yu(u);if(null!==p){p.flags&=-257,_u(p,u,s,0,t),1&p.mode&&mu(o,c,t),l=c;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(l),t.updateQueue=m}else v.add(l);break e}if(0===(1&t)){mu(o,c,t),ml();break e}l=Error(a(426))}else if(ia&&1&s.mode){var y=yu(u);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),_u(y,u,s,0,t),pa(cu(l,s));break e}}o=l=cu(l,s),4!==Ds&&(Ds=2),null===Rs?Rs=[o]:Rs.push(o),o=u;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ba(o,pu(0,l,t));break e;case 1:s=l;var _=o.type,b=o.stateNode;if(0===(128&o.flags)&&("function"===typeof _.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Gs||!Gs.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t,Ba(o,vu(o,s,t));break e}}o=o.return}while(null!==o)}wl(n)}catch(g){t=g,Cs===n&&null!==n&&(Cs=n=n.return);continue}break}}function vl(){var e=Es.current;return Es.current=ou,null===e?ou:e}function ml(){0!==Ds&&3!==Ds&&2!==Ds||(Ds=4),null===js||0===(268435455&Fs)&&0===(268435455&Ps)||sl(js,Ms)}function yl(e,t){var n=Ts;Ts|=2;var r=vl();for(js===e&&Ms===t||(Ys=null,hl(e,t));;)try{_l();break}catch(i){pl(e,i)}if(wa(),Ts=n,Es.current=r,null!==Cs)throw Error(a(261));return js=null,Ms=0,Ds}function _l(){for(;null!==Cs;)gl(Cs)}function bl(){for(;null!==Cs&&!Xe();)gl(Cs)}function gl(e){var t=Ss(e.alternate,e,zs);e.memoizedProps=e.pendingProps,null===t?wl(e):Cs=t,Os.current=null}function wl(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=$u(n,t,zs)))return void(Cs=n)}else{if(null!==(n=Xu(n,t)))return n.flags&=32767,void(Cs=n);if(null===e)return Ds=6,void(Cs=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Cs=t);Cs=t=e}while(null!==t);0===Ds&&(Ds=5)}function xl(e,t,n){var r=bt,i=Is.transition;try{Is.transition=null,bt=1,function(e,t,n,r){do{kl()}while(null!==Xs);if(0!==(6&Ts))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===js&&(Cs=js=null,Ms=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||$s||($s=!0,jl(tt,(function(){return kl(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Is.transition,Is.transition=null;var u=bt;bt=1;var s=Ts;Ts|=4,Os.current=null,function(e,t){if(ei=Yt,hr(e=dr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var u=0,s=-1,l=-1,c=0,f=0,d=e,h=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(s=u+i),d!==o||0!==r&&3!==d.nodeType||(l=u+r),3===d.nodeType&&(u+=d.nodeValue.length),null!==(p=d.firstChild);)h=d,d=p;for(;;){if(d===e)break t;if(h===n&&++c===i&&(s=u),h===o&&++f===r&&(l=u),null!==(p=d.nextSibling))break;h=(d=h).parentNode}d=p}n=-1===s||-1===l?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Yt=!1,Ju=t;null!==Ju;)if(e=(t=Ju).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Ju=e;else for(;null!==Ju;){t=Ju;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,y=v.memoizedState,_=t.stateNode,b=_.getSnapshotBeforeUpdate(t.elementType===t.type?m:ma(t.type,m),y);_.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var g=t.stateNode.containerInfo;1===g.nodeType?g.textContent="":9===g.nodeType&&g.documentElement&&g.removeChild(g.documentElement);break;default:throw Error(a(163))}}catch(w){Al(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Ju=e;break}Ju=t.return}v=ns,ns=!1}(e,n),ys(n,e),pr(ti),Yt=!!ei,ti=ei=null,e.current=n,bs(n,e,i),Qe(),Ts=s,bt=u,Is.transition=o}else e.current=n;if($s&&($s=!1,Xs=e,Qs=i),o=e.pendingLanes,0===o&&(Gs=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),il(e,Ke()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Hs)throw Hs=!1,e=qs,qs=null,e;0!==(1&Qs)&&0!==e.tag&&kl(),o=e.pendingLanes,0!==(1&o)?e===Zs?Ks++:(Ks=0,Zs=e):Ks=0,Vi()}(e,t,n,r)}finally{Is.transition=i,bt=r}return null}function kl(){if(null!==Xs){var e=gt(Qs),t=Is.transition,n=bt;try{if(Is.transition=null,bt=16>e?16:e,null===Xs)var r=!1;else{if(e=Xs,Xs=null,Qs=0,0!==(6&Ts))throw Error(a(331));var i=Ts;for(Ts|=4,Ju=e.current;null!==Ju;){var o=Ju,u=o.child;if(0!==(16&Ju.flags)){var s=o.deletions;if(null!==s){for(var l=0;l<s.length;l++){var c=s[l];for(Ju=c;null!==Ju;){var f=Ju;switch(f.tag){case 0:case 11:case 15:rs(8,f,o)}var d=f.child;if(null!==d)d.return=f,Ju=d;else for(;null!==Ju;){var h=(f=Ju).sibling,p=f.return;if(os(f),f===c){Ju=null;break}if(null!==h){h.return=p,Ju=h;break}Ju=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Ju=o}}if(0!==(2064&o.subtreeFlags)&&null!==u)u.return=o,Ju=u;else e:for(;null!==Ju;){if(0!==(2048&(o=Ju).flags))switch(o.tag){case 0:case 11:case 15:rs(9,o,o.return)}var _=o.sibling;if(null!==_){_.return=o.return,Ju=_;break e}Ju=o.return}}var b=e.current;for(Ju=b;null!==Ju;){var g=(u=Ju).child;if(0!==(2064&u.subtreeFlags)&&null!==g)g.return=u,Ju=g;else e:for(u=b;null!==Ju;){if(0!==(2048&(s=Ju).flags))try{switch(s.tag){case 0:case 11:case 15:is(9,s)}}catch(x){Al(s,s.return,x)}if(s===u){Ju=null;break e}var w=s.sibling;if(null!==w){w.return=s.return,Ju=w;break e}Ju=s.return}}if(Ts=i,Vi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(x){}r=!0}return r}finally{bt=n,Is.transition=t}}return!1}function Sl(e,t,n){e=Na(e,t=pu(0,t=cu(n,t),1),1),t=tl(),null!==e&&(yt(e,1,t),il(e,t))}function Al(e,t,n){if(3===e.tag)Sl(e,e,n);else for(;null!==t;){if(3===t.tag){Sl(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Gs||!Gs.has(r))){t=Na(t,e=vu(t,e=cu(n,e),1),1),e=tl(),null!==t&&(yt(t,1,e),il(t,e));break}}t=t.return}}function El(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tl(),e.pingedLanes|=e.suspendedLanes&n,js===e&&(Ms&n)===n&&(4===Ds||3===Ds&&(130023424&Ms)===Ms&&500>Ke()-Vs?hl(e,0):Ls|=n),il(e,t)}function Ol(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=tl();null!==(e=Ta(e,t))&&(yt(e,t,n),il(e,n))}function Il(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ol(e,n)}function Tl(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Ol(e,n)}function jl(e,t){return Ge(e,t)}function Cl(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ml(e,t,n,r){return new Cl(e,t,n,r)}function zl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Nl(e,t){var n=e.alternate;return null===n?((n=Ml(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Dl(e,t,n,r,i,o){var u=2;if(r=e,"function"===typeof e)zl(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case k:return Bl(n.children,i,o,t);case S:u=8,i|=8;break;case A:return(e=Ml(12,n,t,2|i)).elementType=A,e.lanes=o,e;case T:return(e=Ml(13,n,t,i)).elementType=T,e.lanes=o,e;case j:return(e=Ml(19,n,t,i)).elementType=j,e.lanes=o,e;case z:return Fl(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case E:u=10;break e;case O:u=9;break e;case I:u=11;break e;case C:u=14;break e;case M:u=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Ml(u,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Bl(e,t,n,r){return(e=Ml(7,e,r,t)).lanes=n,e}function Fl(e,t,n,r){return(e=Ml(22,e,r,t)).elementType=z,e.lanes=n,e.stateNode={isHidden:!1},e}function Pl(e,t,n){return(e=Ml(6,e,null,t)).lanes=n,e}function Ll(e,t,n){return(t=Ml(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Rl(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Ul(e,t,n,r,i,a,o,u,s){return e=new Rl(e,t,n,u,s),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Ml(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ca(a),e}function Vl(e){if(!e)return Oi;e:{if(Ve(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Mi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Mi(n))return Di(e,n,t)}return t}function Wl(e,t,n,r,i,a,o,u,s){return(e=Ul(n,r,!0,e,0,a,0,u,s)).context=Vl(null),n=e.current,(a=za(r=tl(),i=nl(n))).callback=void 0!==t&&null!==t?t:null,Na(n,a,i),e.current.lanes=i,yt(e,i,r),il(e,r),e}function Yl(e,t,n,r){var i=t.current,a=tl(),o=nl(i);return n=Vl(n),null===t.context?t.context=n:t.pendingContext=n,(t=za(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Na(i,t,o))&&(rl(e,i,o,a),Da(e,i,o)),o}function Hl(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function ql(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gl(e,t){ql(e,t),(e=e.alternate)&&ql(e,t)}Ss=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ti.current)gu=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return gu=!1,function(e,t,n){switch(t.tag){case 3:ju(t),ha();break;case 5:ao(t);break;case 1:Mi(t.type)&&Bi(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ei(ya,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ei(uo,1&uo.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Pu(e,t,n):(Ei(uo,1&uo.current),null!==(e=Hu(e,t,n))?e.sibling:null);Ei(uo,1&uo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Wu(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ei(uo,uo.current),r)break;return null;case 22:case 23:return t.lanes=0,Au(e,t,n)}return Hu(e,t,n)}(e,t,n);gu=0!==(131072&e.flags)}else gu=!1,ia&&0!==(1048576&t.flags)&&Ji(t,qi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Yu(e,t),e=t.pendingProps;var i=Ci(t,Ii.current);Sa(t,n),i=So(null,t,r,e,i,n);var o=Ao();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Mi(r)?(o=!0,Bi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ca(t),i.updater=Ua,t.stateNode=i,i._reactInternals=t,Ha(t,r,e,n),t=Tu(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),wu(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Yu(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return zl(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===I)return 11;if(e===C)return 14}return 2}(r),e=ma(r,e),i){case 0:t=Ou(null,t,r,e,n);break e;case 1:t=Iu(null,t,r,e,n);break e;case 11:t=xu(null,t,r,e,n);break e;case 14:t=ku(null,t,r,ma(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ou(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 1:return r=t.type,i=t.pendingProps,Iu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 3:e:{if(ju(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Ma(e,t),Fa(t,r,null,n);var u=t.memoizedState;if(r=u.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Cu(e,t,r,n,i=cu(Error(a(423)),t));break e}if(r!==i){t=Cu(e,t,r,n,i=cu(Error(a(424)),t));break e}for(ra=li(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Ka(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ha(),r===i){t=Hu(e,t,n);break e}wu(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&la(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,u=i.children,ni(r,i)?u=null:null!==o&&ni(r,o)&&(t.flags|=32),Eu(e,t),wu(e,t,u,n),t.child;case 6:return null===e&&la(t),null;case 13:return Pu(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Qa(t,null,r,n):wu(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,xu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 7:return wu(e,t,t.pendingProps,n),t.child;case 8:case 12:return wu(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,u=i.value,Ei(ya,r._currentValue),r._currentValue=u,null!==o)if(ur(o.value,u)){if(o.children===i.children&&!Ti.current){t=Hu(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var s=o.dependencies;if(null!==s){u=o.child;for(var l=s.firstContext;null!==l;){if(l.context===r){if(1===o.tag){(l=za(-1,n&-n)).tag=2;var c=o.updateQueue;if(null!==c){var f=(c=c.shared).pending;null===f?l.next=l:(l.next=f.next,f.next=l),c.pending=l}}o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),ka(o.return,n,t),s.lanes|=n;break}l=l.next}}else if(10===o.tag)u=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(u=o.return))throw Error(a(341));u.lanes|=n,null!==(s=u.alternate)&&(s.lanes|=n),ka(u,n,t),u=o.sibling}else u=o.child;if(null!==u)u.return=o;else for(u=o;null!==u;){if(u===t){u=null;break}if(null!==(o=u.sibling)){o.return=u.return,u=o;break}u=u.return}o=u}wu(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Sa(t,n),r=r(i=Aa(i)),t.flags|=1,wu(e,t,r,n),t.child;case 14:return i=ma(r=t.type,t.pendingProps),ku(e,t,r,i=ma(r.type,i),n);case 15:return Su(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ma(r,i),Yu(e,t),t.tag=1,Mi(r)?(e=!0,Bi(t)):e=!1,Sa(t,n),Wa(t,r,i),Ha(t,r,i,n),Tu(null,t,r,!0,e,n);case 19:return Wu(e,t,n);case 22:return Au(e,t,n)}throw Error(a(156,t.tag))};var $l="function"===typeof reportError?reportError:function(e){console.error(e)};function Xl(e){this._internalRoot=e}function Ql(e){this._internalRoot=e}function Kl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Zl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jl(){}function ec(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var u=i;i=function(){var e=Hl(o);u.call(e)}}Yl(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Hl(o);a.call(e)}}var o=Wl(t,r,e,0,null,!1,0,"",Jl);return e._reactRootContainer=o,e[pi]=o.current,Vr(8===e.nodeType?e.parentNode:e),fl(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var u=r;r=function(){var e=Hl(s);u.call(e)}}var s=Ul(e,0,!1,null,0,!1,0,"",Jl);return e._reactRootContainer=s,e[pi]=s.current,Vr(8===e.nodeType?e.parentNode:e),fl((function(){Yl(t,s,n,r)})),s}(n,t,e,i,r);return Hl(o)}Ql.prototype.render=Xl.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Yl(e,t,null,null)},Ql.prototype.unmount=Xl.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;fl((function(){Yl(null,e,null,null)})),t[pi]=null}},Ql.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<zt.length&&0!==t&&t<zt[n].priority;n++);zt.splice(n,0,e),0===n&&Ft(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(_t(t,1|n),il(t,Ke()),0===(6&Ts)&&(Ws=Ke()+500,Vi()))}break;case 13:fl((function(){var t=Ta(e,1);if(null!==t){var n=tl();rl(t,e,1,n)}})),Gl(e,1)}},xt=function(e){if(13===e.tag){var t=Ta(e,134217728);if(null!==t)rl(t,e,134217728,tl());Gl(e,134217728)}},kt=function(e){if(13===e.tag){var t=nl(e),n=Ta(e,t);if(null!==n)rl(n,e,t,tl());Gl(e,t)}},St=function(){return bt},At=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},xe=function(e,t,n){switch(t){case"input":if(Z(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));G(r),Z(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ie=cl,Te=fl;var tc={usingClientEntryPoint:!1,Events:[bi,gi,wi,Ee,Oe,cl]},nc={findFiberByHostInstance:_i,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rc={bundleType:nc.bundleType,version:nc.version,rendererPackageName:nc.rendererPackageName,rendererConfig:nc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:g.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:nc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ic.isDisabled&&ic.supportsFiber)try{it=ic.inject(rc),at=ic}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tc,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Kl(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Kl(e))throw Error(a(299));var n=!1,r="",i=$l;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Ul(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Vr(8===e.nodeType?e.parentNode:e),new Xl(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return fl(e)},t.hydrate=function(e,t,n){if(!Zl(t))throw Error(a(200));return ec(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Kl(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",u=$l;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(u=n.onRecoverableError)),t=Wl(t,null,e,1,null!=n?n:null,i,0,o,u),e[pi]=t.current,Vr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Ql(t)},t.render=function(e,t,n){if(!Zl(t))throw Error(a(200));return ec(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Zl(e))throw Error(a(40));return!!e._reactRootContainer&&(fl((function(){ec(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=cl,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Zl(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return ec(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:function(e,t,n){var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:function(e,t,n){!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:function(e,t,n){var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,u=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var r,a={},l=null,c=null;for(r in void 0!==n&&(l=""+n),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(c=t.ref),t)o.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:l,ref:c,props:a,_owner:u.current}}t.jsx=l,t.jsxs=l},117:function(e,t){var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),s=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),h=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function _(){}function b(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},_.prototype=y.prototype;var g=b.prototype=new _;g.constructor=b,v(g,y.prototype),g.isPureReactComponent=!0;var w=Array.isArray,x=Object.prototype.hasOwnProperty,k={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function A(e,t,r){var i,a={},o=null,u=null;if(null!=t)for(i in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)x.call(t,i)&&!S.hasOwnProperty(i)&&(a[i]=t[i]);var s=arguments.length-2;if(1===s)a.children=r;else if(1<s){for(var l=Array(s),c=0;c<s;c++)l[c]=arguments[c+2];a.children=l}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===a[i]&&(a[i]=s[i]);return{$$typeof:n,type:e,key:o,ref:u,props:a,_owner:k.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var O=/\/+/g;function I(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function T(e,t,i,a,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case n:case r:s=!0}}if(s)return o=o(s=e),e=""===a?"."+I(s,0):a,w(o)?(i="",null!=e&&(i=e.replace(O,"$&/")+"/"),T(o,t,i,"",(function(e){return e}))):null!=o&&(E(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(O,"$&/")+"/")+e)),t.push(o)),1;if(s=0,a=""===a?".":a+":",w(e))for(var l=0;l<e.length;l++){var c=a+I(u=e[l],l);s+=T(u,t,i,c,o)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),l=0;!(u=e.next()).done;)s+=T(u=u.value,t,i,c=a+I(u,l++),o);else if("object"===u)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function j(e,t,n){if(null==e)return e;var r=[],i=0;return T(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function C(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var M={current:null},z={transition:null},N={ReactCurrentDispatcher:M,ReactCurrentBatchConfig:z,ReactCurrentOwner:k};t.Children={map:j,forEach:function(e,t,n){j(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return j(e,(function(){t++})),t},toArray:function(e){return j(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=b,t.StrictMode=a,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=N,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,u=k.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(l in t)x.call(t,l)&&!S.hasOwnProperty(l)&&(i[l]=void 0===t[l]&&void 0!==s?s[l]:t[l])}var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){s=Array(l);for(var c=0;c<l;c++)s[c]=arguments[c+2];i.children=s}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:u}},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=A,t.createFactory=function(e){var t=A.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:C}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=z.transition;z.transition={};try{e()}finally{z.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return M.current.useCallback(e,t)},t.useContext=function(e){return M.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return M.current.useDeferredValue(e)},t.useEffect=function(e,t){return M.current.useEffect(e,t)},t.useId=function(){return M.current.useId()},t.useImperativeHandle=function(e,t,n){return M.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return M.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return M.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return M.current.useMemo(e,t)},t.useReducer=function(e,t,n){return M.current.useReducer(e,t,n)},t.useRef=function(e){return M.current.useRef(e)},t.useState=function(e){return M.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return M.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return M.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){e.exports=n(117)},184:function(e,t,n){e.exports=n(374)},813:function(e,t){function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var u=2*(r+1)-1,s=e[u],l=u+1,c=e[l];if(0>a(s,n))l<i&&0>a(c,s)?(e[r]=c,e[l]=n,r=l):(e[r]=s,e[u]=n,r=u);else{if(!(l<i&&0>a(c,n)))break e;e[r]=c,e[l]=n,r=l}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}var l=[],c=[],f=1,d=null,h=3,p=!1,v=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,_="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function g(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(l,t)}t=r(c)}}function w(e){if(m=!1,g(e),!v)if(null!==r(l))v=!0,z(x);else{var t=r(c);null!==t&&N(w,t.startTime-e)}}function x(e,n){v=!1,m&&(m=!1,_(E),E=-1),p=!0;var a=h;try{for(g(n),d=r(l);null!==d&&(!(d.expirationTime>n)||e&&!T());){var o=d.callback;if("function"===typeof o){d.callback=null,h=d.priorityLevel;var u=o(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?d.callback=u:d===r(l)&&i(l),g(n)}else i(l);d=r(l)}if(null!==d)var s=!0;else{var f=r(c);null!==f&&N(w,f.startTime-n),s=!1}return s}finally{d=null,h=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var k,S=!1,A=null,E=-1,O=5,I=-1;function T(){return!(t.unstable_now()-I<O)}function j(){if(null!==A){var e=t.unstable_now();I=e;var n=!0;try{n=A(!0,e)}finally{n?k():(S=!1,A=null)}}else S=!1}if("function"===typeof b)k=function(){b(j)};else if("undefined"!==typeof MessageChannel){var C=new MessageChannel,M=C.port2;C.port1.onmessage=j,k=function(){M.postMessage(null)}}else k=function(){y(j,0)};function z(e){A=e,S||(S=!0,k())}function N(e,n){E=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,z(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>o?(e.sortIndex=a,n(c,e),null===r(l)&&e===r(c)&&(m?(_(E),E=-1):m=!0,N(w,a-o))):(e.sortIndex=u,n(l,e),v||p||(v=!0,z(x))),e},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},296:function(e,t,n){e.exports=n(813)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.m=e,n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".575fa6d2.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="deepscatter-app:";n.l=function(r,i,a,o){if(e[r])e[r].push(i);else{var u,s;if(void 0!==a)for(var l=document.getElementsByTagName("script"),c=0;c<l.length;c++){var f=l[c];if(f.getAttribute("src")==r||f.getAttribute("data-webpack")==t+a){u=f;break}}u||(s=!0,(u=document.createElement("script")).charset="utf-8",u.timeout=120,n.nc&&u.setAttribute("nonce",n.nc),u.setAttribute("data-webpack",t+a),u.src=r),e[r]=[i];var d=function(t,n){u.onerror=u.onload=null,clearTimeout(h);var i=e[r];if(delete e[r],u.parentNode&&u.parentNode.removeChild(u),i&&i.forEach((function(e){return e(n)})),t)return t(n)},h=setTimeout(d.bind(null,void 0,{type:"timeout",target:u}),12e4);u.onerror=d.bind(null,u.onerror),u.onload=d.bind(null,u.onload),s&&document.head.appendChild(u)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/React-DeepScatter-Exploration/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=a);var o=n.p+n.u(t),u=new Error;n.l(o,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;u.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",u.name="ChunkLoadError",u.type=a,u.request=o,i[1](u)}}),"chunk-"+t,t)}};var t=function(t,r){var i,a,o=r[0],u=r[1],s=r[2],l=0;if(o.some((function(t){return 0!==e[t]}))){for(i in u)n.o(u,i)&&(n.m[i]=u[i]);if(s)s(n)}for(t&&t(r);l<o.length;l++)a=o[l],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunkdeepscatter_app=self.webpackChunkdeepscatter_app||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){var e,t,r=n(791),i=n(250);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function o(){o=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},u=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(j){c=function(e,t,n){return e[t]=n}}function f(e,t,n,i){var a=t&&t.prototype instanceof p?t:p,o=Object.create(a.prototype),u=new O(i||[]);return r(o,"_invoke",{value:k(e,n,u)}),o}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(j){return{type:"throw",arg:j}}}e.wrap=f;var h={};function p(){}function v(){}function m(){}var y={};c(y,u,(function(){return this}));var _=Object.getPrototypeOf,b=_&&_(_(I([])));b&&b!==t&&n.call(b,u)&&(y=b);var g=m.prototype=p.prototype=Object.create(y);function w(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function i(r,o,u,s){var l=d(e[r],e,o);if("throw"!==l.type){var c=l.arg,f=c.value;return f&&"object"==a(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){i("next",e,u,s)}),(function(e){i("throw",e,u,s)})):t.resolve(f).then((function(e){c.value=e,u(c)}),(function(e){return i("throw",e,u,s)}))}s(l.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function k(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return T()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=S(o,n);if(u){if(u===h)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=d(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===h)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function S(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,S(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var i=d(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,h;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function A(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(A,this),this.reset(!0)}function I(e){if(e){var t=e[u];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:T}}function T(){return{value:void 0,done:!0}}return v.prototype=m,r(g,"constructor",{value:m,configurable:!0}),r(m,"constructor",{value:v,configurable:!0}),v.displayName=c(m,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,c(e,l,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},w(x.prototype),c(x.prototype,s,(function(){return this})),e.AsyncIterator=x,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new x(f(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},w(g),c(g,l,"Generator"),c(g,u,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=I,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:I(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},e}function u(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(l){return void n(l)}u.done?t(s):Promise.resolve(s).then(r,i)}function s(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){u(a,r,i,o,s,"next",e)}function s(e){u(a,r,i,o,s,"throw",e)}o(void 0)}))}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t){if(e){if("string"===typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,u=[],s=!0,l=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=a.call(n)).done)&&(u.push(r.value),u.length!==t);s=!0);}catch(c){l=!0,i=c}finally{try{if(!s&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw i}}return u}}(e,t)||c(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},d(e,t)}function h(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function p(e,t,n){return p=h()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&d(i,n.prototype),i},p.apply(null,arguments)}function v(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||c(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e){var t=function(e,t){if("object"!==a(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===a(t)?t:String(t)}function y(e,t,n){return(t=m(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e){return w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},w(e)}function x(){return x="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=w(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},x.apply(this,arguments)}function k(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}function S(e){var t=h();return function(){var n,r=w(e);if(t){var i=w(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===a(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return g(e)}(this,n)}}function A(e){var t="function"===typeof Map?new Map:void 0;return A=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return p(e,arguments,w(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),d(r,e)},A(e)}function E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,m(r.key),r)}}function I(e,t,n){return t&&O(e.prototype,t),n&&O(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function T(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=c(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}var j=o().mark(qe),C=o().mark(_t),M=o().mark(tc),z=o().mark(dc),N=o().mark(Tm),D=Object.defineProperty,B=function(e,t,n){return function(e,t,n){t in e?D(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n}(e,"symbol"!==typeof t?t+"":t,n),n},F="http://www.w3.org/1999/xhtml",P={svg:"http://www.w3.org/2000/svg",xhtml:F,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function L(e){var t=e+="",n=t.indexOf(":");return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),P.hasOwnProperty(t)?{space:P[t],local:e}:e}function R(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===F&&t.documentElement.namespaceURI===F?t.createElement(e):t.createElementNS(n,e)}}function U(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function V(e){var t=L(e);return(t.local?U:R)(t)}function W(){}function Y(e){return null==e?W:function(){return this.querySelector(e)}}function H(){return[]}function q(e){return null==e?H:function(){return this.querySelectorAll(e)}}function G(e){return function(){return null==(t=e.apply(this,arguments))?[]:Array.isArray(t)?t:Array.from(t);var t}}function $(e){return function(){return this.matches(e)}}function X(e){return function(t){return t.matches(e)}}var Q=Array.prototype.find;function K(){return this.firstElementChild}var Z=Array.prototype.filter;function J(){return Array.from(this.children)}function ee(e){return new Array(e.length)}function te(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}function ne(e,t,n,r,i,a){for(var o,u=0,s=t.length,l=a.length;u<l;++u)(o=t[u])?(o.__data__=a[u],r[u]=o):n[u]=new te(e,a[u]);for(;u<s;++u)(o=t[u])&&(i[u]=o)}function re(e,t,n,r,i,a,o){var u,s,l,c=new Map,f=t.length,d=a.length,h=new Array(f);for(u=0;u<f;++u)(s=t[u])&&(h[u]=l=o.call(s,s.__data__,u,t)+"",c.has(l)?i[u]=s:c.set(l,s));for(u=0;u<d;++u)l=o.call(e,a[u],u,a)+"",(s=c.get(l))?(r[u]=s,s.__data__=a[u],c.delete(l)):n[u]=new te(e,a[u]);for(u=0;u<f;++u)(s=t[u])&&c.get(h[u])===s&&(i[u]=s)}function ie(e){return e.__data__}function ae(e){return"object"===typeof e&&"length"in e?e:Array.from(e)}function oe(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function ue(e){return function(){this.removeAttribute(e)}}function se(e){return function(){this.removeAttributeNS(e.space,e.local)}}function le(e,t){return function(){this.setAttribute(e,t)}}function ce(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function fe(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}function de(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function he(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function pe(e){return function(){this.style.removeProperty(e)}}function ve(e,t,n){return function(){this.style.setProperty(e,t,n)}}function me(e,t,n){return function(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function ye(e,t){return e.style.getPropertyValue(t)||he(e).getComputedStyle(e,null).getPropertyValue(t)}function _e(e){return function(){delete this[e]}}function be(e,t){return function(){this[e]=t}}function ge(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}function we(e){return e.trim().split(/^|\s+/)}function xe(e){return e.classList||new ke(e)}function ke(e){this._node=e,this._names=we(e.getAttribute("class")||"")}function Se(e,t){for(var n=xe(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function Ae(e,t){for(var n=xe(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function Ee(e){return function(){Se(this,e)}}function Oe(e){return function(){Ae(this,e)}}function Ie(e,t){return function(){(t.apply(this,arguments)?Se:Ae)(this,e)}}function Te(){this.textContent=""}function je(e){return function(){this.textContent=e}}function Ce(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}function Me(){this.innerHTML=""}function ze(e){return function(){this.innerHTML=e}}function Ne(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}function De(){this.nextSibling&&this.parentNode.appendChild(this)}function Be(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Fe(){return null}function Pe(){var e=this.parentNode;e&&e.removeChild(this)}function Le(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Re(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Ue(e){return function(){var t=this.__on;if(t){for(var n,r=0,i=-1,a=t.length;r<a;++r)n=t[r],e.type&&n.type!==e.type||n.name!==e.name?t[++i]=n:this.removeEventListener(n.type,n.listener,n.options);++i?t.length=i:delete this.__on}}}function Ve(e,t,n){return function(){var r,i=this.__on,a=function(e){return function(t){e.call(this,t,this.__data__)}}(t);if(i)for(var o=0,u=i.length;o<u;++o)if((r=i[o]).type===e.type&&r.name===e.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=a,r.options=n),void(r.value=t);this.addEventListener(e.type,a,n),r={type:e.type,name:e.name,value:t,listener:a,options:n},i?i.push(r):this.__on=[r]}}function We(e,t,n){var r=he(e),i=r.CustomEvent;"function"===typeof i?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function Ye(e,t){return function(){return We(this,e,t)}}function He(e,t){return function(){return We(this,e,t.apply(this,arguments))}}function qe(){var e,t,n,r,i,a,u;return o().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:e=this._groups,t=0,n=e.length;case 1:if(!(t<n)){o.next=13;break}r=e[t],i=0,a=r.length;case 3:if(!(i<a)){o.next=10;break}if(!(u=r[i])){o.next=7;break}return o.next=7,u;case 7:++i,o.next=3;break;case 10:++t,o.next=1;break;case 13:case"end":return o.stop()}}),j,this)}te.prototype={constructor:te,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}},ke.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var Ge=[null];function $e(e,t){this._groups=e,this._parents=t}function Xe(){return new $e([[document.documentElement]],Ge)}function Qe(e){return"string"===typeof e?new $e([[document.querySelector(e)]],[document.documentElement]):new $e([[e]],Ge)}function Ke(e,t){if(e=function(e){for(var t;t=e.sourceEvent;)e=t;return e}(e),void 0===t&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}function Ze(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Je(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function et(e){var t,n,r;function i(e,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(i<a){if(0!==t(r,r))return a;do{var o=i+a>>>1;n(e[o],r)<0?i=o+1:a=o}while(i<a)}return i}return 2!==e.length?(t=Ze,n=function(t,n){return Ze(e(t),n)},r=function(t,n){return e(t)-n}):(t=e===Ze||e===Je?e:tt,n=e,r=e),{left:i,center:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=i(e,t,n,(arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length)-1);return a>n&&r(e[a-1],t)>-r(e[a],t)?a-1:a},right:function(e,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(i<a){if(0!==t(r,r))return a;do{var o=i+a>>>1;n(e[o],r)<=0?i=o+1:a=o}while(i<a)}return i}}}function tt(){return 0}$e.prototype=Xe.prototype=y({constructor:$e,select:function(e){"function"!==typeof e&&(e=Y(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a,o,u=t[i],s=u.length,l=r[i]=new Array(s),c=0;c<s;++c)(a=u[c])&&(o=e.call(a,a.__data__,c,u))&&("__data__"in a&&(o.__data__=a.__data__),l[c]=o);return new $e(r,this._parents)},selectAll:function(e){e="function"===typeof e?G(e):q(e);for(var t=this._groups,n=t.length,r=[],i=[],a=0;a<n;++a)for(var o,u=t[a],s=u.length,l=0;l<s;++l)(o=u[l])&&(r.push(e.call(o,o.__data__,l,u)),i.push(o));return new $e(r,i)},selectChild:function(e){return this.select(null==e?K:function(e){return function(){return Q.call(this.children,e)}}("function"===typeof e?e:X(e)))},selectChildren:function(e){return this.selectAll(null==e?J:function(e){return function(){return Z.call(this.children,e)}}("function"===typeof e?e:X(e)))},filter:function(e){"function"!==typeof e&&(e=$(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a,o=t[i],u=o.length,s=r[i]=[],l=0;l<u;++l)(a=o[l])&&e.call(a,a.__data__,l,o)&&s.push(a);return new $e(r,this._parents)},data:function(e,t){if(!arguments.length)return Array.from(this,ie);var n,r=t?re:ne,i=this._parents,a=this._groups;"function"!==typeof e&&(n=e,e=function(){return n});for(var o=a.length,u=new Array(o),s=new Array(o),l=new Array(o),c=0;c<o;++c){var f=i[c],d=a[c],h=d.length,p=ae(e.call(f,f&&f.__data__,c,i)),v=p.length,m=s[c]=new Array(v),y=u[c]=new Array(v);r(f,d,m,y,l[c]=new Array(h),p,t);for(var _,b,g=0,w=0;g<v;++g)if(_=m[g]){for(g>=w&&(w=g+1);!(b=y[w])&&++w<v;);_._next=b||null}}return(u=new $e(u,i))._enter=s,u._exit=l,u},enter:function(){return new $e(this._enter||this._groups.map(ee),this._parents)},exit:function(){return new $e(this._exit||this._groups.map(ee),this._parents)},join:function(e,t,n){var r=this.enter(),i=this,a=this.exit();return"function"===typeof e?(r=e(r))&&(r=r.selection()):r=r.append(e+""),null!=t&&(i=t(i))&&(i=i.selection()),null==n?a.remove():n(a),r&&i?r.merge(i).order():i},merge:function(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,a=r.length,o=Math.min(i,a),u=new Array(i),s=0;s<o;++s)for(var l,c=n[s],f=r[s],d=c.length,h=u[s]=new Array(d),p=0;p<d;++p)(l=c[p]||f[p])&&(h[p]=l);for(;s<i;++s)u[s]=n[s];return new $e(u,this._parents)},selection:function(){return this},order:function(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r,i=e[t],a=i.length-1,o=i[a];--a>=0;)(r=i[a])&&(o&&4^r.compareDocumentPosition(o)&&o.parentNode.insertBefore(r,o),o=r);return this},sort:function(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=oe);for(var n=this._groups,r=n.length,i=new Array(r),a=0;a<r;++a){for(var o,u=n[a],s=u.length,l=i[a]=new Array(s),c=0;c<s;++c)(o=u[c])&&(l[c]=o);l.sort(t)}return new $e(i,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,a=r.length;i<a;++i){var o=r[i];if(o)return o}return null},size:function(){var e,t=0,n=T(this);try{for(n.s();!(e=n.n()).done;){e.value;++t}}catch(r){n.e(r)}finally{n.f()}return t},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i,a=t[n],o=0,u=a.length;o<u;++o)(i=a[o])&&e.call(i,i.__data__,o,a);return this},attr:function(e,t){var n=L(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==t?n.local?se:ue:"function"===typeof t?n.local?de:fe:n.local?ce:le)(n,t))},style:function(e,t,n){return arguments.length>1?this.each((null==t?pe:"function"===typeof t?me:ve)(e,t,null==n?"":n)):ye(this.node(),e)},property:function(e,t){return arguments.length>1?this.each((null==t?_e:"function"===typeof t?ge:be)(e,t)):this.node()[e]},classed:function(e,t){var n=we(e+"");if(arguments.length<2){for(var r=xe(this.node()),i=-1,a=n.length;++i<a;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"===typeof t?Ie:t?Ee:Oe)(n,t))},text:function(e){return arguments.length?this.each(null==e?Te:("function"===typeof e?Ce:je)(e)):this.node().textContent},html:function(e){return arguments.length?this.each(null==e?Me:("function"===typeof e?Ne:ze)(e)):this.node().innerHTML},raise:function(){return this.each(De)},lower:function(){return this.each(Be)},append:function(e){var t="function"===typeof e?e:V(e);return this.select((function(){return this.appendChild(t.apply(this,arguments))}))},insert:function(e,t){var n="function"===typeof e?e:V(e),r=null==t?Fe:"function"===typeof t?t:Y(t);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(Pe)},clone:function(e){return this.select(e?Re:Le)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function(e,t,n){var r,i,a=function(e){return e.trim().split(/^|\s+/).map((function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}}))}(e+""),o=a.length;if(!(arguments.length<2)){for(u=t?Ve:Ue,r=0;r<o;++r)this.each(u(a[r],t,n));return this}var u=this.node().__on;if(u)for(var s,l=0,c=u.length;l<c;++l)for(r=0,s=u[l];r<o;++r)if((i=a[r]).type===s.type&&i.name===s.name)return s.value},dispatch:function(e,t){return this.each(("function"===typeof t?He:Ye)(e,t))}},Symbol.iterator,qe);var nt=et(Ze),rt=nt.right,it=nt.left;function at(e,t){var n,r;if(void 0===t){var i,a=T(e);try{for(a.s();!(i=a.n()).done;){var o=i.value;null!=o&&(void 0===n?o>=o&&(n=r=o):(n>o&&(n=o),r<o&&(r=o)))}}catch(f){a.e(f)}finally{a.f()}}else{var u,s=-1,l=T(e);try{for(l.s();!(u=l.n()).done;){var c=u.value;null!=(c=t(c,++s,e))&&(void 0===n?c>=c&&(n=r=c):(n>c&&(n=c),r<c&&(r=c)))}}catch(f){l.e(f)}finally{l.f()}}return[n,r]}et((function(e){return null===e?NaN:+e})).center;var ot=function(){function e(){E(this,e),this._partials=new Float64Array(32),this._n=0}return I(e,[{key:"add",value:function(e){for(var t=this._partials,n=0,r=0;r<this._n&&r<32;r++){var i=t[r],a=e+i,o=Math.abs(e)<Math.abs(i)?e-(a-i):i-(a-e);o&&(t[n++]=o),e=a}return t[n]=e,this._n=n+1,this}},{key:"valueOf",value:function(){var e,t,n,r=this._partials,i=this._n,a=0;if(i>0){for(a=r[--i];i>0&&(e=a,!(n=(t=r[--i])-((a=e+t)-e))););i>0&&(n<0&&r[i-1]<0||n>0&&r[i-1]>0)&&(t=2*n)==(e=a+t)-a&&(a=e)}return a}}]),e}(),ut=function(e){k(n,e);var t=S(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:lt;if(E(this,n),r=t.call(this),Object.defineProperties(g(r),{_intern:{value:new Map},_key:{value:i}}),null!=e){var a,o=T(e);try{for(o.s();!(a=o.n()).done;){var u=f(a.value,2),s=u[0],l=u[1];r.set(s,l)}}catch(c){o.e(c)}finally{o.f()}}return r}return I(n,[{key:"get",value:function(e){return x(w(n.prototype),"get",this).call(this,st(this,e))}},{key:"has",value:function(e){return x(w(n.prototype),"has",this).call(this,st(this,e))}},{key:"set",value:function(e,t){return x(w(n.prototype),"set",this).call(this,function(e,t){var n=e._intern,r=(0,e._key)(t);return n.has(r)?n.get(r):(n.set(r,t),t)}(this,e),t)}},{key:"delete",value:function(e){return x(w(n.prototype),"delete",this).call(this,function(e,t){var n=e._intern,r=(0,e._key)(t);n.has(r)&&(t=n.get(t),n.delete(r));return t}(this,e))}}]),n}(A(Map));function st(e,t){var n=e._intern,r=(0,e._key)(t);return n.has(r)?n.get(r):t}function lt(e){return null!==e&&"object"===typeof e?e.valueOf():e}var ct=Math.sqrt(50),ft=Math.sqrt(10),dt=Math.sqrt(2);function ht(e,t,n){var r,i,a,o,u=-1;if(n=+n,(e=+e)===(t=+t)&&n>0)return[e];if((r=t<e)&&(i=e,e=t,t=i),0===(o=pt(e,t,n))||!isFinite(o))return[];if(o>0){var s=Math.round(e/o),l=Math.round(t/o);for(s*o<e&&++s,l*o>t&&--l,a=new Array(i=l-s+1);++u<i;)a[u]=(s+u)*o}else{o=-o;var c=Math.round(e*o),f=Math.round(t*o);for(c/o<e&&++c,f/o>t&&--f,a=new Array(i=f-c+1);++u<i;)a[u]=(c+u)/o}return r&&a.reverse(),a}function pt(e,t,n){var r=(t-e)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),a=r/Math.pow(10,i);return i>=0?(a>=ct?10:a>=ft?5:a>=dt?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(a>=ct?10:a>=ft?5:a>=dt?2:1)}function vt(e,t){var n;if(void 0===t){var r,i=T(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;null!=a&&(n<a||void 0===n&&a>=a)&&(n=a)}}catch(c){i.e(c)}finally{i.f()}}else{var o,u=-1,s=T(e);try{for(s.s();!(o=s.n()).done;){var l=o.value;null!=(l=t(l,++u,e))&&(n<l||void 0===n&&l>=l)&&(n=l)}}catch(c){s.e(c)}finally{s.f()}}return n}function mt(e,t){var n;if(void 0===t){var r,i=T(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;null!=a&&(n>a||void 0===n&&a>=a)&&(n=a)}}catch(c){i.e(c)}finally{i.f()}}else{var o,u=-1,s=T(e);try{for(s.s();!(o=s.n()).done;){var l=o.value;null!=(l=t(l,++u,e))&&(n>l||void 0===n&&l>=l)&&(n=l)}}catch(c){s.e(c)}finally{s.f()}}return n}function yt(e,t){var n=0,r=0;if(void 0===t){var i,a=T(e);try{for(a.s();!(i=a.n()).done;){var o=i.value;null!=o&&(o=+o)>=o&&(++n,r+=o)}}catch(f){a.e(f)}finally{a.f()}}else{var u,s=-1,l=T(e);try{for(l.s();!(u=l.n()).done;){var c=u.value;null!=(c=t(c,++s,e))&&(c=+c)>=c&&(++n,r+=c)}}catch(f){l.e(f)}finally{l.f()}}if(n)return r/n}function _t(e){var t,n,r;return o().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:t=T(e),i.prev=1,t.s();case 3:if((n=t.n()).done){i.next=8;break}return r=n.value,i.delegateYield(r,"t0",6);case 6:i.next=3;break;case 8:i.next=13;break;case 10:i.prev=10,i.t1=i.catch(1),t.e(i.t1);case 13:return i.prev=13,t.f(),i.finish(13);case 16:case"end":return i.stop()}}),C,null,[[1,10,13,16]])}function bt(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((t-e)/n)),a=new Array(i);++r<i;)a[r]=e+r*n;return a}function gt(e){return function(t){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.length)-(n=+n);r;){var i=e()*r--|0,a=t[r+n];t[r+n]=t[i+n],t[i+n]=a}return t}}function wt(e,t){var n=0;if(void 0===t){var r,i=T(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;(a=+a)&&(n+=a)}}catch(c){i.e(c)}finally{i.f()}}else{var o,u=-1,s=T(e);try{for(s.s();!(o=s.n()).done;){var l=o.value;(l=+t(l,++u,e))&&(n+=l)}}catch(c){s.e(c)}finally{s.f()}}return n}var xt=1e-6,kt=Math.PI,St=2*kt,At=180/kt,Et=kt/180,Ot=Math.abs,It=Math.cos,Tt=Math.sin,jt=Math.sqrt;function Ct(){}function Mt(e,t){e&&Nt.hasOwnProperty(e.type)&&Nt[e.type](e,t)}var zt={Feature:function(e,t){Mt(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)Mt(n[r].geometry,t)}},Nt={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){Dt(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)Dt(n[r],t,0)},Polygon:function(e,t){Bt(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)Bt(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)Mt(n[r],t)}};function Dt(e,t,n){var r,i=-1,a=e.length-n;for(t.lineStart();++i<a;)r=e[i],t.point(r[0],r[1],r[2]);t.lineEnd()}function Bt(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)Dt(e[n],t,1);t.polygonEnd()}function Ft(e,t){e&&zt.hasOwnProperty(e.type)?zt[e.type](e,t):Mt(e,t)}function Pt(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function Lt(e,t,n,r,i){var a,o,u=[],s=[];if(e.forEach((function(e){if(!((t=e.length-1)<=0)){var t,n,r,o,l=e[0],c=e[t];if(o=c,Ot((r=l)[0]-o[0])<xt&&Ot(r[1]-o[1])<xt){if(!l[2]&&!c[2]){for(i.lineStart(),a=0;a<t;++a)i.point((l=e[a])[0],l[1]);return void i.lineEnd()}c[0]+=2*xt}u.push(n=new Pt(l,e,null,!0)),s.push(n.o=new Pt(l,null,n,!1)),u.push(n=new Pt(c,e,null,!1)),s.push(n.o=new Pt(c,null,n,!0))}})),u.length){for(s.sort(t),Rt(u),Rt(s),a=0,o=s.length;a<o;++a)s[a].e=n=!n;for(var l,c,f=u[0];;){for(var d=f,h=!0;d.v;)if((d=d.n)===f)return;l=d.z,i.lineStart();do{if(d.v=d.o.v=!0,d.e){if(h)for(a=0,o=l.length;a<o;++a)i.point((c=l[a])[0],c[1]);else r(d.x,d.n.x,1,i);d=d.n}else{if(h)for(l=d.p.z,a=l.length-1;a>=0;--a)i.point((c=l[a])[0],c[1]);else r(d.x,d.p.x,-1,i);d=d.p}l=(d=d.o).z,h=!h}while(!d.v);i.lineEnd()}}}function Rt(e){if(t=e.length){for(var t,n,r=0,i=e[0];++r<t;)i.n=n=e[r],n.p=i,i=n;i.n=n=e[0],n.p=i}}var Ut=1e9,Vt=-Ut;function Wt(e,t,n,r){function i(i,a){return e<=i&&i<=n&&t<=a&&a<=r}function a(i,a,u,l){var c=0,f=0;if(null==i||(c=o(i,u))!==(f=o(a,u))||s(i,a)<0^u>0)do{l.point(0===c||3===c?e:n,c>1?r:t)}while((c=(c+u+4)%4)!==f);else l.point(a[0],a[1])}function o(r,i){return Ot(r[0]-e)<xt?i>0?0:3:Ot(r[0]-n)<xt?i>0?2:1:Ot(r[1]-t)<xt?i>0?1:0:i>0?3:2}function u(e,t){return s(e.x,t.x)}function s(e,t){var n=o(e,1),r=o(t,1);return n!==r?n-r:0===n?t[1]-e[1]:1===n?e[0]-t[0]:2===n?e[1]-t[1]:t[0]-e[0]}return function(o){var s,l,c,f,d,h,p,v,m,y,_,b=o,g=function(){var e,t=[];return{point:function(t,n,r){e.push([t,n,r])},lineStart:function(){t.push(e=[])},lineEnd:Ct,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}}(),w={point:x,lineStart:function(){w.point=k,l&&l.push(c=[]);y=!0,m=!1,p=v=NaN},lineEnd:function(){s&&(k(f,d),h&&m&&g.rejoin(),s.push(g.result()));w.point=x,m&&b.lineEnd()},polygonStart:function(){b=g,s=[],l=[],_=!0},polygonEnd:function(){var t=function(){for(var t=0,n=0,i=l.length;n<i;++n)for(var a,o,u=l[n],s=1,c=u.length,f=u[0],d=f[0],h=f[1];s<c;++s)a=d,o=h,d=(f=u[s])[0],h=f[1],o<=r?h>r&&(d-a)*(r-o)>(h-o)*(e-a)&&++t:h<=r&&(d-a)*(r-o)<(h-o)*(e-a)&&--t;return t}(),n=_&&t,i=(f=s,s=Array.from(_t(f))).length;var f;(n||i)&&(o.polygonStart(),n&&(o.lineStart(),a(null,null,1,o),o.lineEnd()),i&&Lt(s,u,t,a,o),o.polygonEnd());b=o,s=l=c=null}};function x(e,t){i(e,t)&&b.point(e,t)}function k(a,o){var u=i(a,o);if(l&&c.push([a,o]),y)f=a,d=o,h=u,y=!1,u&&(b.lineStart(),b.point(a,o));else if(u&&m)b.point(a,o);else{var s=[p=Math.max(Vt,Math.min(Ut,p)),v=Math.max(Vt,Math.min(Ut,v))],g=[a=Math.max(Vt,Math.min(Ut,a)),o=Math.max(Vt,Math.min(Ut,o))];!function(e,t,n,r,i,a){var o,u=e[0],s=e[1],l=0,c=1,f=t[0]-u,d=t[1]-s;if(o=n-u,f||!(o>0)){if(o/=f,f<0){if(o<l)return;o<c&&(c=o)}else if(f>0){if(o>c)return;o>l&&(l=o)}if(o=i-u,f||!(o<0)){if(o/=f,f<0){if(o>c)return;o>l&&(l=o)}else if(f>0){if(o<l)return;o<c&&(c=o)}if(o=r-s,d||!(o>0)){if(o/=d,d<0){if(o<l)return;o<c&&(c=o)}else if(d>0){if(o>c)return;o>l&&(l=o)}if(o=a-s,d||!(o<0)){if(o/=d,d<0){if(o>c)return;o>l&&(l=o)}else if(d>0){if(o<l)return;o<c&&(c=o)}return l>0&&(e[0]=u+l*f,e[1]=s+l*d),c<1&&(t[0]=u+c*f,t[1]=s+c*d),!0}}}}}(s,g,e,t,n,r)?u&&(b.lineStart(),b.point(a,o),_=!1):(m||(b.lineStart(),b.point(s[0],s[1])),b.point(g[0],g[1]),u||b.lineEnd(),_=!1)}p=a,v=o,m=u}return w}}var Yt,Ht,qt,Gt,$t=function(e){return e},Xt=new ot,Qt=new ot,Kt={point:Ct,lineStart:Ct,lineEnd:Ct,polygonStart:function(){Kt.lineStart=Zt,Kt.lineEnd=tn},polygonEnd:function(){Kt.lineStart=Kt.lineEnd=Kt.point=Ct,Xt.add(Ot(Qt)),Qt=new ot},result:function(){var e=Xt/2;return Xt=new ot,e}};function Zt(){Kt.point=Jt}function Jt(e,t){Kt.point=en,Yt=qt=e,Ht=Gt=t}function en(e,t){Qt.add(Gt*e-qt*t),qt=e,Gt=t}function tn(){en(Yt,Ht)}var nn=Kt,rn=1/0,an=rn,on=-rn,un=on;var sn,ln,cn,fn,dn={point:function(e,t){e<rn&&(rn=e);e>on&&(on=e);t<an&&(an=t);t>un&&(un=t)},lineStart:Ct,lineEnd:Ct,polygonStart:Ct,polygonEnd:Ct,result:function(){var e=[[rn,an],[on,un]];return on=un=-(an=rn=1/0),e}},hn=0,pn=0,vn=0,mn=0,yn=0,_n=0,bn=0,gn=0,wn=0,xn={point:kn,lineStart:Sn,lineEnd:On,polygonStart:function(){xn.lineStart=In,xn.lineEnd=Tn},polygonEnd:function(){xn.point=kn,xn.lineStart=Sn,xn.lineEnd=On},result:function(){var e=wn?[bn/wn,gn/wn]:_n?[mn/_n,yn/_n]:vn?[hn/vn,pn/vn]:[NaN,NaN];return hn=pn=vn=mn=yn=_n=bn=gn=wn=0,e}};function kn(e,t){hn+=e,pn+=t,++vn}function Sn(){xn.point=An}function An(e,t){xn.point=En,kn(cn=e,fn=t)}function En(e,t){var n=e-cn,r=t-fn,i=jt(n*n+r*r);mn+=i*(cn+e)/2,yn+=i*(fn+t)/2,_n+=i,kn(cn=e,fn=t)}function On(){xn.point=kn}function In(){xn.point=jn}function Tn(){Cn(sn,ln)}function jn(e,t){xn.point=Cn,kn(sn=cn=e,ln=fn=t)}function Cn(e,t){var n=e-cn,r=t-fn,i=jt(n*n+r*r);mn+=i*(cn+e)/2,yn+=i*(fn+t)/2,_n+=i,bn+=(i=fn*e-cn*t)*(cn+e),gn+=i*(fn+t),wn+=3*i,kn(cn=e,fn=t)}var Mn=xn;function zn(e){this._context=e}zn.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:this._context.moveTo(e,t),this._point=1;break;case 1:this._context.lineTo(e,t);break;default:this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,St)}},result:Ct};var Nn,Dn,Bn,Fn,Pn,Ln=new ot,Rn={point:Ct,lineStart:function(){Rn.point=Un},lineEnd:function(){Nn&&Vn(Dn,Bn),Rn.point=Ct},polygonStart:function(){Nn=!0},polygonEnd:function(){Nn=null},result:function(){var e=+Ln;return Ln=new ot,e}};function Un(e,t){Rn.point=Vn,Dn=Fn=e,Bn=Pn=t}function Vn(e,t){Fn-=e,Pn-=t,Ln.add(jt(Fn*Fn+Pn*Pn)),Fn=e,Pn=t}var Wn=Rn;function Yn(){this._string=[]}function Hn(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}function qn(e,t){var n,r,i=4.5;function a(e){return e&&("function"===typeof i&&r.pointRadius(+i.apply(this,arguments)),Ft(e,n(r))),r.result()}return a.area=function(e){return Ft(e,n(nn)),nn.result()},a.measure=function(e){return Ft(e,n(Wn)),Wn.result()},a.bounds=function(e){return Ft(e,n(dn)),dn.result()},a.centroid=function(e){return Ft(e,n(Mn)),Mn.result()},a.projection=function(t){return arguments.length?(n=null==t?(e=null,$t):(e=t).stream,a):e},a.context=function(e){return arguments.length?(r=null==e?(t=null,new Yn):new zn(t=e),"function"!==typeof i&&r.pointRadius(i),a):t},a.pointRadius=function(e){return arguments.length?(i="function"===typeof e?e:(r.pointRadius(+e),+e),a):i},a.projection(e).context(t)}function Gn(){}function $n(e,t,n){var r=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),null!=r&&e.clipExtent(null),Ft(n,e.stream(dn)),t(dn.result()),null!=r&&e.clipExtent(r),e}function Xn(e,t,n){return $n(e,(function(n){var r=t[1][0]-t[0][0],i=t[1][1]-t[0][1],a=Math.min(r/(n[1][0]-n[0][0]),i/(n[1][1]-n[0][1])),o=+t[0][0]+(r-a*(n[1][0]+n[0][0]))/2,u=+t[0][1]+(i-a*(n[1][1]+n[0][1]))/2;e.scale(150*a).translate([o,u])}),n)}function Qn(){var e,t,n,r,i,a,o,u,s=1,l=0,c=0,f=1,d=1,h=0,p=null,v=1,m=1,y=(u={point:function(e,t){var n=g([e,t]);this.stream.point(n[0],n[1])}},function(e){var t=new Gn;for(var n in u)t[n]=u[n];return t.stream=e,t}),_=$t;function b(){return v=s*f,m=s*d,a=o=null,g}function g(n){var r=n[0]*v,i=n[1]*m;if(h){var a=i*e-r*t;r=r*e+i*t,i=a}return[r+l,i+c]}return g.invert=function(n){var r=n[0]-l,i=n[1]-c;if(h){var a=i*e+r*t;r=r*e-i*t,i=a}return[r/v,i/m]},g.stream=function(e){return a&&o===e?a:a=y(_(o=e))},g.postclip=function(e){return arguments.length?(_=e,p=n=r=i=null,b()):_},g.clipExtent=function(e){return arguments.length?(_=null==e?(p=n=r=i=null,$t):Wt(p=+e[0][0],n=+e[0][1],r=+e[1][0],i=+e[1][1]),b()):null==p?null:[[p,n],[r,i]]},g.scale=function(e){return arguments.length?(s=+e,b()):s},g.translate=function(e){return arguments.length?(l=+e[0],c=+e[1],b()):[l,c]},g.angle=function(n){return arguments.length?(t=Tt(h=n%360*Et),e=It(h),b()):h*At},g.reflectX=function(e){return arguments.length?(f=e?-1:1,b()):f<0},g.reflectY=function(e){return arguments.length?(d=e?-1:1,b()):d<0},g.fitExtent=function(e,t){return Xn(g,e,t)},g.fitSize=function(e,t){return function(e,t,n){return Xn(e,[[0,0],t],n)}(g,e,t)},g.fitWidth=function(e,t){return function(e,t,n){return $n(e,(function(n){var r=+t,i=r/(n[1][0]-n[0][0]),a=(r-i*(n[1][0]+n[0][0]))/2,o=-i*n[0][1];e.scale(150*i).translate([a,o])}),n)}(g,e,t)},g.fitHeight=function(e,t){return function(e,t,n){return $n(e,(function(n){var r=+t,i=r/(n[1][1]-n[0][1]),a=-i*n[0][0],o=(r-i*(n[1][1]+n[0][1]))/2;e.scale(150*i).translate([a,o])}),n)}(g,e,t)},g}Yn.prototype={_radius:4.5,_circle:Hn(4.5),pointRadius:function(e){return(e=+e)!==this._radius&&(this._radius=e,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(e,t){switch(this._point){case 0:this._string.push("M",e,",",t),this._point=1;break;case 1:this._string.push("L",e,",",t);break;default:null==this._circle&&(this._circle=Hn(this._radius)),this._string.push("M",e,",",t,this._circle)}},result:function(){if(this._string.length){var e=this._string.join("");return this._string=[],e}return null}},Gn.prototype={constructor:Gn,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var Kn="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},Zn={exports:{}};!function(e,t){var n="__lodash_hash_undefined__",r=9007199254740991,i="[object Arguments]",a="[object AsyncFunction]",o="[object Function]",u="[object GeneratorFunction]",s="[object Null]",l="[object Object]",c="[object Proxy]",f="[object Undefined]",d=/^\[object .+?Constructor\]$/,h=/^(?:0|[1-9]\d*)$/,p={};p["[object Float32Array]"]=p["[object Float64Array]"]=p["[object Int8Array]"]=p["[object Int16Array]"]=p["[object Int32Array]"]=p["[object Uint8Array]"]=p["[object Uint8ClampedArray]"]=p["[object Uint16Array]"]=p["[object Uint32Array]"]=!0,p[i]=p["[object Array]"]=p["[object ArrayBuffer]"]=p["[object Boolean]"]=p["[object DataView]"]=p["[object Date]"]=p["[object Error]"]=p[o]=p["[object Map]"]=p["[object Number]"]=p[l]=p["[object RegExp]"]=p["[object Set]"]=p["[object String]"]=p["[object WeakMap]"]=!1;var v="object"==typeof Kn&&Kn&&Kn.Object===Object&&Kn,m="object"==typeof self&&self&&self.Object===Object&&self,y=v||m||Function("return this")(),_=t&&!t.nodeType&&t,b=_&&e&&!e.nodeType&&e,g=b&&b.exports===_,w=g&&v.process,x=function(){try{var e=b&&b.require&&b.require("util").types;return e||w&&w.binding&&w.binding("util")}catch(t){}}(),k=x&&x.isTypedArray;var S,A,E=Array.prototype,O=Function.prototype,I=Object.prototype,T=y["__core-js_shared__"],j=O.toString,C=I.hasOwnProperty,M=function(){var e=/[^.]+$/.exec(T&&T.keys&&T.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),z=I.toString,N=j.call(Object),D=RegExp("^"+j.call(C).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),B=g?y.Buffer:void 0,F=y.Symbol,P=y.Uint8Array,L=B?B.allocUnsafe:void 0,R=(S=Object.getPrototypeOf,A=Object,function(e){return S(A(e))}),U=Object.create,V=I.propertyIsEnumerable,W=E.splice,Y=F?F.toStringTag:void 0,H=function(){try{var e=ye(Object,"defineProperty");return e({},"",{}),e}catch(t){}}(),q=B?B.isBuffer:void 0,G=Math.max,$=Date.now,X=ye(y,"Map"),Q=ye(Object,"create"),K=function(){function e(){}return function(t){if(!Te(t))return{};if(U)return U(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function Z(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function J(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ee(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function te(e){var t=this.__data__=new J(e);this.size=t.size}function ne(e,t){var n=Se(e),r=!n&&ke(e),i=!n&&!r&&Ee(e),a=!n&&!r&&!i&&Ce(e),o=n||r||i||a,u=o?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],s=u.length;for(var l in e)!t&&!C.call(e,l)||o&&("length"==l||i&&("offset"==l||"parent"==l)||a&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||_e(l,s))||u.push(l);return u}function re(e,t,n){(void 0!==n&&!xe(e[t],n)||void 0===n&&!(t in e))&&oe(e,t,n)}function ie(e,t,n){var r=e[t];C.call(e,t)&&xe(r,n)&&(void 0!==n||t in e)||oe(e,t,n)}function ae(e,t){for(var n=e.length;n--;)if(xe(e[n][0],t))return n;return-1}function oe(e,t,n){"__proto__"==t&&H?H(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}Z.prototype.clear=function(){this.__data__=Q?Q(null):{},this.size=0},Z.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Z.prototype.get=function(e){var t=this.__data__;if(Q){var r=t[e];return r===n?void 0:r}return C.call(t,e)?t[e]:void 0},Z.prototype.has=function(e){var t=this.__data__;return Q?void 0!==t[e]:C.call(t,e)},Z.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Q&&void 0===t?n:t,this},J.prototype.clear=function(){this.__data__=[],this.size=0},J.prototype.delete=function(e){var t=this.__data__,n=ae(t,e);return!(n<0)&&(n==t.length-1?t.pop():W.call(t,n,1),--this.size,!0)},J.prototype.get=function(e){var t=this.__data__,n=ae(t,e);return n<0?void 0:t[n][1]},J.prototype.has=function(e){return ae(this.__data__,e)>-1},J.prototype.set=function(e,t){var n=this.__data__,r=ae(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},ee.prototype.clear=function(){this.size=0,this.__data__={hash:new Z,map:new(X||J),string:new Z}},ee.prototype.delete=function(e){var t=me(this,e).delete(e);return this.size-=t?1:0,t},ee.prototype.get=function(e){return me(this,e).get(e)},ee.prototype.has=function(e){return me(this,e).has(e)},ee.prototype.set=function(e,t){var n=me(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},te.prototype.clear=function(){this.__data__=new J,this.size=0},te.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},te.prototype.get=function(e){return this.__data__.get(e)},te.prototype.has=function(e){return this.__data__.has(e)},te.prototype.set=function(e,t){var n=this.__data__;if(n instanceof J){var r=n.__data__;if(!X||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new ee(r)}return n.set(e,t),this.size=n.size,this};var ue,se=function(e,t,n){for(var r=-1,i=Object(e),a=n(e),o=a.length;o--;){var u=a[ue?o:++r];if(!1===t(i[u],u,i))break}return e};function le(e){return null==e?void 0===e?f:s:Y&&Y in Object(e)?function(e){var t=C.call(e,Y),n=e[Y];try{e[Y]=void 0;var r=!0}catch(a){}var i=z.call(e);r&&(t?e[Y]=n:delete e[Y]);return i}(e):function(e){return z.call(e)}(e)}function ce(e){return je(e)&&le(e)==i}function fe(e){return!(!Te(e)||function(e){return!!M&&M in e}(e))&&(Oe(e)?D:d).test(function(e){if(null!=e){try{return j.call(e)}catch(t){}try{return e+""}catch(t){}}return""}(e))}function de(e){if(!Te(e))return function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}(e);var t=be(e),n=[];for(var r in e)("constructor"!=r||!t&&C.call(e,r))&&n.push(r);return n}function he(e,t,n,r,i){e!==t&&se(t,(function(a,o){if(i||(i=new te),Te(a))!function(e,t,n,r,i,a,o){var u=ge(e,n),s=ge(t,n),c=o.get(s);if(c)return void re(e,n,c);var f=a?a(u,s,n+"",e,t,o):void 0,d=void 0===f;if(d){var h=Se(s),p=!h&&Ee(s),v=!h&&!p&&Ce(s);f=s,h||p||v?Se(u)?f=u:je(m=u)&&Ae(m)?f=function(e,t){var n=-1,r=e.length;t||(t=Array(r));for(;++n<r;)t[n]=e[n];return t}(u):p?(d=!1,f=function(e,t){if(t)return e.slice();var n=e.length,r=L?L(n):new e.constructor(n);return e.copy(r),r}(s,!0)):v?(d=!1,f=function(e,t){var n=t?function(e){var t=new e.constructor(e.byteLength);return new P(t).set(new P(e)),t}(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}(s,!0)):f=[]:function(e){if(!je(e)||le(e)!=l)return!1;var t=R(e);if(null===t)return!0;var n=C.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&j.call(n)==N}(s)||ke(s)?(f=u,ke(u)?f=function(e){return function(e,t,n,r){var i=!n;n||(n={});var a=-1,o=t.length;for(;++a<o;){var u=t[a],s=r?r(n[u],e[u],u,n,e):void 0;void 0===s&&(s=e[u]),i?oe(n,u,s):ie(n,u,s)}return n}(e,Me(e))}(u):Te(u)&&!Oe(u)||(f=function(e){return"function"!=typeof e.constructor||be(e)?{}:K(R(e))}(s))):d=!1}var m;d&&(o.set(s,f),i(f,s,r,a,o),o.delete(s));re(e,n,f)}(e,t,o,n,he,r,i);else{var u=r?r(ge(e,o),a,o+"",e,t,i):void 0;void 0===u&&(u=a),re(e,o,u)}}),Me)}function pe(e,t){return we(function(e,t,n){return t=G(void 0===t?e.length-1:t,0),function(){for(var r=arguments,i=-1,a=G(r.length-t,0),o=Array(a);++i<a;)o[i]=r[t+i];i=-1;for(var u=Array(t+1);++i<t;)u[i]=r[i];return u[t]=n(o),function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}(e,this,u)}}(e,t,De),e+"")}var ve=H?function(e,t){return H(e,"toString",{configurable:!0,enumerable:!1,value:(n=t,function(){return n}),writable:!0});var n}:De;function me(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function ye(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return fe(n)?n:void 0}function _e(e,t){var n=typeof e;return!!(t=null==t?r:t)&&("number"==n||"symbol"!=n&&h.test(e))&&e>-1&&e%1==0&&e<t}function be(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||I)}function ge(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]}var we=function(e){var t=0,n=0;return function(){var r=$(),i=16-(r-n);if(n=r,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(ve);function xe(e,t){return e===t||e!==e&&t!==t}var ke=ce(function(){return arguments}())?ce:function(e){return je(e)&&C.call(e,"callee")&&!V.call(e,"callee")},Se=Array.isArray;function Ae(e){return null!=e&&Ie(e.length)&&!Oe(e)}var Ee=q||function(){return!1};function Oe(e){if(!Te(e))return!1;var t=le(e);return t==o||t==u||t==a||t==c}function Ie(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=r}function Te(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function je(e){return null!=e&&"object"==typeof e}var Ce=k?function(e){return function(t){return e(t)}}(k):function(e){return je(e)&&Ie(e.length)&&!!p[le(e)]};function Me(e){return Ae(e)?ne(e,!0):de(e)}var ze,Ne=(ze=function(e,t,n){he(e,t,n)},pe((function(e,t){var n=-1,r=t.length,i=r>1?t[r-1]:void 0,a=r>2?t[2]:void 0;for(i=ze.length>3&&"function"==typeof i?(r--,i):void 0,a&&function(e,t,n){if(!Te(n))return!1;var r=typeof t;return!!("number"==r?Ae(n)&&_e(t,n.length):"string"==r&&t in n)&&xe(n[t],e)}(t[0],t[1],a)&&(i=r<3?void 0:i,r=1),e=Object(e);++n<r;){var o=t[n];o&&ze(e,o,n,i)}return e})));function De(e){return e}e.exports=Ne}(Zn,Zn.exports);var Jn,er,tr=Zn.exports,nr=0,rr=0,ir=0,ar=1e3,or=0,ur=0,sr=0,lr="object"===typeof performance&&performance.now?performance:Date,cr="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function fr(){return ur||(cr(dr),ur=lr.now()+sr)}function dr(){ur=0}function hr(){this._call=this._time=this._next=null}function pr(e,t,n){var r=new hr;return r.restart(e,t,n),r}function vr(){ur=(or=lr.now())+sr,nr=rr=0;try{!function(){fr(),++nr;for(var e,t=Jn;t;)(e=ur-t._time)>=0&&t._call.call(void 0,e),t=t._next;--nr}()}finally{nr=0,function(){var e,t,n=Jn,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:Jn=t);er=e,yr(r)}(),ur=0}}function mr(){var e=lr.now(),t=e-or;t>ar&&(sr-=t,or=e)}function yr(e){nr||(rr&&(rr=clearTimeout(rr)),e-ur>24?(e<1/0&&(rr=setTimeout(vr,e-lr.now()-sr)),ir&&(ir=clearInterval(ir))):(ir||(or=lr.now(),ir=setInterval(mr,ar)),nr=1,cr(vr)))}function _r(e,t,n){var r=new hr;return t=null==t?0:+t,r.restart((function(n){r.stop(),e(n+t)}),t,n),r}hr.prototype=pr.prototype={constructor:hr,restart:function(e,t,n){if("function"!==typeof e)throw new TypeError("callback is not a function");n=(null==n?fr():+n)+(null==t?0:+t),this._next||er===this||(er?er._next=this:Jn=this,er=this),this._call=e,this._time=n,yr()},stop:function(){this._call&&(this._call=null,this._time=1/0,yr())}};var br={value:function(){}};function gr(){for(var e,t=0,n=arguments.length,r={};t<n;++t){if(!(e=arguments[t]+"")||e in r||/[\s.]/.test(e))throw new Error("illegal type: "+e);r[e]=[]}return new wr(r)}function wr(e){this._=e}function xr(e,t){for(var n,r=0,i=e.length;r<i;++r)if((n=e[r]).name===t)return n.value}function kr(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=br,e=e.slice(0,r).concat(e.slice(r+1));break}return null!=n&&e.push({name:t,value:n}),e}wr.prototype=gr.prototype={constructor:wr,on:function(e,t){var n,r,i=this._,a=(r=i,(e+"").trim().split(/^|\s+/).map((function(e){var t="",n=e.indexOf(".");if(n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),e&&!r.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:t}}))),o=-1,u=a.length;if(!(arguments.length<2)){if(null!=t&&"function"!==typeof t)throw new Error("invalid callback: "+t);for(;++o<u;)if(n=(e=a[o]).type)i[n]=kr(i[n],e.name,t);else if(null==t)for(n in i)i[n]=kr(i[n],e.name,null);return this}for(;++o<u;)if((n=(e=a[o]).type)&&(n=xr(i[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new wr(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),a=0;a<n;++a)i[a]=arguments[a+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(a=0,n=(r=this._[e]).length;a<n;++a)r[a].value.apply(t,i)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,a=r.length;i<a;++i)r[i].value.apply(t,n)}};var Sr={passive:!1},Ar={capture:!0,passive:!1};function Er(e){e.stopImmediatePropagation()}function Or(e){e.preventDefault(),e.stopImmediatePropagation()}function Ir(e){var t=e.document.documentElement,n=Qe(e).on("dragstart.drag",Or,Ar);"onselectstart"in t?n.on("selectstart.drag",Or,Ar):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function Tr(e,t){var n=e.document.documentElement,r=Qe(e).on("dragstart.drag",null);t&&(r.on("click.drag",Or,Ar),setTimeout((function(){r.on("click.drag",null)}),0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}var jr=function(e){return function(){return e}};function Cr(e,t){var n=t.sourceEvent,r=t.subject,i=t.target,a=t.identifier,o=t.active,u=t.x,s=t.y,l=t.dx,c=t.dy,f=t.dispatch;Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},subject:{value:r,enumerable:!0,configurable:!0},target:{value:i,enumerable:!0,configurable:!0},identifier:{value:a,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:u,enumerable:!0,configurable:!0},y:{value:s,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:f}})}function Mr(e){return!e.ctrlKey&&!e.button}function zr(){return this.parentNode}function Nr(e,t){return null==t?{x:e.x,y:e.y}:t}function Dr(){return navigator.maxTouchPoints||"ontouchstart"in this}function Br(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Fr(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Pr(){}Cr.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};var Lr=.7,Rr=1/Lr,Ur="\\s*([+-]?\\d+)\\s*",Vr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Wr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Yr=/^#([0-9a-f]{3,8})$/,Hr=new RegExp("^rgb\\(".concat(Ur,",").concat(Ur,",").concat(Ur,"\\)$")),qr=new RegExp("^rgb\\(".concat(Wr,",").concat(Wr,",").concat(Wr,"\\)$")),Gr=new RegExp("^rgba\\(".concat(Ur,",").concat(Ur,",").concat(Ur,",").concat(Vr,"\\)$")),$r=new RegExp("^rgba\\(".concat(Wr,",").concat(Wr,",").concat(Wr,",").concat(Vr,"\\)$")),Xr=new RegExp("^hsl\\(".concat(Vr,",").concat(Wr,",").concat(Wr,"\\)$")),Qr=new RegExp("^hsla\\(".concat(Vr,",").concat(Wr,",").concat(Wr,",").concat(Vr,"\\)$")),Kr={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Zr(){return this.rgb().formatHex()}function Jr(){return this.rgb().formatRgb()}function ei(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Yr.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?ti(t):3===n?new ai(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?ni(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?ni(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=Hr.exec(e))?new ai(t[1],t[2],t[3],1):(t=qr.exec(e))?new ai(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=Gr.exec(e))?ni(t[1],t[2],t[3],t[4]):(t=$r.exec(e))?ni(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=Xr.exec(e))?fi(t[1],t[2]/100,t[3]/100,1):(t=Qr.exec(e))?fi(t[1],t[2]/100,t[3]/100,t[4]):Kr.hasOwnProperty(e)?ti(Kr[e]):"transparent"===e?new ai(NaN,NaN,NaN,0):null}function ti(e){return new ai(e>>16&255,e>>8&255,255&e,1)}function ni(e,t,n,r){return r<=0&&(e=t=n=NaN),new ai(e,t,n,r)}function ri(e){return e instanceof Pr||(e=ei(e)),e?new ai((e=e.rgb()).r,e.g,e.b,e.opacity):new ai}function ii(e,t,n,r){return 1===arguments.length?ri(e):new ai(e,t,n,null==r?1:r)}function ai(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function oi(){return"#".concat(ci(this.r)).concat(ci(this.g)).concat(ci(this.b))}function ui(){var e=si(this.opacity);return"".concat(1===e?"rgb(":"rgba(").concat(li(this.r),", ").concat(li(this.g),", ").concat(li(this.b)).concat(1===e?")":", ".concat(e,")"))}function si(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function li(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ci(e){return((e=li(e))<16?"0":"")+e.toString(16)}function fi(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new hi(e,t,n,r)}function di(e){if(e instanceof hi)return new hi(e.h,e.s,e.l,e.opacity);if(e instanceof Pr||(e=ei(e)),!e)return new hi;if(e instanceof hi)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),o=NaN,u=a-i,s=(a+i)/2;return u?(o=t===a?(n-r)/u+6*(n<r):n===a?(r-t)/u+2:(t-n)/u+4,u/=s<.5?a+i:2-a-i,o*=60):u=s>0&&s<1?0:o,new hi(o,u,s,e.opacity)}function hi(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function pi(e){return(e=(e||0)%360)<0?e+360:e}function vi(e){return Math.max(0,Math.min(1,e||0))}function mi(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}Br(Pr,ei,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:Zr,formatHex:Zr,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return di(this).formatHsl()},formatRgb:Jr,toString:Jr}),Br(ai,ii,Fr(Pr,{brighter:function(e){return e=null==e?Rr:Math.pow(Rr,e),new ai(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?Lr:Math.pow(Lr,e),new ai(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},clamp:function(){return new ai(li(this.r),li(this.g),li(this.b),si(this.opacity))},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:oi,formatHex:oi,formatHex8:function(){return"#".concat(ci(this.r)).concat(ci(this.g)).concat(ci(this.b)).concat(ci(255*(isNaN(this.opacity)?1:this.opacity)))},formatRgb:ui,toString:ui})),Br(hi,(function(e,t,n,r){return 1===arguments.length?di(e):new hi(e,t,n,null==r?1:r)}),Fr(Pr,{brighter:function(e){return e=null==e?Rr:Math.pow(Rr,e),new hi(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?Lr:Math.pow(Lr,e),new hi(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new ai(mi(e>=240?e-240:e+120,i,r),mi(e,i,r),mi(e<120?e+240:e-120,i,r),this.opacity)},clamp:function(){return new hi(pi(this.h),vi(this.s),vi(this.l),si(this.opacity))},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=si(this.opacity);return"".concat(1===e?"hsl(":"hsla(").concat(pi(this.h),", ").concat(100*vi(this.s),"%, ").concat(100*vi(this.l),"%").concat(1===e?")":", ".concat(e,")"))}}));var yi=Math.PI/180,_i=180/Math.PI,bi=-.14861,gi=1.78277,wi=-.29227,xi=-.90649,ki=1.97294,Si=ki*xi,Ai=ki*gi,Ei=gi*wi-xi*bi;function Oi(e,t,n,r){return 1===arguments.length?function(e){if(e instanceof Ii)return new Ii(e.h,e.s,e.l,e.opacity);e instanceof ai||(e=ri(e));var t=e.r/255,n=e.g/255,r=e.b/255,i=(Ei*r+Si*t-Ai*n)/(Ei+Si-Ai),a=r-i,o=(ki*(n-i)-wi*a)/xi,u=Math.sqrt(o*o+a*a)/(ki*i*(1-i)),s=u?Math.atan2(o,a)*_i-120:NaN;return new Ii(s<0?s+360:s,u,i,e.opacity)}(e):new Ii(e,t,n,null==r?1:r)}function Ii(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Br(Ii,Oi,Fr(Pr,{brighter:function(e){return e=null==e?Rr:Math.pow(Rr,e),new Ii(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?Lr:Math.pow(Lr,e),new Ii(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=isNaN(this.h)?0:(this.h+120)*yi,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),i=Math.sin(e);return new ai(255*(t+n*(bi*r+gi*i)),255*(t+n*(wi*r+xi*i)),255*(t+n*(ki*r)),this.opacity)}}));var Ti=function(e){return function(){return e}};function ji(e,t){return function(n){return e+n*t}}function Ci(e){return 1===(e=+e)?Mi:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):Ti(isNaN(t)?n:t)}}function Mi(e,t){var n=t-e;return n?ji(e,n):Ti(isNaN(e)?t:e)}var zi=function e(t){var n=Ci(t);function r(e,t){var r=n((e=ii(e)).r,(t=ii(t)).r),i=n(e.g,t.g),a=n(e.b,t.b),o=Mi(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=i(t),e.b=a(t),e.opacity=o(t),e+""}}return r.gamma=e,r}(1);var Ni,Di=(Ni=function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],a=e[r+1],o=r>0?e[r-1]:2*i-a,u=r<t-1?e[r+2]:2*a-i;return function(e,t,n,r,i){var a=e*e,o=a*e;return((1-3*e+3*a-o)*t+(4-6*a+3*o)*n+(1+3*e+3*a-3*o)*r+o*i)/6}((n-r/t)*t,o,i,a,u)}},function(e){var t,n,r=e.length,i=new Array(r),a=new Array(r),o=new Array(r);for(t=0;t<r;++t)n=ii(e[t]),i[t]=n.r||0,a[t]=n.g||0,o[t]=n.b||0;return i=Ni(i),a=Ni(a),o=Ni(o),n.opacity=1,function(e){return n.r=i(e),n.g=a(e),n.b=o(e),n+""}});function Bi(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,i=t.slice();return function(a){for(n=0;n<r;++n)i[n]=e[n]*(1-a)+t[n]*a;return i}}function Fi(e,t){var n,r=t?t.length:0,i=e?Math.min(r,e.length):0,a=new Array(i),o=new Array(r);for(n=0;n<i;++n)a[n]=Yi(e[n],t[n]);for(;n<r;++n)o[n]=t[n];return function(e){for(n=0;n<i;++n)o[n]=a[n](e);return o}}function Pi(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Li(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Ri(e,t){var n,r={},i={};for(n in null!==e&&"object"===typeof e||(e={}),null!==t&&"object"===typeof t||(t={}),t)n in e?r[n]=Yi(e[n],t[n]):i[n]=t[n];return function(e){for(n in r)i[n]=r[n](e);return i}}var Ui=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Vi=new RegExp(Ui.source,"g");function Wi(e,t){var n,r,i,a=Ui.lastIndex=Vi.lastIndex=0,o=-1,u=[],s=[];for(e+="",t+="";(n=Ui.exec(e))&&(r=Vi.exec(t));)(i=r.index)>a&&(i=t.slice(a,i),u[o]?u[o]+=i:u[++o]=i),(n=n[0])===(r=r[0])?u[o]?u[o]+=r:u[++o]=r:(u[++o]=null,s.push({i:o,x:Li(n,r)})),a=Vi.lastIndex;return a<t.length&&(i=t.slice(a),u[o]?u[o]+=i:u[++o]=i),u.length<2?s[0]?function(e){return function(t){return e(t)+""}}(s[0].x):function(e){return function(){return e}}(t):(t=s.length,function(e){for(var n,r=0;r<t;++r)u[(n=s[r]).i]=n.x(e);return u.join("")})}function Yi(e,t){var n,r,i=typeof t;return null==t||"boolean"===i?Ti(t):("number"===i?Li:"string"===i?(n=ei(t))?(t=n,zi):Wi:t instanceof ei?zi:t instanceof Date?Pi:(r=t,!ArrayBuffer.isView(r)||r instanceof DataView?Array.isArray(t)?Fi:"function"!==typeof t.valueOf&&"function"!==typeof t.toString||isNaN(t)?Ri:Li:Bi))(e,t)}function Hi(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var qi,Gi=180/Math.PI,$i={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Xi(e,t,n,r,i,a){var o,u,s;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(s=e*n+t*r)&&(n-=e*s,r-=t*s),(u=Math.sqrt(n*n+r*r))&&(n/=u,r/=u,s/=u),e*r<t*n&&(e=-e,t=-t,s=-s,o=-o),{translateX:i,translateY:a,rotate:Math.atan2(t,e)*Gi,skewX:Math.atan(s)*Gi,scaleX:o,scaleY:u}}function Qi(e,t,n,r){function i(e){return e.length?e.pop()+" ":""}return function(a,o){var u=[],s=[];return a=e(a),o=e(o),function(e,r,i,a,o,u){if(e!==i||r!==a){var s=o.push("translate(",null,t,null,n);u.push({i:s-4,x:Li(e,i)},{i:s-2,x:Li(r,a)})}else(i||a)&&o.push("translate("+i+t+a+n)}(a.translateX,a.translateY,o.translateX,o.translateY,u,s),function(e,t,n,a){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),a.push({i:n.push(i(n)+"rotate(",null,r)-2,x:Li(e,t)})):t&&n.push(i(n)+"rotate("+t+r)}(a.rotate,o.rotate,u,s),function(e,t,n,a){e!==t?a.push({i:n.push(i(n)+"skewX(",null,r)-2,x:Li(e,t)}):t&&n.push(i(n)+"skewX("+t+r)}(a.skewX,o.skewX,u,s),function(e,t,n,r,a,o){if(e!==n||t!==r){var u=a.push(i(a)+"scale(",null,",",null,")");o.push({i:u-4,x:Li(e,n)},{i:u-2,x:Li(t,r)})}else 1===n&&1===r||a.push(i(a)+"scale("+n+","+r+")")}(a.scaleX,a.scaleY,o.scaleX,o.scaleY,u,s),a=o=null,function(e){for(var t,n=-1,r=s.length;++n<r;)u[(t=s[n]).i]=t.x(e);return u.join("")}}}var Ki=Qi((function(e){var t=new("function"===typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?$i:Xi(t.a,t.b,t.c,t.d,t.e,t.f)}),"px, ","px)","deg)"),Zi=Qi((function(e){return null==e?$i:(qi||(qi=document.createElementNS("http://www.w3.org/2000/svg","g")),qi.setAttribute("transform",e),(e=qi.transform.baseVal.consolidate())?Xi((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):$i)}),", ",")",")");function Ji(e){return((e=Math.exp(e))+1/e)/2}var ea=function e(t,n,r){function i(e,i){var a,o,u=e[0],s=e[1],l=e[2],c=i[0],f=i[1],d=i[2],h=c-u,p=f-s,v=h*h+p*p;if(v<1e-12)o=Math.log(d/l)/t,a=function(e){return[u+e*h,s+e*p,l*Math.exp(t*e*o)]};else{var m=Math.sqrt(v),y=(d*d-l*l+r*v)/(2*l*n*m),_=(d*d-l*l-r*v)/(2*d*n*m),b=Math.log(Math.sqrt(y*y+1)-y),g=Math.log(Math.sqrt(_*_+1)-_);o=(g-b)/t,a=function(e){var r,i=e*o,a=Ji(b),c=l/(n*m)*(a*(r=t*i+b,((r=Math.exp(2*r))-1)/(r+1))-function(e){return((e=Math.exp(e))-1/e)/2}(b));return[u+c*h,s+c*p,l*a/Ji(t*i+b)]}}return a.duration=1e3*o*t/Math.SQRT2,a}return i.rho=function(t){var n=Math.max(.001,+t),r=n*n;return e(n,r,r*r)},i}(Math.SQRT2,2,4);function ta(e){return function t(n){function r(t,r){var i=e((t=Oi(t)).h,(r=Oi(r)).h),a=Mi(t.s,r.s),o=Mi(t.l,r.l),u=Mi(t.opacity,r.opacity);return function(e){return t.h=i(e),t.s=a(e),t.l=o(Math.pow(e,n)),t.opacity=u(e),t+""}}return n=+n,r.gamma=t,r}(1)}ta((function(e,t){var n=t-e;return n?ji(e,n>180||n<-180?n-360*Math.round(n/360):n):Ti(isNaN(e)?t:e)}));var na=ta(Mi),ra=gr("start","end","cancel","interrupt"),ia=[],aa=0,oa=1,ua=2,sa=3,la=4,ca=5,fa=6;function da(e,t,n,r,i,a){var o=e.__transition;if(o){if(n in o)return}else e.__transition={};!function(e,t,n){var r,i=e.__transition;function a(e){n.state=oa,n.timer.restart(o,n.delay,n.time),n.delay<=e&&o(e-n.delay)}function o(a){var l,c,f,d;if(n.state!==oa)return s();for(l in i)if((d=i[l]).name===n.name){if(d.state===sa)return _r(o);d.state===la?(d.state=fa,d.timer.stop(),d.on.call("interrupt",e,e.__data__,d.index,d.group),delete i[l]):+l<t&&(d.state=fa,d.timer.stop(),d.on.call("cancel",e,e.__data__,d.index,d.group),delete i[l])}if(_r((function(){n.state===sa&&(n.state=la,n.timer.restart(u,n.delay,n.time),u(a))})),n.state=ua,n.on.call("start",e,e.__data__,n.index,n.group),n.state===ua){for(n.state=sa,r=new Array(f=n.tween.length),l=0,c=-1;l<f;++l)(d=n.tween[l].value.call(e,e.__data__,n.index,n.group))&&(r[++c]=d);r.length=c+1}}function u(t){for(var i=t<n.duration?n.ease.call(null,t/n.duration):(n.timer.restart(s),n.state=ca,1),a=-1,o=r.length;++a<o;)r[a].call(e,i);n.state===ca&&(n.on.call("end",e,e.__data__,n.index,n.group),s())}function s(){for(var r in n.state=fa,n.timer.stop(),delete i[t],i)return;delete e.__transition}i[t]=n,n.timer=pr(a,0,n.time)}(e,n,{name:t,index:r,group:i,on:ra,tween:ia,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:aa})}function ha(e,t){var n=va(e,t);if(n.state>aa)throw new Error("too late; already scheduled");return n}function pa(e,t){var n=va(e,t);if(n.state>sa)throw new Error("too late; already running");return n}function va(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function ma(e,t){var n,r,i,a=e.__transition,o=!0;if(a){for(i in t=null==t?null:t+"",a)(n=a[i]).name===t?(r=n.state>ua&&n.state<ca,n.state=fa,n.timer.stop(),n.on.call(r?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete a[i]):o=!1;o&&delete e.__transition}}function ya(e,t){var n,r;return function(){var i=pa(this,e),a=i.tween;if(a!==n)for(var o=0,u=(r=n=a).length;o<u;++o)if(r[o].name===t){(r=r.slice()).splice(o,1);break}i.tween=r}}function _a(e,t,n){var r,i;if("function"!==typeof n)throw new Error;return function(){var a=pa(this,e),o=a.tween;if(o!==r){i=(r=o).slice();for(var u={name:t,value:n},s=0,l=i.length;s<l;++s)if(i[s].name===t){i[s]=u;break}s===l&&i.push(u)}a.tween=i}}function ba(e,t,n){var r=e._id;return e.each((function(){var e=pa(this,r);(e.value||(e.value={}))[t]=n.apply(this,arguments)})),function(e){return va(e,r).value[t]}}function ga(e,t){var n;return("number"===typeof t?Li:t instanceof ei?zi:(n=ei(t))?(t=n,zi):Wi)(e,t)}function wa(e){return function(){this.removeAttribute(e)}}function xa(e){return function(){this.removeAttributeNS(e.space,e.local)}}function ka(e,t,n){var r,i,a=n+"";return function(){var o=this.getAttribute(e);return o===a?null:o===r?i:i=t(r=o,n)}}function Sa(e,t,n){var r,i,a=n+"";return function(){var o=this.getAttributeNS(e.space,e.local);return o===a?null:o===r?i:i=t(r=o,n)}}function Aa(e,t,n){var r,i,a;return function(){var o,u,s=n(this);if(null!=s)return(o=this.getAttribute(e))===(u=s+"")?null:o===r&&u===i?a:(i=u,a=t(r=o,s));this.removeAttribute(e)}}function Ea(e,t,n){var r,i,a;return function(){var o,u,s=n(this);if(null!=s)return(o=this.getAttributeNS(e.space,e.local))===(u=s+"")?null:o===r&&u===i?a:(i=u,a=t(r=o,s));this.removeAttributeNS(e.space,e.local)}}function Oa(e,t){var n,r;function i(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&function(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}(e,i)),n}return i._value=t,i}function Ia(e,t){var n,r;function i(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&function(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}(e,i)),n}return i._value=t,i}function Ta(e,t){return function(){ha(this,e).delay=+t.apply(this,arguments)}}function ja(e,t){return t=+t,function(){ha(this,e).delay=t}}function Ca(e,t){return function(){pa(this,e).duration=+t.apply(this,arguments)}}function Ma(e,t){return t=+t,function(){pa(this,e).duration=t}}var za=Xe.prototype.constructor;function Na(e){return function(){this.style.removeProperty(e)}}var Da=0;function Ba(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function Fa(){return++Da}var Pa=Xe.prototype;Ba.prototype=y({constructor:Ba,select:function(e){var t=this._name,n=this._id;"function"!==typeof e&&(e=Y(e));for(var r=this._groups,i=r.length,a=new Array(i),o=0;o<i;++o)for(var u,s,l=r[o],c=l.length,f=a[o]=new Array(c),d=0;d<c;++d)(u=l[d])&&(s=e.call(u,u.__data__,d,l))&&("__data__"in u&&(s.__data__=u.__data__),f[d]=s,da(f[d],t,n,d,f,va(u,n)));return new Ba(a,this._parents,t,n)},selectAll:function(e){var t=this._name,n=this._id;"function"!==typeof e&&(e=q(e));for(var r=this._groups,i=r.length,a=[],o=[],u=0;u<i;++u)for(var s,l=r[u],c=l.length,f=0;f<c;++f)if(s=l[f]){for(var d,h=e.call(s,s.__data__,f,l),p=va(s,n),v=0,m=h.length;v<m;++v)(d=h[v])&&da(d,t,n,v,h,p);a.push(h),o.push(s)}return new Ba(a,o,t,n)},selectChild:Pa.selectChild,selectChildren:Pa.selectChildren,filter:function(e){"function"!==typeof e&&(e=$(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a,o=t[i],u=o.length,s=r[i]=[],l=0;l<u;++l)(a=o[l])&&e.call(a,a.__data__,l,o)&&s.push(a);return new Ba(r,this._parents,this._name,this._id)},merge:function(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,a=Math.min(r,i),o=new Array(r),u=0;u<a;++u)for(var s,l=t[u],c=n[u],f=l.length,d=o[u]=new Array(f),h=0;h<f;++h)(s=l[h]||c[h])&&(d[h]=s);for(;u<r;++u)o[u]=t[u];return new Ba(o,this._parents,this._name,this._id)},selection:function(){return new za(this._groups,this._parents)},transition:function(){for(var e=this._name,t=this._id,n=Fa(),r=this._groups,i=r.length,a=0;a<i;++a)for(var o,u=r[a],s=u.length,l=0;l<s;++l)if(o=u[l]){var c=va(o,t);da(o,e,n,l,u,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new Ba(r,this._parents,e,n)},call:Pa.call,nodes:Pa.nodes,node:Pa.node,size:Pa.size,empty:Pa.empty,each:Pa.each,on:function(e,t){var n=this._id;return arguments.length<2?va(this.node(),n).on.on(e):this.each(function(e,t,n){var r,i,a=function(e){return(e+"").trim().split(/^|\s+/).every((function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e}))}(t)?ha:pa;return function(){var o=a(this,e),u=o.on;u!==r&&(i=(r=u).copy()).on(t,n),o.on=i}}(n,e,t))},attr:function(e,t){var n=L(e),r="transform"===n?Zi:ga;return this.attrTween(e,"function"===typeof t?(n.local?Ea:Aa)(n,r,ba(this,"attr."+e,t)):null==t?(n.local?xa:wa)(n):(n.local?Sa:ka)(n,r,t))},attrTween:function(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!==typeof t)throw new Error;var r=L(e);return this.tween(n,(r.local?Oa:Ia)(r,t))},style:function(e,t,n){var r="transform"===(e+="")?Ki:ga;return null==t?this.styleTween(e,function(e,t){var n,r,i;return function(){var a=ye(this,e),o=(this.style.removeProperty(e),ye(this,e));return a===o?null:a===n&&o===r?i:i=t(n=a,r=o)}}(e,r)).on("end.style."+e,Na(e)):"function"===typeof t?this.styleTween(e,function(e,t,n){var r,i,a;return function(){var o=ye(this,e),u=n(this),s=u+"";return null==u&&(this.style.removeProperty(e),s=u=ye(this,e)),o===s?null:o===r&&s===i?a:(i=s,a=t(r=o,u))}}(e,r,ba(this,"style."+e,t))).each(function(e,t){var n,r,i,a,o="style."+t,u="end."+o;return function(){var s=pa(this,e),l=s.on,c=null==s.value[o]?a||(a=Na(t)):void 0;l===n&&i===c||(r=(n=l).copy()).on(u,i=c),s.on=r}}(this._id,e)):this.styleTween(e,function(e,t,n){var r,i,a=n+"";return function(){var o=ye(this,e);return o===a?null:o===r?i:i=t(r=o,n)}}(e,r,t),n).on("end.style."+e,null)},styleTween:function(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==t)return this.tween(r,null);if("function"!==typeof t)throw new Error;return this.tween(r,function(e,t,n){var r,i;function a(){var a=t.apply(this,arguments);return a!==i&&(r=(i=a)&&function(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}(e,a,n)),r}return a._value=t,a}(e,t,null==n?"":n))},text:function(e){return this.tween("text","function"===typeof e?function(e){return function(){var t=e(this);this.textContent=null==t?"":t}}(ba(this,"text",e)):function(e){return function(){this.textContent=e}}(null==e?"":e+""))},textTween:function(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(null==e)return this.tween(t,null);if("function"!==typeof e)throw new Error;return this.tween(t,function(e){var t,n;function r(){var r=e.apply(this,arguments);return r!==n&&(t=(n=r)&&function(e){return function(t){this.textContent=e.call(this,t)}}(r)),t}return r._value=e,r}(e))},remove:function(){return this.on("end.remove",(e=this._id,function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}));var e},tween:function(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r,i=va(this.node(),n).tween,a=0,o=i.length;a<o;++a)if((r=i[a]).name===e)return r.value;return null}return this.each((null==t?ya:_a)(n,e,t))},delay:function(e){var t=this._id;return arguments.length?this.each(("function"===typeof e?Ta:ja)(t,e)):va(this.node(),t).delay},duration:function(e){var t=this._id;return arguments.length?this.each(("function"===typeof e?Ca:Ma)(t,e)):va(this.node(),t).duration},ease:function(e){var t=this._id;return arguments.length?this.each(function(e,t){if("function"!==typeof t)throw new Error;return function(){pa(this,e).ease=t}}(t,e)):va(this.node(),t).ease},easeVarying:function(e){if("function"!==typeof e)throw new Error;return this.each(function(e,t){return function(){var n=t.apply(this,arguments);if("function"!==typeof n)throw new Error;pa(this,e).ease=n}}(this._id,e))},end:function(){var e,t,n=this,r=n._id,i=n.size();return new Promise((function(a,o){var u={value:o},s={value:function(){0===--i&&a()}};n.each((function(){var n=pa(this,r),i=n.on;i!==e&&((t=(e=i).copy())._.cancel.push(u),t._.interrupt.push(u),t._.end.push(s)),n.on=t})),0===i&&a()}))}},Symbol.iterator,Pa[Symbol.iterator]);var La={time:null,delay:0,duration:250,ease:function(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}};function Ra(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error("transition ".concat(t," not found"));return n}Xe.prototype.interrupt=function(e){return this.each((function(){ma(this,e)}))},Xe.prototype.transition=function(e){var t,n;e instanceof Ba?(t=e._id,e=e._name):(t=Fa(),(n=La).time=fr(),e=null==e?null:e+"");for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var o,u=r[a],s=u.length,l=0;l<s;++l)(o=u[l])&&da(o,e,t,l,u,n||Ra(o,t));return new Ba(r,this._parents,e,t)};var Ua=function(e){return function(){return e}};function Va(e,t){var n=t.sourceEvent,r=t.target,i=t.transform,a=t.dispatch;Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},transform:{value:i,enumerable:!0,configurable:!0},_:{value:a}})}function Wa(e,t,n){this.k=e,this.x=t,this.y=n}Wa.prototype={constructor:Wa,scale:function(e){return 1===e?this:new Wa(this.k*e,this.x,this.y)},translate:function(e,t){return 0===e&0===t?this:new Wa(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Ya=new Wa(1,0,0);function Ha(e){e.stopImmediatePropagation()}function qa(e){e.preventDefault(),e.stopImmediatePropagation()}function Ga(e){return(!e.ctrlKey||"wheel"===e.type)&&!e.button}function $a(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e).hasAttribute("viewBox")?[[(e=e.viewBox.baseVal).x,e.y],[e.x+e.width,e.y+e.height]]:[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]:[[0,0],[e.clientWidth,e.clientHeight]]}function Xa(){return this.__zoom||Ya}function Qa(e){return-e.deltaY*(1===e.deltaMode?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function Ka(){return navigator.maxTouchPoints||"ontouchstart"in this}function Za(e,t,n){var r=e.invertX(t[0][0])-n[0][0],i=e.invertX(t[1][0])-n[1][0],a=e.invertY(t[0][1])-n[0][1],o=e.invertY(t[1][1])-n[1][1];return e.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),o>a?(a+o)/2:Math.min(0,a)||Math.max(0,o))}function Ja(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function eo(e,t){switch(arguments.length){case 0:break;case 1:"function"===typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"===typeof t?this.interpolator(t):this.range(t)}return this}Wa.prototype;var to=Symbol("implicit");function no(){var e=new ut,t=[],n=[],r=to;function i(i){var a=e.get(i);if(void 0===a){if(r!==to)return r;e.set(i,a=t.push(i)-1)}return n[a%n.length]}return i.domain=function(n){if(!arguments.length)return t.slice();t=[],e=new ut;var r,a=T(n);try{for(a.s();!(r=a.n()).done;){var o=r.value;e.has(o)||e.set(o,t.push(o)-1)}}catch(u){a.e(u)}finally{a.f()}return i},i.range=function(e){return arguments.length?(n=Array.from(e),i):n.slice()},i.unknown=function(e){return arguments.length?(r=e,i):r},i.copy=function(){return no(t,n).unknown(r)},Ja.apply(i,arguments),i}function ro(e){return+e}var io=[0,1];function ao(e){return e}function oo(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:(n=isNaN(t)?NaN:.5,function(){return n});var n}function uo(e,t,n){var r=e[0],i=e[1],a=t[0],o=t[1];return i<r?(r=oo(i,r),a=n(o,a)):(r=oo(r,i),a=n(a,o)),function(e){return a(r(e))}}function so(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)i[o]=oo(e[o],e[o+1]),a[o]=n(t[o],t[o+1]);return function(t){var n=rt(e,t,1,r)-1;return a[n](i[n](t))}}function lo(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function co(){var e,t,n,r,i,a,o=io,u=io,s=Yi,l=ao;function c(){var e=Math.min(o.length,u.length);return l!==ao&&(l=function(e,t){var n;return e>t&&(n=e,e=t,t=n),function(n){return Math.max(e,Math.min(t,n))}}(o[0],o[e-1])),r=e>2?so:uo,i=a=null,f}function f(t){return null==t||isNaN(t=+t)?n:(i||(i=r(o.map(e),u,s)))(e(l(t)))}return f.invert=function(n){return l(t((a||(a=r(u,o.map(e),Li)))(n)))},f.domain=function(e){return arguments.length?(o=Array.from(e,ro),c()):o.slice()},f.range=function(e){return arguments.length?(u=Array.from(e),c()):u.slice()},f.rangeRound=function(e){return u=Array.from(e),s=Hi,c()},f.clamp=function(e){return arguments.length?(l=!!e||ao,c()):l!==ao},f.interpolate=function(e){return arguments.length?(s=e,c()):s},f.unknown=function(e){return arguments.length?(n=e,f):n},function(n,r){return e=n,t=r,c()}}function fo(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function ho(e){return(e=fo(Math.abs(e)))?e[1]:NaN}var po,vo=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function mo(e){if(!(t=vo.exec(e)))throw new Error("invalid format: "+e);var t;return new yo({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function yo(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function _o(e,t){var n=fo(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}mo.prototype=yo.prototype,yo.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var bo={"%":function(e,t){return(100*e).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return _o(100*e,t)},r:_o,s:function(e,t){var n=fo(e,t);if(!n)return e+"";var r=n[0],i=n[1],a=i-(po=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+fo(e,Math.max(0,t+a-1))[0]},X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}};function go(e){return e}var wo,xo,ko,So=Array.prototype.map,Ao=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function Eo(e){var t,n,r=void 0===e.grouping||void 0===e.thousands?go:(t=So.call(e.grouping,Number),n=e.thousands+"",function(e,r){for(var i=e.length,a=[],o=0,u=t[0],s=0;i>0&&u>0&&(s+u+1>r&&(u=Math.max(1,r-s)),a.push(e.substring(i-=u,i+u)),!((s+=u+1)>r));)u=t[o=(o+1)%t.length];return a.reverse().join(n)}),i=void 0===e.currency?"":e.currency[0]+"",a=void 0===e.currency?"":e.currency[1]+"",o=void 0===e.decimal?".":e.decimal+"",u=void 0===e.numerals?go:function(e){return function(t){return t.replace(/[0-9]/g,(function(t){return e[+t]}))}}(So.call(e.numerals,String)),s=void 0===e.percent?"%":e.percent+"",l=void 0===e.minus?"\u2212":e.minus+"",c=void 0===e.nan?"NaN":e.nan+"";function f(e){var t=(e=mo(e)).fill,n=e.align,f=e.sign,d=e.symbol,h=e.zero,p=e.width,v=e.comma,m=e.precision,y=e.trim,_=e.type;"n"===_?(v=!0,_="g"):bo[_]||(void 0===m&&(m=12),y=!0,_="g"),(h||"0"===t&&"="===n)&&(h=!0,t="0",n="=");var b="$"===d?i:"#"===d&&/[boxX]/.test(_)?"0"+_.toLowerCase():"",g="$"===d?a:/[%p]/.test(_)?s:"",w=bo[_],x=/[defgprs%]/.test(_);function k(e){var i,a,s,d=b,k=g;if("c"===_)k=w(e)+k,e="";else{var S=(e=+e)<0||1/e<0;if(e=isNaN(e)?c:w(Math.abs(e),m),y&&(e=function(e){e:for(var t,n=e.length,r=1,i=-1;r<n;++r)switch(e[r]){case".":i=t=r;break;case"0":0===i&&(i=r),t=r;break;default:if(!+e[r])break e;i>0&&(i=0)}return i>0?e.slice(0,i)+e.slice(t+1):e}(e)),S&&0===+e&&"+"!==f&&(S=!1),d=(S?"("===f?f:l:"-"===f||"("===f?"":f)+d,k=("s"===_?Ao[8+po/3]:"")+k+(S&&"("===f?")":""),x)for(i=-1,a=e.length;++i<a;)if(48>(s=e.charCodeAt(i))||s>57){k=(46===s?o+e.slice(i+1):e.slice(i))+k,e=e.slice(0,i);break}}v&&!h&&(e=r(e,1/0));var A=d.length+e.length+k.length,E=A<p?new Array(p-A+1).join(t):"";switch(v&&h&&(e=r(E+e,E.length?p-k.length:1/0),E=""),n){case"<":e=d+e+k+E;break;case"=":e=d+E+e+k;break;case"^":e=E.slice(0,A=E.length>>1)+d+e+k+E.slice(A);break;default:e=E+d+e+k}return u(e)}return m=void 0===m?6:/[gprs]/.test(_)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m)),k.toString=function(){return e+""},k}return{format:f,formatPrefix:function(e,t){var n=f(((e=mo(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(ho(t)/3))),i=Math.pow(10,-r),a=Ao[8+r/3];return function(e){return n(i*e)+a}}}}function Oo(e,t,n,r){var i,a=function(e,t,n){var r=Math.abs(t-e)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),a=r/i;return a>=ct?i*=10:a>=ft?i*=5:a>=dt&&(i*=2),t<e?-i:i}(e,t,n);switch((r=mo(null==r?",f":r)).type){case"s":var o=Math.max(Math.abs(e),Math.abs(t));return null!=r.precision||isNaN(i=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(ho(t)/3)))-ho(Math.abs(e)))}(a,o))||(r.precision=i),ko(r,o);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,ho(t)-ho(e))+1}(a,Math.max(Math.abs(e),Math.abs(t))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(e){return Math.max(0,-ho(Math.abs(e)))}(a))||(r.precision=i-2*("%"===r.type))}return xo(r)}function Io(e){var t=e.domain;return e.ticks=function(e){var n=t();return ht(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var r=t();return Oo(r[0],r[r.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var r,i,a=t(),o=0,u=a.length-1,s=a[o],l=a[u],c=10;for(l<s&&(i=s,s=l,l=i,i=o,o=u,u=i);c-- >0;){if((i=pt(s,l,n))===r)return a[o]=s,a[u]=l,t(a);if(i>0)s=Math.floor(s/i)*i,l=Math.ceil(l/i)*i;else{if(!(i<0))break;s=Math.ceil(s*i)/i,l=Math.floor(l*i)/i}r=i}return e},e}function To(){var e=co()(ao,ao);return e.copy=function(){return lo(e,To())},Ja.apply(e,arguments),Io(e)}function jo(e){return Math.log(e)}function Co(e){return Math.exp(e)}function Mo(e){return-Math.log(-e)}function zo(e){return-Math.exp(-e)}function No(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Do(e){return function(t,n){return-e(-t,n)}}function Bo(e){var t,n,r=e(jo,Co),i=r.domain,a=10;function o(){return t=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),function(t){return Math.log(t)/e})}(a),n=function(e){return 10===e?No:e===Math.E?Math.exp:function(t){return Math.pow(e,t)}}(a),i()[0]<0?(t=Do(t),n=Do(n),e(Mo,zo)):e(jo,Co),r}return r.base=function(e){return arguments.length?(a=+e,o()):a},r.domain=function(e){return arguments.length?(i(e),o()):i()},r.ticks=function(e){var r=i(),o=r[0],u=r[r.length-1],s=u<o;if(s){var l=[u,o];o=l[0],u=l[1]}var c,f,d=t(o),h=t(u),p=null==e?10:+e,v=[];if(!(a%1)&&h-d<p){if(d=Math.floor(d),h=Math.ceil(h),o>0){for(;d<=h;++d)for(c=1;c<a;++c)if(!((f=d<0?c/n(-d):c*n(d))<o)){if(f>u)break;v.push(f)}}else for(;d<=h;++d)for(c=a-1;c>=1;--c)if(!((f=d>0?c/n(-d):c*n(d))<o)){if(f>u)break;v.push(f)}2*v.length<p&&(v=ht(o,u,p))}else v=ht(d,h,Math.min(h-d,p)).map(n);return s?v.reverse():v},r.tickFormat=function(e,i){if(null==e&&(e=10),null==i&&(i=10===a?"s":","),"function"!==typeof i&&(a%1||null!=(i=mo(i)).precision||(i.trim=!0),i=xo(i)),e===1/0)return i;var o=Math.max(1,a*e/r.ticks().length);return function(e){var r=e/n(Math.round(t(e)));return r*a<a-.5&&(r*=a),r<=o?i(e):""}},r.nice=function(){return i(function(e,t){var n,r=0,i=(e=e.slice()).length-1,a=e[r],o=e[i];return o<a&&(n=r,r=i,i=n,n=a,a=o,o=n),e[r]=t.floor(a),e[i]=t.ceil(o),e}(i(),{floor:function(e){return n(Math.floor(t(e)))},ceil:function(e){return n(Math.ceil(t(e)))}}))},r}function Fo(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Po(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Lo(e){return e<0?-e*e:e*e}function Ro(e){var t=e(ao,ao),n=1;return t.exponent=function(t){return arguments.length?1===(n=+t)?e(ao,ao):.5===n?e(Po,Lo):e(Fo(n),Fo(1/n)):n},Io(t)}function Uo(){var e=Ro(co());return e.copy=function(){return lo(e,Uo()).exponent(e.exponent())},Ja.apply(e,arguments),e}function Vo(){var e,t,n,r,i,a=0,o=1,u=ao,s=!1;function l(t){return null==t||isNaN(t=+t)?i:u(0===n?.5:(t=(r(t)-e)*n,s?Math.max(0,Math.min(1,t)):t))}function c(e){return function(t){var n,r,i;return arguments.length?(r=(n=f(t,2))[0],i=n[1],u=e(r,i),l):[u(0),u(1)]}}return l.domain=function(i){var u;return arguments.length?(u=f(i,2),a=u[0],o=u[1],e=r(a=+a),t=r(o=+o),n=e===t?0:1/(t-e),l):[a,o]},l.clamp=function(e){return arguments.length?(s=!!e,l):s},l.interpolator=function(e){return arguments.length?(u=e,l):u},l.range=c(Yi),l.rangeRound=c(Hi),l.unknown=function(e){return arguments.length?(i=e,l):i},function(i){return r=i,e=i(a),t=i(o),n=e===t?0:1/(t-e),l}}function Wo(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function Yo(){var e=Io(Vo()(ao));return e.copy=function(){return Wo(e,Yo())},eo.apply(e,arguments)}function Ho(){var e=Bo(Vo()).domain([1,10]);return e.copy=function(){return Wo(e,Ho()).base(e.base())},eo.apply(e,arguments)}function qo(){var e=Ro(Vo());return e.copy=function(){return Wo(e,qo()).exponent(e.exponent())},eo.apply(e,arguments)}wo=Eo({thousands:",",grouping:[3],currency:["$",""]}),xo=wo.format,ko=wo.formatPrefix;var Go=function(){function e(t,n,r){E(this,e),B(this,"prefs"),B(this,"svg_element_selection"),B(this,"width"),B(this,"height"),B(this,"renderers"),B(this,"tileSet"),B(this,"_timer"),B(this,"_scales"),B(this,"zoomer"),B(this,"transform"),B(this,"_start"),B(this,"scatterplot"),this.prefs=n,this.svg_element_selection=Qe(t),this.width=+this.svg_element_selection.attr("width"),this.height=+this.svg_element_selection.attr("height"),this.renderers=new Map,this.scatterplot=r,this.renderers=new Map}return I(e,[{key:"attach_tiles",value:function(e){return this.tileSet=e,this.tileSet._zoom=this,this}},{key:"attach_renderer",value:function(e,t){return this.renderers.set(e,t),t.bind_zoom(this),t.zoom.initialize_zoom(),this}},{key:"zoom_to",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:4e3,i=this.scales(),a=this.svg_element_selection,o=this.zoomer,u=this.width,s=this.height,l=Ya.translate(u/2,s/2).scale(e).translate(-i.x(t),-i.y(n));a.transition().duration(r).call(o.transform,l)}},{key:"html_annotation",value:function(e){var t=this,n=this.svg_element_selection.node().parentNode.parentNode,r=.75;void 0!==this.scatterplot.prefs.tooltip_opacity&&(r=this.scatterplot.prefs.tooltip_opacity),Qe(n).selectAll("div.tooltip").data(e).join((function(e){return e.append("div").attr("class","tooltip").style("top",0).style("left",0).style("position","absolute").style("z-index",100).style("border-radius","8px").style("padding","10px").style("background","ivory").style("opacity",r)}),(function(e){return e.html((function(e){return t.scatterplot.tooltip_html(e.data)}))}),(function(e){return e.call((function(e){return e.remove()}))})).html((function(e){return t.scatterplot.tooltip_html(e.data)})).style("transform",(function(e){return"translate(".concat(+e.x+e.dx,"px, ").concat(+e.y+e.dy,"px)")}))}},{key:"zoom_to_bbox",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4e3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1.111;console.log("ZOOOOM");var r=this.scales(),i=f(e.x.map(r.x),2),a=i[0],o=i[1],u=f(e.y.map(r.y),2),s=u[0],l=u[1];if(console.log(this.scatterplot.prefs.zoom_align,"AAH"),"right"===this.scatterplot.prefs.zoom_align){var c=this.width/this.height,d=(o-a)/(l-s);if(d<c){var h=d/c;console.log(h,{x0:a}),a-=(o-a)*h}}var p=this.svg_element_selection,v=this.zoomer,m=this.width,y=this.height,_=Ya.translate(m/2,y/2).scale(1/n/Math.max((o-a)/m,(l-s)/y)).translate(-(a+o)/2,-(s+l)/2);p.transition().duration(t).call(v.transform,_)}},{key:"initialize_zoom",value:function(){var e=this,t=this.width,n=this.height,r=this.svg_element_selection;this.transform=Ya;var i=function(){var e,t,n,r=Ga,i=$a,a=Za,o=Qa,u=Ka,s=[0,1/0],l=[[-1/0,-1/0],[1/0,1/0]],c=250,f=ea,d=gr("start","zoom","end"),h=500,p=150,v=0,m=10;function y(e){e.property("__zoom",Xa).on("wheel.zoom",S,{passive:!1}).on("mousedown.zoom",A).on("dblclick.zoom",E).filter(u).on("touchstart.zoom",O).on("touchmove.zoom",I).on("touchend.zoom touchcancel.zoom",T).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function _(e,t){return(t=Math.max(s[0],Math.min(s[1],t)))===e.k?e:new Wa(t,e.x,e.y)}function b(e,t,n){var r=t[0]-n[0]*e.k,i=t[1]-n[1]*e.k;return r===e.x&&i===e.y?e:new Wa(e.k,r,i)}function g(e){return[(+e[0][0]+ +e[1][0])/2,(+e[0][1]+ +e[1][1])/2]}function w(e,t,n,r){e.on("start.zoom",(function(){x(this,arguments).event(r).start()})).on("interrupt.zoom end.zoom",(function(){x(this,arguments).event(r).end()})).tween("zoom",(function(){var e=this,a=arguments,o=x(e,a).event(r),u=i.apply(e,a),s=null==n?g(u):"function"===typeof n?n.apply(e,a):n,l=Math.max(u[1][0]-u[0][0],u[1][1]-u[0][1]),c=e.__zoom,d="function"===typeof t?t.apply(e,a):t,h=f(c.invert(s).concat(l/c.k),d.invert(s).concat(l/d.k));return function(e){if(1===e)e=d;else{var t=h(e),n=l/t[2];e=new Wa(n,s[0]-t[0]*n,s[1]-t[1]*n)}o.zoom(null,e)}}))}function x(e,t,n){return!n&&e.__zooming||new k(e,t)}function k(e,t){this.that=e,this.args=t,this.active=0,this.sourceEvent=null,this.extent=i.apply(e,t),this.taps=0}function S(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(r.apply(this,arguments)){var u=x(this,n).event(e),c=this.__zoom,f=Math.max(s[0],Math.min(s[1],c.k*Math.pow(2,o.apply(this,arguments)))),d=Ke(e);if(u.wheel)u.mouse[0][0]===d[0]&&u.mouse[0][1]===d[1]||(u.mouse[1]=c.invert(u.mouse[0]=d)),clearTimeout(u.wheel);else{if(c.k===f)return;u.mouse=[d,c.invert(d)],ma(this),u.start()}qa(e),u.wheel=setTimeout((function(){u.wheel=null,u.end()}),p),u.zoom("mouse",a(b(_(c,f),u.mouse[0],u.mouse[1]),u.extent,l))}}function A(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),o=1;o<t;o++)i[o-1]=arguments[o];if(!n&&r.apply(this,arguments)){var u=e.currentTarget,s=x(this,i,!0).event(e),c=Qe(e.view).on("mousemove.zoom",(function(e){if(qa(e),!s.moved){var t=e.clientX-d,n=e.clientY-h;s.moved=t*t+n*n>v}s.event(e).zoom("mouse",a(b(s.that.__zoom,s.mouse[0]=Ke(e,u),s.mouse[1]),s.extent,l))}),!0).on("mouseup.zoom",(function(e){c.on("mousemove.zoom mouseup.zoom",null),Tr(e.view,s.moved),qa(e),s.event(e).end()}),!0),f=Ke(e,u),d=e.clientX,h=e.clientY;Ir(e.view),Ha(e),s.mouse=[f,this.__zoom.invert(f)],ma(this),s.start()}}function E(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];if(r.apply(this,arguments)){var u=this.__zoom,s=Ke(e.changedTouches?e.changedTouches[0]:e,this),f=u.invert(s),d=u.k*(e.shiftKey?.5:2),h=a(b(_(u,d),s,f),i.apply(this,n),l);qa(e),c>0?Qe(this).transition().duration(c).call(w,h,s,e):Qe(this).call(y.transform,h,s,e)}}function O(n){for(var i=arguments.length,a=new Array(i>1?i-1:0),o=1;o<i;o++)a[o-1]=arguments[o];if(r.apply(this,arguments)){var u,s,l,c,f=n.touches,d=f.length,p=x(this,a,n.changedTouches.length===d).event(n);for(Ha(n),s=0;s<d;++s)c=[c=Ke(l=f[s],this),this.__zoom.invert(c),l.identifier],p.touch0?p.touch1||p.touch0[2]===c[2]||(p.touch1=c,p.taps=0):(p.touch0=c,u=!0,p.taps=1+!!e);e&&(e=clearTimeout(e)),u&&(p.taps<2&&(t=c[0],e=setTimeout((function(){e=null}),h)),ma(this),p.start())}}function I(e){if(this.__zooming){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,o,u,s,c=x(this,n).event(e),f=e.changedTouches,d=f.length;for(qa(e),i=0;i<d;++i)u=Ke(o=f[i],this),c.touch0&&c.touch0[2]===o.identifier?c.touch0[0]=u:c.touch1&&c.touch1[2]===o.identifier&&(c.touch1[0]=u);if(o=c.that.__zoom,c.touch1){var h=c.touch0[0],p=c.touch0[1],v=c.touch1[0],m=c.touch1[1],y=(y=v[0]-h[0])*y+(y=v[1]-h[1])*y,g=(g=m[0]-p[0])*g+(g=m[1]-p[1])*g;o=_(o,Math.sqrt(y/g)),u=[(h[0]+v[0])/2,(h[1]+v[1])/2],s=[(p[0]+m[0])/2,(p[1]+m[1])/2]}else{if(!c.touch0)return;u=c.touch0[0],s=c.touch0[1]}c.zoom("touch",a(b(o,u,s),c.extent,l))}}function T(e){for(var r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];if(this.__zooming){var o,u,s=x(this,i).event(e),l=e.changedTouches,c=l.length;for(Ha(e),n&&clearTimeout(n),n=setTimeout((function(){n=null}),h),o=0;o<c;++o)u=l[o],s.touch0&&s.touch0[2]===u.identifier?delete s.touch0:s.touch1&&s.touch1[2]===u.identifier&&delete s.touch1;if(s.touch1&&!s.touch0&&(s.touch0=s.touch1,delete s.touch1),s.touch0)s.touch0[1]=this.__zoom.invert(s.touch0[0]);else if(s.end(),2===s.taps&&(u=Ke(u,this),Math.hypot(t[0]-u[0],t[1]-u[1])<m)){var f=Qe(this).on("dblclick.zoom");f&&f.apply(this,arguments)}}}return y.transform=function(e,t,n,r){var i=e.selection?e.selection():e;i.property("__zoom",Xa),e!==i?w(e,t,n,r):i.interrupt().each((function(){x(this,arguments).event(r).start().zoom(null,"function"===typeof t?t.apply(this,arguments):t).end()}))},y.scaleBy=function(e,t,n,r){y.scaleTo(e,(function(){return this.__zoom.k*("function"===typeof t?t.apply(this,arguments):t)}),n,r)},y.scaleTo=function(e,t,n,r){y.transform(e,(function(){var e=i.apply(this,arguments),r=this.__zoom,o=null==n?g(e):"function"===typeof n?n.apply(this,arguments):n,u=r.invert(o),s="function"===typeof t?t.apply(this,arguments):t;return a(b(_(r,s),o,u),e,l)}),n,r)},y.translateBy=function(e,t,n,r){y.transform(e,(function(){return a(this.__zoom.translate("function"===typeof t?t.apply(this,arguments):t,"function"===typeof n?n.apply(this,arguments):n),i.apply(this,arguments),l)}),null,r)},y.translateTo=function(e,t,n,r,o){y.transform(e,(function(){var e=i.apply(this,arguments),o=this.__zoom,u=null==r?g(e):"function"===typeof r?r.apply(this,arguments):r;return a(Ya.translate(u[0],u[1]).scale(o.k).translate("function"===typeof t?-t.apply(this,arguments):-t,"function"===typeof n?-n.apply(this,arguments):-n),e,l)}),r,o)},k.prototype={event:function(e){return e&&(this.sourceEvent=e),this},start:function(){return 1===++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(e,t){return this.mouse&&"mouse"!==e&&(this.mouse[1]=t.invert(this.mouse[0])),this.touch0&&"touch"!==e&&(this.touch0[1]=t.invert(this.touch0[0])),this.touch1&&"touch"!==e&&(this.touch1[1]=t.invert(this.touch1[0])),this.that.__zoom=t,this.emit("zoom"),this},end:function(){return 0===--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(e){var t=Qe(this.that).datum();d.call(e,this.that,new Va(e,{sourceEvent:this.sourceEvent,target:y,type:e,transform:this.that.__zoom,dispatch:d}),t)}},y.wheelDelta=function(e){return arguments.length?(o="function"===typeof e?e:Ua(+e),y):o},y.filter=function(e){return arguments.length?(r="function"===typeof e?e:Ua(!!e),y):r},y.touchable=function(e){return arguments.length?(u="function"===typeof e?e:Ua(!!e),y):u},y.extent=function(e){return arguments.length?(i="function"===typeof e?e:Ua([[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]]),y):i},y.scaleExtent=function(e){return arguments.length?(s[0]=+e[0],s[1]=+e[1],y):[s[0],s[1]]},y.translateExtent=function(e){return arguments.length?(l[0][0]=+e[0][0],l[1][0]=+e[1][0],l[0][1]=+e[0][1],l[1][1]=+e[1][1],y):[[l[0][0],l[0][1]],[l[1][0],l[1][1]]]},y.constrain=function(e){return arguments.length?(a=e,y):a},y.duration=function(e){return arguments.length?(c=+e,y):c},y.interpolate=function(e){return arguments.length?(f=e,y):f},y.on=function(){var e=d.on.apply(d,arguments);return e===d?y:e},y.clickDistance=function(e){return arguments.length?(v=(e=+e)*e,y):Math.sqrt(v)},y.tapDistance=function(e){return arguments.length?(m=+e,y):m},y}().scaleExtent([1/3,1e5]).extent([[0,0],[t,n]]).on("zoom",(function(t){var n,r,i;try{document.getElementById("tooltipcircle").remove()}catch(a){}e.transform=t.transform,e.restart_timer(1e4),null==(r=(n=e.scatterplot).on_zoom)||r.call(n,t.transform),null==(i=null==t?void 0:t.sourceEvent)||i.stopPropagation()}));r.call(i),this.add_mouseover(),this.zoomer=i}},{key:"set_highlit_points",value:function(e){var t=this,n=this.scales(),r=n.x_,i=n.y_,a=this.scatterplot.dim("x"),o=this.scatterplot.dim("y"),u=e.map((function(e){return{x:r(a.apply(e)),y:i(o.apply(e)),data:e,dx:0,dy:30}}));this.html_annotation(u),this.svg_element_selection.select("#mousepoints").selectAll("circle.label").data(e,(function(e){return e.ix})).join((function(e){return e.append("circle").attr("id","tooltipcircle").attr("class","label").attr("stroke","#110022").attr("r",12).attr("fill",(function(e){return t.scatterplot.dim("color").apply(e)})).attr("cx",(function(e){return r(a.apply(e))})).attr("cy",(function(e){return i(o.apply(e))}))}),(function(e){return e.attr("fill",(function(e){return t.scatterplot.dim("color").apply(e)}))}),(function(e){return e.call((function(e){e.remove(),t.prefs.exit_function&&t.prefs.exit_function()}))})).on("click",(function(e,n){t.scatterplot.click_function(n)}))}},{key:"set_highlit_point",value:function(e){this.set_highlit_points([e])}},{key:"add_mouseover",value:function(){var e=this,t=0,n=this.renderers.get("regl");this.svg_element_selection.on("mousemove",(function(r){if(!(Date.now()-t<75)){t=Date.now();var i=n.color_pick(r.offsetX,r.offsetY);null===i?e.set_highlit_points([]):e.set_highlit_points([i])}}))}},{key:"current_corners",value:function(){var e=this.width,t=this.height,n=this.scales();if(void 0!==n){var r=n.x_,i=n.y_;return{x:[r.invert(0),r.invert(e)],y:[i.invert(0),i.invert(t)]}}}},{key:"current_center",value:function(){var e=this.current_corners(),t=e.x,n=e.y;return[(t[0]+t[1])/2,(n[0]+n[1])/2]}},{key:"restart_timer",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e4,t=Date.now()+e;this._timer&&(this._timer.stop_at>t&&(t=this._timer.stop_at),this._timer.stop());var n=pr(this.tick.bind(this));return this._timer=n,this._timer.stop_at=t,this._timer}},{key:"data",value:function(e){return void 0===e?this.tileSet:(this.tileSet=e,this)}},{key:"scales",value:function(){if(this._scales)return this._scales.x_=this.transform.rescaleX(this._scales.x),this._scales.y_=this.transform.rescaleY(this._scales.y),this._scales;var e=this.width,t=this.height;if(void 0===this.tileSet)throw new Error("Error--scales created before tileSet present.");var n=this.tileSet.extent,r={};if(void 0===n)throw new Error("Error--scales created before extent present.");for(var i={},a=0,o=[["x",e],["y",t]];a<o.length;a++){var u=f(o[a],2),s=u[0],l=u[1],c=n[s],d=c[1]-c[0];i[s]={limits:c,size_range:d,pixels_per_unit:l/d}}var h=i.x.pixels_per_unit/i.y.pixels_per_unit,p=0,v=0;return h>1?p=(e-e/h)/2:v=(t-t*h)/2,r.x=To().domain(i.x.limits).range([p,e-p]),r.y=To().domain(i.y.limits).range([v,t-v]),r.x_=this.transform.rescaleX(r.x),r.y_=this.transform.rescaleY(r.y),this._scales=r,r}},{key:"webgl_scale",value:function(){var e=this.scales();return function(e,t){function n(e){return e[1]-e[0]}var r=yt(e.domain()),i=yt(t.domain()),a=n(e.range())/n(e.domain()),o=n(t.range())/n(t.domain());return[[a,0,-a*r+yt(e.range())],[0,o,-o*i+yt(t.range())],[0,0,1]]}(e.x,e.y).flat()}},{key:"tick",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._start=this._start||Date.now(),!0!==e&&this._timer&&this._timer.stop_at<=Date.now()&&this._timer.stop()}}]),e}();var $o={exports:{}};$o.exports=function(){var e=function(e){return e instanceof Uint8Array||e instanceof Uint16Array||e instanceof Uint32Array||e instanceof Int8Array||e instanceof Int16Array||e instanceof Int32Array||e instanceof Float32Array||e instanceof Float64Array||e instanceof Uint8ClampedArray},t=function(e,t){for(var n=Object.keys(t),r=0;r<n.length;++r)e[n[r]]=t[n[r]];return e},n="\n";function r(e){return"undefined"!==typeof atob?atob(e):"base64:"+e}function i(e){var t=new Error("(regl) "+e);throw console.error(t),t}function a(e,t){e||i(t)}function o(e){return e?": "+e:""}function u(e,t,n){e in t||i("unknown parameter ("+e+")"+o(n)+". possible values: "+Object.keys(t).join())}function s(t,n){e(t)||i("invalid parameter type"+o(n)+". must be a typed array")}function l(e,t){switch(t){case"number":return"number"===typeof e;case"object":return"object"===typeof e;case"string":return"string"===typeof e;case"boolean":return"boolean"===typeof e;case"function":return"function"===typeof e;case"undefined":return"undefined"===typeof e;case"symbol":return"symbol"===typeof e}}function c(e,t,n){l(e,t)||i("invalid parameter type"+o(n)+". expected "+t+", got "+typeof e)}function f(e,t){e>=0&&(0|e)===e||i("invalid parameter type, ("+e+")"+o(t)+". must be a nonnegative integer")}function d(e,t,n){t.indexOf(e)<0&&i("invalid value"+o(n)+". must be one of: "+t)}var h=["gl","canvas","container","attributes","pixelRatio","extensions","optionalExtensions","profile","onDone"];function p(e){Object.keys(e).forEach((function(e){h.indexOf(e)<0&&i('invalid regl constructor argument "'+e+'". must be one of '+h)}))}function v(e,t){for(e+="";e.length<t;)e=" "+e;return e}function m(){this.name="unknown",this.lines=[],this.index={},this.hasErrors=!1}function y(e,t){this.number=e,this.line=t,this.errors=[]}function _(e,t,n){this.file=e,this.line=t,this.message=n}function b(){var e=new Error,t=(e.stack||e).toString(),n=/compileProcedure.*\n\s*at.*\((.*)\)/.exec(t);if(n)return n[1];var r=/compileProcedure.*\n\s*at\s+(.*)(\n|$)/.exec(t);return r?r[1]:"unknown"}function g(){var e=new Error,t=(e.stack||e).toString(),n=/at REGLCommand.*\n\s+at.*\((.*)\)/.exec(t);if(n)return n[1];var r=/at REGLCommand.*\n\s+at\s+(.*)\n/.exec(t);return r?r[1]:"unknown"}function w(e,t){var n=e.split("\n"),i=1,a=0,o={unknown:new m,0:new m};o.unknown.name=o[0].name=t||b(),o.unknown.lines.push(new y(0,""));for(var u=0;u<n.length;++u){var s=n[u],l=/^\s*#\s*(\w+)\s+(.+)\s*$/.exec(s);if(l)switch(l[1]){case"line":var c=/(\d+)(\s+\d+)?/.exec(l[2]);c&&(i=0|c[1],c[2]&&((a=0|c[2])in o||(o[a]=new m)));break;case"define":var f=/SHADER_NAME(_B64)?\s+(.*)$/.exec(l[2]);f&&(o[a].name=f[1]?r(f[2]):f[2])}o[a].lines.push(new y(i++,s))}return Object.keys(o).forEach((function(e){var t=o[e];t.lines.forEach((function(e){t.index[e.number]=e}))})),o}function x(e){var t=[];return e.split("\n").forEach((function(e){if(!(e.length<5)){var n=/^ERROR:\s+(\d+):(\d+):\s*(.*)$/.exec(e);n?t.push(new _(0|n[1],0|n[2],n[3].trim())):e.length>0&&t.push(new _("unknown",0,e))}})),t}function k(e,t){t.forEach((function(t){var n=e[t.file];if(n){var r=n.index[t.line];if(r)return r.errors.push(t),void(n.hasErrors=!0)}e.unknown.hasErrors=!0,e.unknown.lines[0].errors.push(t)}))}function S(e,t,r,i,o){if(!e.getShaderParameter(t,e.COMPILE_STATUS)){var u=e.getShaderInfoLog(t),s=i===e.FRAGMENT_SHADER?"fragment":"vertex";C(r,"string",s+" shader source must be a string",o);var l=w(r,o),c=x(u);k(l,c),Object.keys(l).forEach((function(e){var t=l[e];if(t.hasErrors){var r=[""],i=[""];a("file number "+e+": "+t.name+"\n","color:red;text-decoration:underline;font-weight:bold"),t.lines.forEach((function(e){if(e.errors.length>0){a(v(e.number,4)+"|  ","background-color:yellow; font-weight:bold"),a(e.line+n,"color:red; background-color:yellow; font-weight:bold");var t=0;e.errors.forEach((function(r){var i=r.message,o=/^\s*'(.*)'\s*:\s*(.*)$/.exec(i);if(o){var u=o[1];i=o[2],"assign"===u&&(u="="),t=Math.max(e.line.indexOf(u,t),0)}else t=0;a(v("| ",6)),a(v("^^^",t+3)+n,"font-weight:bold"),a(v("| ",6)),a(i+n,"font-weight:bold")})),a(v("| ",6)+n)}else a(v(e.number,4)+"|  "),a(e.line+n,"color:red")})),"undefined"===typeof document||window.chrome?console.log(r.join("")):(i[0]=r.join("%c"),console.log.apply(console,i))}function a(e,t){r.push(e),i.push(t||"")}})),a.raise("Error compiling "+s+" shader, "+l[0].name)}}function A(e,t,r,i,o){if(!e.getProgramParameter(t,e.LINK_STATUS)){var u=e.getProgramInfoLog(t),s=w(r,o),l='Error linking program with vertex shader, "'+w(i,o)[0].name+'", and fragment shader "'+s[0].name+'"';"undefined"!==typeof document?console.log("%c"+l+n+"%c"+u,"color:red;text-decoration:underline;font-weight:bold","color:red"):console.log(l+n+u),a.raise(l)}}function E(e){e._commandRef=b()}function O(e,t,n,r){function i(e){return e?r.id(e):0}function a(e,t){Object.keys(t).forEach((function(t){e[r.id(t)]=!0}))}E(e),e._fragId=i(e.static.frag),e._vertId=i(e.static.vert);var o=e._uniformSet={};a(o,t.static),a(o,t.dynamic);var u=e._attributeSet={};a(u,n.static),a(u,n.dynamic),e._hasCount="count"in e.static||"count"in e.dynamic||"elements"in e.static||"elements"in e.dynamic}function I(e,t){var n=g();i(e+" in command "+(t||b())+("unknown"===n?"":" called from "+n))}function T(e,t,n){e||I(t,n||b())}function j(e,t,n,r){e in t||I("unknown parameter ("+e+")"+o(n)+". possible values: "+Object.keys(t).join(),r||b())}function C(e,t,n,r){l(e,t)||I("invalid parameter type"+o(n)+". expected "+t+", got "+typeof e,r||b())}function M(e){e()}function z(e,t,n){e.texture?d(e.texture._texture.internalformat,t,"unsupported texture format for attachment"):d(e.renderbuffer._renderbuffer.format,n,"unsupported renderbuffer format for attachment")}var N=33071,D=9728,B=9984,F=9985,P=9986,L=9987,R=5121,U=5122,V=5123,W=5124,Y=5125,H=5126,q=32819,G=32820,$=33635,X=34042,Q=36193,K={};function Z(e,t){return e===G||e===q||e===$?2:e===X?4:K[e]*t}function J(e){return!(e&e-1)&&!!e}function ee(e,t,n){var r,i=t.width,o=t.height,u=t.channels;a(i>0&&i<=n.maxTextureSize&&o>0&&o<=n.maxTextureSize,"invalid texture shape"),e.wrapS===N&&e.wrapT===N||a(J(i)&&J(o),"incompatible wrap mode for texture, both width and height must be power of 2"),1===t.mipmask?1!==i&&1!==o&&a(e.minFilter!==B&&e.minFilter!==P&&e.minFilter!==F&&e.minFilter!==L,"min filter requires mipmap"):(a(J(i)&&J(o),"texture must be a square power of 2 to support mipmapping"),a(t.mipmask===(i<<1)-1,"missing or incomplete mipmap data")),t.type===H&&(n.extensions.indexOf("oes_texture_float_linear")<0&&a(e.minFilter===D&&e.magFilter===D,"filter not supported, must enable oes_texture_float_linear"),a(!e.genMipmaps,"mipmap generation not supported with float textures"));var s=t.images;for(r=0;r<16;++r)if(s[r]){var l=i>>r,c=o>>r;a(t.mipmask&1<<r,"missing mipmap data");var f=s[r];if(a(f.width===l&&f.height===c,"invalid shape for mip images"),a(f.format===t.format&&f.internalformat===t.internalformat&&f.type===t.type,"incompatible type for mip image"),f.compressed);else if(f.data){var d=Math.ceil(Z(f.type,u)*l/f.unpackAlignment)*f.unpackAlignment;a(f.data.byteLength===d*c,"invalid data for image, buffer size is inconsistent with image format")}else f.element||f.copy}else e.genMipmaps||a(0===(t.mipmask&1<<r),"extra mipmap data");t.compressed&&a(!e.genMipmaps,"mipmap generation for compressed images not supported")}function te(e,t,n,r){var i=e.width,o=e.height,u=e.channels;a(i>0&&i<=r.maxTextureSize&&o>0&&o<=r.maxTextureSize,"invalid texture shape"),a(i===o,"cube map must be square"),a(t.wrapS===N&&t.wrapT===N,"wrap mode not supported by cube map");for(var s=0;s<n.length;++s){var l=n[s];a(l.width===i&&l.height===o,"inconsistent cube map face shape"),t.genMipmaps&&(a(!l.compressed,"can not generate mipmap for compressed textures"),a(1===l.mipmask,"can not specify mipmaps and generate mipmaps"));for(var c=l.images,f=0;f<16;++f){var d=c[f];if(d){var h=i>>f,p=o>>f;a(l.mipmask&1<<f,"missing mipmap data"),a(d.width===h&&d.height===p,"invalid shape for mip images"),a(d.format===e.format&&d.internalformat===e.internalformat&&d.type===e.type,"incompatible type for mip image"),d.compressed||(d.data?a(d.data.byteLength===h*p*Math.max(Z(d.type,u),d.unpackAlignment),"invalid data for image, buffer size is inconsistent with image format"):d.element||d.copy)}}}}K[5120]=K[R]=1,K[U]=K[V]=K[Q]=K[$]=K[q]=K[G]=2,K[W]=K[Y]=K[H]=K[X]=4;var ne=t(a,{optional:M,raise:i,commandRaise:I,command:T,parameter:u,commandParameter:j,constructor:p,type:c,commandType:C,isTypedArray:s,nni:f,oneOf:d,shaderError:S,linkError:A,callSite:g,saveCommandRef:E,saveDrawInfo:O,framebufferFormat:z,guessCommand:b,texture2D:ee,textureCube:te}),re=0,ie=0,ae=5,oe=6;function ue(e,t){this.id=re++,this.type=e,this.data=t}function se(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}function le(e){if(0===e.length)return[];var t=e.charAt(0),n=e.charAt(e.length-1);if(e.length>1&&t===n&&('"'===t||"'"===t))return['"'+se(e.substr(1,e.length-2))+'"'];var r=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(e);if(r)return le(e.substr(0,r.index)).concat(le(r[1])).concat(le(e.substr(r.index+r[0].length)));var i=e.split(".");if(1===i.length)return['"'+se(e)+'"'];for(var a=[],o=0;o<i.length;++o)a=a.concat(le(i[o]));return a}function ce(e){return"["+le(e).join("][")+"]"}function fe(e,t){return new ue(e,ce(t+""))}function de(e){return"function"===typeof e&&!e._reglType||e instanceof ue}function he(e,t){return"function"===typeof e?new ue(ie,e):"number"===typeof e||"boolean"===typeof e?new ue(ae,e):Array.isArray(e)?new ue(oe,e.map((function(e,n){return he(e,t+"["+n+"]")}))):e instanceof ue?e:void ne(!1,"invalid option type in uniform "+t)}var pe={DynamicVariable:ue,define:fe,isDynamic:de,unbox:he,accessor:ce},ve={next:"function"===typeof requestAnimationFrame?function(e){return requestAnimationFrame(e)}:function(e){return setTimeout(e,16)},cancel:"function"===typeof cancelAnimationFrame?function(e){return cancelAnimationFrame(e)}:clearTimeout},me="undefined"!==typeof performance&&performance.now?function(){return performance.now()}:function(){return+new Date};function ye(){var e={"":0},t=[""];return{id:function(n){var r=e[n];return r||(r=e[n]=t.length,t.push(n),r)},str:function(e){return t[e]}}}function _e(e,n,r){var i,a=document.createElement("canvas");function o(){var t=window.innerWidth,n=window.innerHeight;if(e!==document.body){var i=a.getBoundingClientRect();t=i.right-i.left,n=i.bottom-i.top}a.width=r*t,a.height=r*n}function u(){i?i.disconnect():window.removeEventListener("resize",o),e.removeChild(a)}return t(a.style,{border:0,margin:0,padding:0,top:0,left:0,width:"100%",height:"100%"}),e.appendChild(a),e===document.body&&(a.style.position="absolute",t(e.style,{margin:0,padding:0})),e!==document.body&&"function"===typeof ResizeObserver?(i=new ResizeObserver((function(){setTimeout(o)}))).observe(e):window.addEventListener("resize",o,!1),o(),{canvas:a,onDestroy:u}}function be(e,t){function n(n){try{return e.getContext(n,t)}catch(r){return null}}return n("webgl")||n("experimental-webgl")||n("webgl-experimental")}function ge(e){return"string"===typeof e.nodeName&&"function"===typeof e.appendChild&&"function"===typeof e.getBoundingClientRect}function we(e){return"function"===typeof e.drawArrays||"function"===typeof e.drawElements}function xe(e){return"string"===typeof e?e.split():(ne(Array.isArray(e),"invalid extension array"),e)}function ke(e){return"string"===typeof e?(ne("undefined"!==typeof document,"not supported outside of DOM"),document.querySelector(e)):e}function Se(e){var t,n,r,i,a=e||{},o={},u=[],s=[],l="undefined"===typeof window?1:window.devicePixelRatio,c=!1,f=function(e){e&&ne.raise(e)},d=function(){};if("string"===typeof a?(ne("undefined"!==typeof document,"selector queries only supported in DOM enviroments"),t=document.querySelector(a),ne(t,"invalid query string for element")):"object"===typeof a?ge(a)?t=a:we(a)?r=(i=a).canvas:(ne.constructor(a),"gl"in a?i=a.gl:"canvas"in a?r=ke(a.canvas):"container"in a&&(n=ke(a.container)),"attributes"in a&&(o=a.attributes,ne.type(o,"object","invalid context attributes")),"extensions"in a&&(u=xe(a.extensions)),"optionalExtensions"in a&&(s=xe(a.optionalExtensions)),"onDone"in a&&(ne.type(a.onDone,"function","invalid or missing onDone callback"),f=a.onDone),"profile"in a&&(c=!!a.profile),"pixelRatio"in a&&(l=+a.pixelRatio,ne(l>0,"invalid pixel ratio"))):ne.raise("invalid arguments to regl"),t&&("canvas"===t.nodeName.toLowerCase()?r=t:n=t),!i){if(!r){ne("undefined"!==typeof document,"must manually specify webgl context outside of DOM environments");var h=_e(n||document.body,f,l);if(!h)return null;r=h.canvas,d=h.onDestroy}void 0===o.premultipliedAlpha&&(o.premultipliedAlpha=!0),i=be(r,o)}return i?{gl:i,canvas:r,container:n,extensions:u,optionalExtensions:s,pixelRatio:l,profile:c,onDone:f,onDestroy:d}:(d(),f("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function Ae(e,t){var n={};function r(t){ne.type(t,"string","extension name must be string");var r,i=t.toLowerCase();try{r=n[i]=e.getExtension(i)}catch(a){}return!!r}for(var i=0;i<t.extensions.length;++i){var a=t.extensions[i];if(!r(a))return t.onDestroy(),t.onDone('"'+a+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return t.optionalExtensions.forEach(r),{extensions:n,restore:function(){Object.keys(n).forEach((function(e){if(n[e]&&!r(e))throw new Error("(regl): error restoring extension "+e)}))}}}function Ee(e,t){for(var n=Array(e),r=0;r<e;++r)n[r]=t(r);return n}var Oe=5120,Ie=5121,Te=5122,je=5123,Ce=5124,Me=5125,ze=5126;function Ne(e){for(var t=16;t<=1<<28;t*=16)if(e<=t)return t;return 0}function De(e){var t,n;return t=(e>65535)<<4,t|=n=((e>>>=t)>255)<<3,t|=n=((e>>>=n)>15)<<2,(t|=n=((e>>>=n)>3)<<1)|(e>>>=n)>>1}function Be(){var e=Ee(8,(function(){return[]}));function t(t){var n=Ne(t),r=e[De(n)>>2];return r.length>0?r.pop():new ArrayBuffer(n)}function n(t){e[De(t.byteLength)>>2].push(t)}function r(e,n){var r=null;switch(e){case Oe:r=new Int8Array(t(n),0,n);break;case Ie:r=new Uint8Array(t(n),0,n);break;case Te:r=new Int16Array(t(2*n),0,n);break;case je:r=new Uint16Array(t(2*n),0,n);break;case Ce:r=new Int32Array(t(4*n),0,n);break;case Me:r=new Uint32Array(t(4*n),0,n);break;case ze:r=new Float32Array(t(4*n),0,n);break;default:return null}return r.length!==n?r.subarray(0,n):r}function i(e){n(e.buffer)}return{alloc:t,free:n,allocType:r,freeType:i}}var Fe=Be();Fe.zero=Be();var Pe=3408,Le=3410,Re=3411,Ue=3412,Ve=3413,We=3414,Ye=3415,He=33901,qe=33902,Ge=3379,$e=3386,Xe=34921,Qe=36347,Ke=36348,Ze=35661,Je=35660,et=34930,tt=36349,nt=34076,rt=34024,it=7936,at=7937,ot=7938,ut=35724,st=34047,lt=36063,ct=34852,ft=3553,dt=34067,ht=34069,pt=33984,vt=6408,mt=5126,yt=5121,_t=36160,bt=36053,gt=36064,wt=16384,xt=function(e,t){var n=1;t.ext_texture_filter_anisotropic&&(n=e.getParameter(st));var r=1,i=1;t.webgl_draw_buffers&&(r=e.getParameter(ct),i=e.getParameter(lt));var a=!!t.oes_texture_float;if(a){var o=e.createTexture();e.bindTexture(ft,o),e.texImage2D(ft,0,vt,1,1,0,vt,mt,null);var u=e.createFramebuffer();if(e.bindFramebuffer(_t,u),e.framebufferTexture2D(_t,gt,ft,o,0),e.bindTexture(ft,null),e.checkFramebufferStatus(_t)!==bt)a=!1;else{e.viewport(0,0,1,1),e.clearColor(1,0,0,1),e.clear(wt);var s=Fe.allocType(mt,4);e.readPixels(0,0,1,1,vt,mt,s),e.getError()?a=!1:(e.deleteFramebuffer(u),e.deleteTexture(o),a=1===s[0]),Fe.freeType(s)}}var l=!0;if("undefined"===typeof navigator||!(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent))){var c=e.createTexture(),f=Fe.allocType(yt,36);e.activeTexture(pt),e.bindTexture(dt,c),e.texImage2D(ht,0,vt,3,3,0,vt,yt,f),Fe.freeType(f),e.bindTexture(dt,null),e.deleteTexture(c),l=!e.getError()}return{colorBits:[e.getParameter(Le),e.getParameter(Re),e.getParameter(Ue),e.getParameter(Ve)],depthBits:e.getParameter(We),stencilBits:e.getParameter(Ye),subpixelBits:e.getParameter(Pe),extensions:Object.keys(t).filter((function(e){return!!t[e]})),maxAnisotropic:n,maxDrawbuffers:r,maxColorAttachments:i,pointSizeDims:e.getParameter(He),lineWidthDims:e.getParameter(qe),maxViewportDims:e.getParameter($e),maxCombinedTextureUnits:e.getParameter(Ze),maxCubeMapSize:e.getParameter(nt),maxRenderbufferSize:e.getParameter(rt),maxTextureUnits:e.getParameter(et),maxTextureSize:e.getParameter(Ge),maxAttributes:e.getParameter(Xe),maxVertexUniforms:e.getParameter(Qe),maxVertexTextureUnits:e.getParameter(Je),maxVaryingVectors:e.getParameter(Ke),maxFragmentUniforms:e.getParameter(tt),glsl:e.getParameter(ut),renderer:e.getParameter(at),vendor:e.getParameter(it),version:e.getParameter(ot),readFloat:a,npotTextureCube:l}};function kt(t){return!!t&&"object"===typeof t&&Array.isArray(t.shape)&&Array.isArray(t.stride)&&"number"===typeof t.offset&&t.shape.length===t.stride.length&&(Array.isArray(t.data)||e(t.data))}var St=function(e){return Object.keys(e).map((function(t){return e[t]}))},At={shape:Ct,flatten:jt};function Et(e,t,n){for(var r=0;r<t;++r)n[r]=e[r]}function Ot(e,t,n,r){for(var i=0,a=0;a<t;++a)for(var o=e[a],u=0;u<n;++u)r[i++]=o[u]}function It(e,t,n,r,i,a){for(var o=a,u=0;u<t;++u)for(var s=e[u],l=0;l<n;++l)for(var c=s[l],f=0;f<r;++f)i[o++]=c[f]}function Tt(e,t,n,r,i){for(var a=1,o=n+1;o<t.length;++o)a*=t[o];var u=t[n];if(t.length-n===4){var s=t[n+1],l=t[n+2],c=t[n+3];for(o=0;o<u;++o)It(e[o],s,l,c,r,i),i+=a}else for(o=0;o<u;++o)Tt(e[o],t,n+1,r,i),i+=a}function jt(e,t,n,r){var i=1;if(t.length)for(var a=0;a<t.length;++a)i*=t[a];else i=0;var o=r||Fe.allocType(n,i);switch(t.length){case 0:break;case 1:Et(e,t[0],o);break;case 2:Ot(e,t[0],t[1],o);break;case 3:It(e,t[0],t[1],t[2],o,0);break;default:Tt(e,t,0,o,0)}return o}function Ct(e){for(var t=[],n=e;n.length;n=n[0])t.push(n.length);return t}var Mt={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},zt={int8:5120,int16:5122,int32:5124,uint8:5121,uint16:5123,uint32:5125,float:5126,float32:5126},Nt={dynamic:35048,stream:35040,static:35044},Dt=At.flatten,Bt=At.shape,Ft=35044,Pt=35040,Lt=5121,Rt=5126,Ut=[];function Vt(e){return 0|Mt[Object.prototype.toString.call(e)]}function Wt(e,t){for(var n=0;n<t.length;++n)e[n]=t[n]}function Yt(e,t,n,r,i,a,o){for(var u=0,s=0;s<n;++s)for(var l=0;l<r;++l)e[u++]=t[i*s+a*l+o]}function Ht(t,n,r,i){var a=0,o={};function u(e){this.id=a++,this.buffer=t.createBuffer(),this.type=e,this.usage=Ft,this.byteLength=0,this.dimension=1,this.dtype=Lt,this.persistentData=null,r.profile&&(this.stats={size:0})}u.prototype.bind=function(){t.bindBuffer(this.type,this.buffer)},u.prototype.destroy=function(){h(this)};var s=[];function l(e,t){var n=s.pop();return n||(n=new u(e)),n.bind(),d(n,t,Pt,0,1,!1),n}function c(e){s.push(e)}function f(e,n,r){e.byteLength=n.byteLength,t.bufferData(e.type,n,r)}function d(t,n,r,i,a,o){var u,s;if(t.usage=r,Array.isArray(n)){if(t.dtype=i||Rt,n.length>0)if(Array.isArray(n[0])){u=Bt(n);for(var l=1,c=1;c<u.length;++c)l*=u[c];t.dimension=l,f(t,s=Dt(n,u,t.dtype),r),o?t.persistentData=s:Fe.freeType(s)}else if("number"===typeof n[0]){t.dimension=a;var d=Fe.allocType(t.dtype,n.length);Wt(d,n),f(t,d,r),o?t.persistentData=d:Fe.freeType(d)}else e(n[0])?(t.dimension=n[0].length,t.dtype=i||Vt(n[0])||Rt,f(t,s=Dt(n,[n.length,n[0].length],t.dtype),r),o?t.persistentData=s:Fe.freeType(s)):ne.raise("invalid buffer data")}else if(e(n))t.dtype=i||Vt(n),t.dimension=a,f(t,n,r),o&&(t.persistentData=new Uint8Array(new Uint8Array(n.buffer)));else if(kt(n)){u=n.shape;var h=n.stride,p=n.offset,v=0,m=0,y=0,_=0;1===u.length?(v=u[0],m=1,y=h[0],_=0):2===u.length?(v=u[0],m=u[1],y=h[0],_=h[1]):ne.raise("invalid shape"),t.dtype=i||Vt(n.data)||Rt,t.dimension=m;var b=Fe.allocType(t.dtype,v*m);Yt(b,n.data,v,m,y,_,p),f(t,b,r),o?t.persistentData=b:Fe.freeType(b)}else n instanceof ArrayBuffer?(t.dtype=Lt,t.dimension=a,f(t,n,r),o&&(t.persistentData=new Uint8Array(new Uint8Array(n)))):ne.raise("invalid buffer data")}function h(e){n.bufferCount--,i(e);var r=e.buffer;ne(r,"buffer must not be deleted already"),t.deleteBuffer(r),e.buffer=null,delete o[e.id]}function p(i,a,s,l){n.bufferCount++;var c=new u(a);function f(n){var i=Ft,a=null,o=0,u=0,s=1;return Array.isArray(n)||e(n)||kt(n)||n instanceof ArrayBuffer?a=n:"number"===typeof n?o=0|n:n&&(ne.type(n,"object","buffer arguments must be an object, a number or an array"),"data"in n&&(ne(null===a||Array.isArray(a)||e(a)||kt(a),"invalid data for buffer"),a=n.data),"usage"in n&&(ne.parameter(n.usage,Nt,"invalid buffer usage"),i=Nt[n.usage]),"type"in n&&(ne.parameter(n.type,zt,"invalid buffer type"),u=zt[n.type]),"dimension"in n&&(ne.type(n.dimension,"number","invalid dimension"),s=0|n.dimension),"length"in n&&(ne.nni(o,"buffer length must be a nonnegative integer"),o=0|n.length)),c.bind(),a?d(c,a,i,u,s,l):(o&&t.bufferData(c.type,o,i),c.dtype=u||Lt,c.usage=i,c.dimension=s,c.byteLength=o),r.profile&&(c.stats.size=c.byteLength*Ut[c.dtype]),f}function p(e,n){ne(n+e.byteLength<=c.byteLength,"invalid buffer subdata call, buffer is too small.  Can't write data of size "+e.byteLength+" starting from offset "+n+" to a buffer of size "+c.byteLength),t.bufferSubData(c.type,n,e)}function v(t,n){var r,i=0|(n||0);if(c.bind(),e(t)||t instanceof ArrayBuffer)p(t,i);else if(Array.isArray(t)){if(t.length>0)if("number"===typeof t[0]){var a=Fe.allocType(c.dtype,t.length);Wt(a,t),p(a,i),Fe.freeType(a)}else if(Array.isArray(t[0])||e(t[0])){r=Bt(t);var o=Dt(t,r,c.dtype);p(o,i),Fe.freeType(o)}else ne.raise("invalid buffer data")}else if(kt(t)){r=t.shape;var u=t.stride,s=0,l=0,d=0,h=0;1===r.length?(s=r[0],l=1,d=u[0],h=0):2===r.length?(s=r[0],l=r[1],d=u[0],h=u[1]):ne.raise("invalid shape");var v=Array.isArray(t.data)?c.dtype:Vt(t.data),m=Fe.allocType(v,s*l);Yt(m,t.data,s,l,d,h,t.offset),p(m,i),Fe.freeType(m)}else ne.raise("invalid data for buffer subdata");return f}return o[c.id]=c,s||f(i),f._reglType="buffer",f._buffer=c,f.subdata=v,r.profile&&(f.stats=c.stats),f.destroy=function(){h(c)},f}function v(){St(o).forEach((function(e){e.buffer=t.createBuffer(),t.bindBuffer(e.type,e.buffer),t.bufferData(e.type,e.persistentData||e.byteLength,e.usage)}))}return r.profile&&(n.getTotalBufferSize=function(){var e=0;return Object.keys(o).forEach((function(t){e+=o[t].stats.size})),e}),{create:p,createStream:l,destroyStream:c,clear:function(){St(o).forEach(h),s.forEach(h)},getBuffer:function(e){return e&&e._buffer instanceof u?e._buffer:null},restore:v,_initBuffer:d}}Ut[5120]=1,Ut[5122]=2,Ut[5124]=4,Ut[5121]=1,Ut[5123]=2,Ut[5125]=4,Ut[5126]=4;var qt={points:0,point:0,lines:1,line:1,triangles:4,triangle:4,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},Gt=0,$t=1,Xt=4,Qt=5120,Kt=5121,Zt=5122,Jt=5123,en=5124,tn=5125,nn=34963,rn=35040,an=35044;function on(t,n,r,i){var a={},o=0,u={uint8:Kt,uint16:Jt};function s(e){this.id=o++,a[this.id]=this,this.buffer=e,this.primType=Xt,this.vertCount=0,this.type=0}n.oes_element_index_uint&&(u.uint32=tn),s.prototype.bind=function(){this.buffer.bind()};var l=[];function c(e){var t=l.pop();return t||(t=new s(r.create(null,nn,!0,!1)._buffer)),d(t,e,rn,-1,-1,0,0),t}function f(e){l.push(e)}function d(i,a,o,u,s,l,c){var f;if(i.buffer.bind(),a){var d=c;c||e(a)&&(!kt(a)||e(a.data))||(d=n.oes_element_index_uint?tn:Jt),r._initBuffer(i.buffer,a,o,d,3)}else t.bufferData(nn,l,o),i.buffer.dtype=f||Kt,i.buffer.usage=o,i.buffer.dimension=3,i.buffer.byteLength=l;if(f=c,!c){switch(i.buffer.dtype){case Kt:case Qt:f=Kt;break;case Jt:case Zt:f=Jt;break;case tn:case en:f=tn;break;default:ne.raise("unsupported type for element array")}i.buffer.dtype=f}i.type=f,ne(f!==tn||!!n.oes_element_index_uint,"32 bit element buffers not supported, enable oes_element_index_uint first");var h=s;h<0&&(h=i.buffer.byteLength,f===Jt?h>>=1:f===tn&&(h>>=2)),i.vertCount=h;var p=u;if(u<0){p=Xt;var v=i.buffer.dimension;1===v&&(p=Gt),2===v&&(p=$t),3===v&&(p=Xt)}i.primType=p}function h(e){i.elementsCount--,ne(null!==e.buffer,"must not double destroy elements"),delete a[e.id],e.buffer.destroy(),e.buffer=null}function p(t,n){var a=r.create(null,nn,!0),o=new s(a._buffer);function l(t){if(t)if("number"===typeof t)a(t),o.primType=Xt,o.vertCount=0|t,o.type=Kt;else{var n=null,r=an,i=-1,s=-1,c=0,f=0;Array.isArray(t)||e(t)||kt(t)?n=t:(ne.type(t,"object","invalid arguments for elements"),"data"in t&&(n=t.data,ne(Array.isArray(n)||e(n)||kt(n),"invalid data for element buffer")),"usage"in t&&(ne.parameter(t.usage,Nt,"invalid element buffer usage"),r=Nt[t.usage]),"primitive"in t&&(ne.parameter(t.primitive,qt,"invalid element buffer primitive"),i=qt[t.primitive]),"count"in t&&(ne("number"===typeof t.count&&t.count>=0,"invalid vertex count for elements"),s=0|t.count),"type"in t&&(ne.parameter(t.type,u,"invalid buffer type"),f=u[t.type]),"length"in t?c=0|t.length:(c=s,f===Jt||f===Zt?c*=2:f!==tn&&f!==en||(c*=4))),d(o,n,r,i,s,c,f)}else a(),o.primType=Xt,o.vertCount=0,o.type=Kt;return l}return i.elementsCount++,l(t),l._reglType="elements",l._elements=o,l.subdata=function(e,t){return a.subdata(e,t),l},l.destroy=function(){h(o)},l}return{create:p,createStream:c,destroyStream:f,getElements:function(e){return"function"===typeof e&&e._elements instanceof s?e._elements:null},clear:function(){St(a).forEach(h)}}}var un=new Float32Array(1),sn=new Uint32Array(un.buffer),ln=5123;function cn(e){for(var t=Fe.allocType(ln,e.length),n=0;n<e.length;++n)if(isNaN(e[n]))t[n]=65535;else if(e[n]===1/0)t[n]=31744;else if(e[n]===-1/0)t[n]=64512;else{un[0]=e[n];var r=sn[0],i=r>>>31<<15,a=(r<<1>>>24)-127,o=r>>13&1023;if(a<-24)t[n]=i;else if(a<-14){var u=-14-a;t[n]=i+(o+1024>>u)}else t[n]=a>15?i+31744:i+(a+15<<10)+o}return t}function fn(t){return Array.isArray(t)||e(t)}var dn=function(e){return!(e&e-1)&&!!e},hn=34467,pn=3553,vn=34067,mn=34069,yn=6408,_n=6406,bn=6407,gn=6409,wn=6410,xn=32854,kn=32855,Sn=36194,An=32819,En=32820,On=33635,In=34042,Tn=6402,jn=34041,Cn=35904,Mn=35906,zn=36193,Nn=33776,Dn=33777,Bn=33778,Fn=33779,Pn=35986,Ln=35987,Rn=34798,Un=35840,Vn=35841,Wn=35842,Yn=35843,Hn=36196,qn=5121,Gn=5123,$n=5125,Xn=5126,Qn=10242,Kn=10243,Zn=10497,Jn=33071,er=33648,tr=10240,nr=10241,rr=9728,ir=9729,ar=9984,or=9985,ur=9986,sr=9987,lr=33170,cr=4352,fr=4353,dr=4354,hr=34046,pr=3317,vr=37440,mr=37441,yr=37443,_r=37444,br=33984,gr=[ar,ur,or,sr],wr=[0,gn,wn,bn,yn],xr={};function kr(e){return"[object "+e+"]"}xr[gn]=xr[_n]=xr[Tn]=1,xr[jn]=xr[wn]=2,xr[bn]=xr[Cn]=3,xr[yn]=xr[Mn]=4;var Sr=kr("HTMLCanvasElement"),Ar=kr("OffscreenCanvas"),Er=kr("CanvasRenderingContext2D"),Or=kr("ImageBitmap"),Ir=kr("HTMLImageElement"),Tr=kr("HTMLVideoElement"),jr=Object.keys(Mt).concat([Sr,Ar,Er,Or,Ir,Tr]),Cr=[];Cr[qn]=1,Cr[Xn]=4,Cr[zn]=2,Cr[Gn]=2,Cr[$n]=4;var Mr=[];function zr(e){return Array.isArray(e)&&(0===e.length||"number"===typeof e[0])}function Nr(e){return!!Array.isArray(e)&&!(0===e.length||!fn(e[0]))}function Dr(e){return Object.prototype.toString.call(e)}function Br(e){return Dr(e)===Sr}function Fr(e){return Dr(e)===Ar}function Pr(e){return Dr(e)===Er}function Lr(e){return Dr(e)===Or}function Rr(e){return Dr(e)===Ir}function Ur(e){return Dr(e)===Tr}function Vr(e){if(!e)return!1;var t=Dr(e);return jr.indexOf(t)>=0||zr(e)||Nr(e)||kt(e)}function Wr(e){return 0|Mt[Object.prototype.toString.call(e)]}function Yr(e,t){var n=t.length;switch(e.type){case qn:case Gn:case $n:case Xn:var r=Fe.allocType(e.type,n);r.set(t),e.data=r;break;case zn:e.data=cn(t);break;default:ne.raise("unsupported texture type, must specify a typed array")}}function Hr(e,t){return Fe.allocType(e.type===zn?Xn:e.type,t)}function qr(e,t){e.type===zn?(e.data=cn(t),Fe.freeType(t)):e.data=t}function Gr(e,t,n,r,i,a){for(var o=e.width,u=e.height,s=e.channels,l=Hr(e,o*u*s),c=0,f=0;f<u;++f)for(var d=0;d<o;++d)for(var h=0;h<s;++h)l[c++]=t[n*d+r*f+i*h+a];qr(e,l)}function $r(e,t,n,r,i,a){var o;if(o="undefined"!==typeof Mr[e]?Mr[e]:xr[e]*Cr[t],a&&(o*=6),i){for(var u=0,s=n;s>=1;)u+=o*s*s,s/=2;return u}return o*n*r}function Xr(n,r,i,a,o,u,s){var l={"don't care":cr,"dont care":cr,nice:dr,fast:fr},c={repeat:Zn,clamp:Jn,mirror:er},f={nearest:rr,linear:ir},d=t({mipmap:sr,"nearest mipmap nearest":ar,"linear mipmap nearest":or,"nearest mipmap linear":ur,"linear mipmap linear":sr},f),h={none:0,browser:_r},p={uint8:qn,rgba4:An,rgb565:On,"rgb5 a1":En},v={alpha:_n,luminance:gn,"luminance alpha":wn,rgb:bn,rgba:yn,rgba4:xn,"rgb5 a1":kn,rgb565:Sn},m={};r.ext_srgb&&(v.srgb=Cn,v.srgba=Mn),r.oes_texture_float&&(p.float32=p.float=Xn),r.oes_texture_half_float&&(p.float16=p["half float"]=zn),r.webgl_depth_texture&&(t(v,{depth:Tn,"depth stencil":jn}),t(p,{uint16:Gn,uint32:$n,"depth stencil":In})),r.webgl_compressed_texture_s3tc&&t(m,{"rgb s3tc dxt1":Nn,"rgba s3tc dxt1":Dn,"rgba s3tc dxt3":Bn,"rgba s3tc dxt5":Fn}),r.webgl_compressed_texture_atc&&t(m,{"rgb atc":Pn,"rgba atc explicit alpha":Ln,"rgba atc interpolated alpha":Rn}),r.webgl_compressed_texture_pvrtc&&t(m,{"rgb pvrtc 4bppv1":Un,"rgb pvrtc 2bppv1":Vn,"rgba pvrtc 4bppv1":Wn,"rgba pvrtc 2bppv1":Yn}),r.webgl_compressed_texture_etc1&&(m["rgb etc1"]=Hn);var y=Array.prototype.slice.call(n.getParameter(hn));Object.keys(m).forEach((function(e){var t=m[e];y.indexOf(t)>=0&&(v[e]=t)}));var _=Object.keys(v);i.textureFormats=_;var b=[];Object.keys(v).forEach((function(e){var t=v[e];b[t]=e}));var g=[];Object.keys(p).forEach((function(e){var t=p[e];g[t]=e}));var w=[];Object.keys(f).forEach((function(e){var t=f[e];w[t]=e}));var x=[];Object.keys(d).forEach((function(e){var t=d[e];x[t]=e}));var k=[];Object.keys(c).forEach((function(e){var t=c[e];k[t]=e}));var S=_.reduce((function(e,t){var n=v[t];return n===gn||n===_n||n===gn||n===wn||n===Tn||n===jn||r.ext_srgb&&(n===Cn||n===Mn)?e[n]=n:n===kn||t.indexOf("rgba")>=0?e[n]=yn:e[n]=bn,e}),{});function A(){this.internalformat=yn,this.format=yn,this.type=qn,this.compressed=!1,this.premultiplyAlpha=!1,this.flipY=!1,this.unpackAlignment=1,this.colorSpace=_r,this.width=0,this.height=0,this.channels=0}function E(e,t){e.internalformat=t.internalformat,e.format=t.format,e.type=t.type,e.compressed=t.compressed,e.premultiplyAlpha=t.premultiplyAlpha,e.flipY=t.flipY,e.unpackAlignment=t.unpackAlignment,e.colorSpace=t.colorSpace,e.width=t.width,e.height=t.height,e.channels=t.channels}function O(e,t){if("object"===typeof t&&t){if("premultiplyAlpha"in t&&(ne.type(t.premultiplyAlpha,"boolean","invalid premultiplyAlpha"),e.premultiplyAlpha=t.premultiplyAlpha),"flipY"in t&&(ne.type(t.flipY,"boolean","invalid texture flip"),e.flipY=t.flipY),"alignment"in t&&(ne.oneOf(t.alignment,[1,2,4,8],"invalid texture unpack alignment"),e.unpackAlignment=t.alignment),"colorSpace"in t&&(ne.parameter(t.colorSpace,h,"invalid colorSpace"),e.colorSpace=h[t.colorSpace]),"type"in t){var n=t.type;ne(r.oes_texture_float||!("float"===n||"float32"===n),"you must enable the OES_texture_float extension in order to use floating point textures."),ne(r.oes_texture_half_float||!("half float"===n||"float16"===n),"you must enable the OES_texture_half_float extension in order to use 16-bit floating point textures."),ne(r.webgl_depth_texture||!("uint16"===n||"uint32"===n||"depth stencil"===n),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),ne.parameter(n,p,"invalid texture type"),e.type=p[n]}var a=e.width,o=e.height,u=e.channels,s=!1;"shape"in t?(ne(Array.isArray(t.shape)&&t.shape.length>=2,"shape must be an array"),a=t.shape[0],o=t.shape[1],3===t.shape.length&&(u=t.shape[2],ne(u>0&&u<=4,"invalid number of channels"),s=!0),ne(a>=0&&a<=i.maxTextureSize,"invalid width"),ne(o>=0&&o<=i.maxTextureSize,"invalid height")):("radius"in t&&(a=o=t.radius,ne(a>=0&&a<=i.maxTextureSize,"invalid radius")),"width"in t&&(a=t.width,ne(a>=0&&a<=i.maxTextureSize,"invalid width")),"height"in t&&(o=t.height,ne(o>=0&&o<=i.maxTextureSize,"invalid height")),"channels"in t&&(u=t.channels,ne(u>0&&u<=4,"invalid number of channels"),s=!0)),e.width=0|a,e.height=0|o,e.channels=0|u;var l=!1;if("format"in t){var c=t.format;ne(r.webgl_depth_texture||!("depth"===c||"depth stencil"===c),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),ne.parameter(c,v,"invalid texture format");var f=e.internalformat=v[c];e.format=S[f],c in p&&("type"in t||(e.type=p[c])),c in m&&(e.compressed=!0),l=!0}!s&&l?e.channels=xr[e.format]:s&&!l?e.channels!==wr[e.format]&&(e.format=e.internalformat=wr[e.channels]):l&&s&&ne(e.channels===xr[e.format],"number of channels inconsistent with specified format")}}function I(e){n.pixelStorei(vr,e.flipY),n.pixelStorei(mr,e.premultiplyAlpha),n.pixelStorei(yr,e.colorSpace),n.pixelStorei(pr,e.unpackAlignment)}function T(){A.call(this),this.xOffset=0,this.yOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function j(t,n){var r=null;if(Vr(n)?r=n:n&&(ne.type(n,"object","invalid pixel data type"),O(t,n),"x"in n&&(t.xOffset=0|n.x),"y"in n&&(t.yOffset=0|n.y),Vr(n.data)&&(r=n.data)),ne(!t.compressed||r instanceof Uint8Array,"compressed texture data must be stored in a uint8array"),n.copy){ne(!r,"can not specify copy and data field for the same texture");var a=o.viewportWidth,u=o.viewportHeight;t.width=t.width||a-t.xOffset,t.height=t.height||u-t.yOffset,t.needsCopy=!0,ne(t.xOffset>=0&&t.xOffset<a&&t.yOffset>=0&&t.yOffset<u&&t.width>0&&t.width<=a&&t.height>0&&t.height<=u,"copy texture read out of bounds")}else if(r){if(e(r))t.channels=t.channels||4,t.data=r,"type"in n||t.type!==qn||(t.type=Wr(r));else if(zr(r))t.channels=t.channels||4,Yr(t,r),t.alignment=1,t.needsFree=!0;else if(kt(r)){var s=r.data;Array.isArray(s)||t.type!==qn||(t.type=Wr(s));var l,c,f,d,h,p,v=r.shape,m=r.stride;3===v.length?(f=v[2],p=m[2]):(ne(2===v.length,"invalid ndarray pixel data, must be 2 or 3D"),f=1,p=1),l=v[0],c=v[1],d=m[0],h=m[1],t.alignment=1,t.width=l,t.height=c,t.channels=f,t.format=t.internalformat=wr[f],t.needsFree=!0,Gr(t,s,d,h,p,r.offset)}else if(Br(r)||Fr(r)||Pr(r))Br(r)||Fr(r)?t.element=r:t.element=r.canvas,t.width=t.element.width,t.height=t.element.height,t.channels=4;else if(Lr(r))t.element=r,t.width=r.width,t.height=r.height,t.channels=4;else if(Rr(r))t.element=r,t.width=r.naturalWidth,t.height=r.naturalHeight,t.channels=4;else if(Ur(r))t.element=r,t.width=r.videoWidth,t.height=r.videoHeight,t.channels=4;else if(Nr(r)){var y=t.width||r[0].length,_=t.height||r.length,b=t.channels;b=fn(r[0][0])?b||r[0][0].length:b||1;for(var g=At.shape(r),w=1,x=0;x<g.length;++x)w*=g[x];var k=Hr(t,w);At.flatten(r,g,"",k),qr(t,k),t.alignment=1,t.width=y,t.height=_,t.channels=b,t.format=t.internalformat=wr[b],t.needsFree=!0}}else t.width=t.width||1,t.height=t.height||1,t.channels=t.channels||4;t.type===Xn?ne(i.extensions.indexOf("oes_texture_float")>=0,"oes_texture_float extension not enabled"):t.type===zn&&ne(i.extensions.indexOf("oes_texture_half_float")>=0,"oes_texture_half_float extension not enabled")}function C(e,t,r){var i=e.element,o=e.data,u=e.internalformat,s=e.format,l=e.type,c=e.width,f=e.height;I(e),i?n.texImage2D(t,r,s,s,l,i):e.compressed?n.compressedTexImage2D(t,r,u,c,f,0,o):e.needsCopy?(a(),n.copyTexImage2D(t,r,s,e.xOffset,e.yOffset,c,f,0)):n.texImage2D(t,r,s,c,f,0,s,l,o||null)}function M(e,t,r,i,o){var u=e.element,s=e.data,l=e.internalformat,c=e.format,f=e.type,d=e.width,h=e.height;I(e),u?n.texSubImage2D(t,o,r,i,c,f,u):e.compressed?n.compressedTexSubImage2D(t,o,r,i,l,d,h,s):e.needsCopy?(a(),n.copyTexSubImage2D(t,o,r,i,e.xOffset,e.yOffset,d,h)):n.texSubImage2D(t,o,r,i,d,h,c,f,s)}var z=[];function N(){return z.pop()||new T}function D(e){e.needsFree&&Fe.freeType(e.data),T.call(e),z.push(e)}function B(){A.call(this),this.genMipmaps=!1,this.mipmapHint=cr,this.mipmask=0,this.images=Array(16)}function F(e,t,n){var r=e.images[0]=N();e.mipmask=1,r.width=e.width=t,r.height=e.height=n,r.channels=e.channels=4}function P(e,t){var n=null;if(Vr(t))E(n=e.images[0]=N(),e),j(n,t),e.mipmask=1;else if(O(e,t),Array.isArray(t.mipmap))for(var r=t.mipmap,i=0;i<r.length;++i)E(n=e.images[i]=N(),e),n.width>>=i,n.height>>=i,j(n,r[i]),e.mipmask|=1<<i;else E(n=e.images[0]=N(),e),j(n,t),e.mipmask=1;E(e,e.images[0]),!e.compressed||e.internalformat!==Nn&&e.internalformat!==Dn&&e.internalformat!==Bn&&e.internalformat!==Fn||ne(e.width%4===0&&e.height%4===0,"for compressed texture formats, mipmap level 0 must have width and height that are a multiple of 4")}function L(e,t){for(var n=e.images,r=0;r<n.length;++r){if(!n[r])return;C(n[r],t,r)}}var R=[];function U(){var e=R.pop()||new B;A.call(e),e.mipmask=0;for(var t=0;t<16;++t)e.images[t]=null;return e}function V(e){for(var t=e.images,n=0;n<t.length;++n)t[n]&&D(t[n]),t[n]=null;R.push(e)}function W(){this.minFilter=rr,this.magFilter=rr,this.wrapS=Jn,this.wrapT=Jn,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=cr}function Y(e,t){if("min"in t){var n=t.min;ne.parameter(n,d),e.minFilter=d[n],gr.indexOf(e.minFilter)>=0&&!("faces"in t)&&(e.genMipmaps=!0)}if("mag"in t){var r=t.mag;ne.parameter(r,f),e.magFilter=f[r]}var a=e.wrapS,o=e.wrapT;if("wrap"in t){var u=t.wrap;"string"===typeof u?(ne.parameter(u,c),a=o=c[u]):Array.isArray(u)&&(ne.parameter(u[0],c),ne.parameter(u[1],c),a=c[u[0]],o=c[u[1]])}else{if("wrapS"in t){var s=t.wrapS;ne.parameter(s,c),a=c[s]}if("wrapT"in t){var h=t.wrapT;ne.parameter(h,c),o=c[h]}}if(e.wrapS=a,e.wrapT=o,"anisotropic"in t){var p=t.anisotropic;ne("number"===typeof p&&p>=1&&p<=i.maxAnisotropic,"aniso samples must be between 1 and "),e.anisotropic=t.anisotropic}if("mipmap"in t){var v=!1;switch(typeof t.mipmap){case"string":ne.parameter(t.mipmap,l,"invalid mipmap hint"),e.mipmapHint=l[t.mipmap],e.genMipmaps=!0,v=!0;break;case"boolean":v=e.genMipmaps=t.mipmap;break;case"object":ne(Array.isArray(t.mipmap),"invalid mipmap type"),e.genMipmaps=!1,v=!0;break;default:ne.raise("invalid mipmap type")}v&&!("min"in t)&&(e.minFilter=ar)}}function H(e,t){n.texParameteri(t,nr,e.minFilter),n.texParameteri(t,tr,e.magFilter),n.texParameteri(t,Qn,e.wrapS),n.texParameteri(t,Kn,e.wrapT),r.ext_texture_filter_anisotropic&&n.texParameteri(t,hr,e.anisotropic),e.genMipmaps&&(n.hint(lr,e.mipmapHint),n.generateMipmap(t))}var q=0,G={},$=i.maxTextureUnits,X=Array($).map((function(){return null}));function Q(e){A.call(this),this.mipmask=0,this.internalformat=yn,this.id=q++,this.refCount=1,this.target=e,this.texture=n.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new W,s.profile&&(this.stats={size:0})}function K(e){n.activeTexture(br),n.bindTexture(e.target,e.texture)}function Z(){var e=X[0];e?n.bindTexture(e.target,e.texture):n.bindTexture(pn,null)}function J(e){var t=e.texture;ne(t,"must not double destroy texture");var r=e.unit,i=e.target;r>=0&&(n.activeTexture(br+r),n.bindTexture(i,null),X[r]=null),n.deleteTexture(t),e.texture=null,e.params=null,e.pixels=null,e.refCount=0,delete G[e.id],u.textureCount--}function ee(e,t){var r=new Q(pn);function a(e,t){var n=r.texInfo;W.call(n);var o=U();return"number"===typeof e?F(o,0|e,"number"===typeof t?0|t:0|e):e?(ne.type(e,"object","invalid arguments to regl.texture"),Y(n,e),P(o,e)):F(o,1,1),n.genMipmaps&&(o.mipmask=(o.width<<1)-1),r.mipmask=o.mipmask,E(r,o),ne.texture2D(n,o,i),r.internalformat=o.internalformat,a.width=o.width,a.height=o.height,K(r),L(o,pn),H(n,pn),Z(),V(o),s.profile&&(r.stats.size=$r(r.internalformat,r.type,o.width,o.height,n.genMipmaps,!1)),a.format=b[r.internalformat],a.type=g[r.type],a.mag=w[n.magFilter],a.min=x[n.minFilter],a.wrapS=k[n.wrapS],a.wrapT=k[n.wrapT],a}function o(e,t,n,i){ne(!!e,"must specify image data");var o=0|t,u=0|n,s=0|i,l=N();return E(l,r),l.width=0,l.height=0,j(l,e),l.width=l.width||(r.width>>s)-o,l.height=l.height||(r.height>>s)-u,ne(r.type===l.type&&r.format===l.format&&r.internalformat===l.internalformat,"incompatible format for texture.subimage"),ne(o>=0&&u>=0&&o+l.width<=r.width&&u+l.height<=r.height,"texture.subimage write out of bounds"),ne(r.mipmask&1<<s,"missing mipmap data"),ne(l.data||l.element||l.needsCopy,"missing image data"),K(r),M(l,pn,o,u,s),Z(),D(l),a}function l(e,t){var i=0|e,o=0|t||i;if(i===r.width&&o===r.height)return a;a.width=r.width=i,a.height=r.height=o,K(r);for(var u=0;r.mipmask>>u;++u){var l=i>>u,c=o>>u;if(!l||!c)break;n.texImage2D(pn,u,r.format,l,c,0,r.format,r.type,null)}return Z(),s.profile&&(r.stats.size=$r(r.internalformat,r.type,i,o,!1,!1)),a}return G[r.id]=r,u.textureCount++,a(e,t),a.subimage=o,a.resize=l,a._reglType="texture2d",a._texture=r,s.profile&&(a.stats=r.stats),a.destroy=function(){r.decRef()},a}function te(e,t,r,a,o,l){var c=new Q(vn);G[c.id]=c,u.cubeCount++;var f=new Array(6);function d(e,t,n,r,a,o){var u,l=c.texInfo;for(W.call(l),u=0;u<6;++u)f[u]=U();if("number"!==typeof e&&e)if("object"===typeof e)if(t)P(f[0],e),P(f[1],t),P(f[2],n),P(f[3],r),P(f[4],a),P(f[5],o);else if(Y(l,e),O(c,e),"faces"in e){var h=e.faces;for(ne(Array.isArray(h)&&6===h.length,"cube faces must be a length 6 array"),u=0;u<6;++u)ne("object"===typeof h[u]&&!!h[u],"invalid input for cube map face"),E(f[u],c),P(f[u],h[u])}else for(u=0;u<6;++u)P(f[u],e);else ne.raise("invalid arguments to cube map");else{var p=0|e||1;for(u=0;u<6;++u)F(f[u],p,p)}for(E(c,f[0]),ne.optional((function(){i.npotTextureCube||ne(dn(c.width)&&dn(c.height),"your browser does not support non power or two texture dimensions")})),l.genMipmaps?c.mipmask=(f[0].width<<1)-1:c.mipmask=f[0].mipmask,ne.textureCube(c,l,f,i),c.internalformat=f[0].internalformat,d.width=f[0].width,d.height=f[0].height,K(c),u=0;u<6;++u)L(f[u],mn+u);for(H(l,vn),Z(),s.profile&&(c.stats.size=$r(c.internalformat,c.type,d.width,d.height,l.genMipmaps,!0)),d.format=b[c.internalformat],d.type=g[c.type],d.mag=w[l.magFilter],d.min=x[l.minFilter],d.wrapS=k[l.wrapS],d.wrapT=k[l.wrapT],u=0;u<6;++u)V(f[u]);return d}function h(e,t,n,r,i){ne(!!t,"must specify image data"),ne("number"===typeof e&&e===(0|e)&&e>=0&&e<6,"invalid face");var a=0|n,o=0|r,u=0|i,s=N();return E(s,c),s.width=0,s.height=0,j(s,t),s.width=s.width||(c.width>>u)-a,s.height=s.height||(c.height>>u)-o,ne(c.type===s.type&&c.format===s.format&&c.internalformat===s.internalformat,"incompatible format for texture.subimage"),ne(a>=0&&o>=0&&a+s.width<=c.width&&o+s.height<=c.height,"texture.subimage write out of bounds"),ne(c.mipmask&1<<u,"missing mipmap data"),ne(s.data||s.element||s.needsCopy,"missing image data"),K(c),M(s,mn+e,a,o,u),Z(),D(s),d}function p(e){var t=0|e;if(t!==c.width){d.width=c.width=t,d.height=c.height=t,K(c);for(var r=0;r<6;++r)for(var i=0;c.mipmask>>i;++i)n.texImage2D(mn+r,i,c.format,t>>i,t>>i,0,c.format,c.type,null);return Z(),s.profile&&(c.stats.size=$r(c.internalformat,c.type,d.width,d.height,!1,!0)),d}}return d(e,t,r,a,o,l),d.subimage=h,d.resize=p,d._reglType="textureCube",d._texture=c,s.profile&&(d.stats=c.stats),d.destroy=function(){c.decRef()},d}function re(){for(var e=0;e<$;++e)n.activeTexture(br+e),n.bindTexture(pn,null),X[e]=null;St(G).forEach(J),u.cubeCount=0,u.textureCount=0}function ie(){for(var e=0;e<$;++e){var t=X[e];t&&(t.bindCount=0,t.unit=-1,X[e]=null)}St(G).forEach((function(e){e.texture=n.createTexture(),n.bindTexture(e.target,e.texture);for(var t=0;t<32;++t)if(0!==(e.mipmask&1<<t))if(e.target===pn)n.texImage2D(pn,t,e.internalformat,e.width>>t,e.height>>t,0,e.internalformat,e.type,null);else for(var r=0;r<6;++r)n.texImage2D(mn+r,t,e.internalformat,e.width>>t,e.height>>t,0,e.internalformat,e.type,null);H(e.texInfo,e.target)}))}function ae(){for(var e=0;e<$;++e){var t=X[e];t&&(t.bindCount=0,t.unit=-1,X[e]=null),n.activeTexture(br+e),n.bindTexture(pn,null),n.bindTexture(vn,null)}}return t(Q.prototype,{bind:function(){var e=this;e.bindCount+=1;var t=e.unit;if(t<0){for(var r=0;r<$;++r){var i=X[r];if(i){if(i.bindCount>0)continue;i.unit=-1}X[r]=e,t=r;break}t>=$&&ne.raise("insufficient number of texture units"),s.profile&&u.maxTextureUnits<t+1&&(u.maxTextureUnits=t+1),e.unit=t,n.activeTexture(br+t),n.bindTexture(e.target,e.texture)}return t},unbind:function(){this.bindCount-=1},decRef:function(){--this.refCount<=0&&J(this)}}),s.profile&&(u.getTotalTextureSize=function(){var e=0;return Object.keys(G).forEach((function(t){e+=G[t].stats.size})),e}),{create2D:ee,createCube:te,clear:re,getTexture:function(e){return null},restore:ie,refresh:ae}}Mr[xn]=2,Mr[kn]=2,Mr[Sn]=2,Mr[jn]=4,Mr[Nn]=.5,Mr[Dn]=.5,Mr[Bn]=1,Mr[Fn]=1,Mr[Pn]=.5,Mr[Ln]=1,Mr[Rn]=1,Mr[Un]=.5,Mr[Vn]=.25,Mr[Wn]=.5,Mr[Yn]=.25,Mr[Hn]=.5;var Qr=36161,Kr=32854,Zr=32855,Jr=36194,ei=33189,ti=36168,ni=34041,ri=35907,ii=34836,ai=34842,oi=34843,ui=[];function si(e,t,n){return ui[e]*t*n}ui[Kr]=2,ui[Zr]=2,ui[Jr]=2,ui[ei]=2,ui[ti]=1,ui[ni]=4,ui[ri]=4,ui[ii]=16,ui[ai]=8,ui[oi]=6;var li=function(e,t,n,r,i){var a={rgba4:Kr,rgb565:Jr,"rgb5 a1":Zr,depth:ei,stencil:ti,"depth stencil":ni};t.ext_srgb&&(a.srgba=ri),t.ext_color_buffer_half_float&&(a.rgba16f=ai,a.rgb16f=oi),t.webgl_color_buffer_float&&(a.rgba32f=ii);var o=[];Object.keys(a).forEach((function(e){var t=a[e];o[t]=e}));var u=0,s={};function l(e){this.id=u++,this.refCount=1,this.renderbuffer=e,this.format=Kr,this.width=0,this.height=0,i.profile&&(this.stats={size:0})}function c(t){var n=t.renderbuffer;ne(n,"must not double destroy renderbuffer"),e.bindRenderbuffer(Qr,null),e.deleteRenderbuffer(n),t.renderbuffer=null,t.refCount=0,delete s[t.id],r.renderbufferCount--}function f(t,u){var c=new l(e.createRenderbuffer());function f(t,r){var u=0,s=0,l=Kr;if("object"===typeof t&&t){var d=t;if("shape"in d){var h=d.shape;ne(Array.isArray(h)&&h.length>=2,"invalid renderbuffer shape"),u=0|h[0],s=0|h[1]}else"radius"in d&&(u=s=0|d.radius),"width"in d&&(u=0|d.width),"height"in d&&(s=0|d.height);"format"in d&&(ne.parameter(d.format,a,"invalid renderbuffer format"),l=a[d.format])}else"number"===typeof t?(u=0|t,s="number"===typeof r?0|r:u):t?ne.raise("invalid arguments to renderbuffer constructor"):u=s=1;if(ne(u>0&&s>0&&u<=n.maxRenderbufferSize&&s<=n.maxRenderbufferSize,"invalid renderbuffer size"),u!==c.width||s!==c.height||l!==c.format)return f.width=c.width=u,f.height=c.height=s,c.format=l,e.bindRenderbuffer(Qr,c.renderbuffer),e.renderbufferStorage(Qr,l,u,s),ne(0===e.getError(),"invalid render buffer format"),i.profile&&(c.stats.size=si(c.format,c.width,c.height)),f.format=o[c.format],f}function d(t,r){var a=0|t,o=0|r||a;return a===c.width&&o===c.height||(ne(a>0&&o>0&&a<=n.maxRenderbufferSize&&o<=n.maxRenderbufferSize,"invalid renderbuffer size"),f.width=c.width=a,f.height=c.height=o,e.bindRenderbuffer(Qr,c.renderbuffer),e.renderbufferStorage(Qr,c.format,a,o),ne(0===e.getError(),"invalid render buffer format"),i.profile&&(c.stats.size=si(c.format,c.width,c.height))),f}return s[c.id]=c,r.renderbufferCount++,f(t,u),f.resize=d,f._reglType="renderbuffer",f._renderbuffer=c,i.profile&&(f.stats=c.stats),f.destroy=function(){c.decRef()},f}function d(){St(s).forEach((function(t){t.renderbuffer=e.createRenderbuffer(),e.bindRenderbuffer(Qr,t.renderbuffer),e.renderbufferStorage(Qr,t.format,t.width,t.height)})),e.bindRenderbuffer(Qr,null)}return l.prototype.decRef=function(){--this.refCount<=0&&c(this)},i.profile&&(r.getTotalRenderbufferSize=function(){var e=0;return Object.keys(s).forEach((function(t){e+=s[t].stats.size})),e}),{create:f,clear:function(){St(s).forEach(c)},restore:d}},ci=36160,fi=36161,di=3553,hi=34069,pi=36064,vi=36096,mi=36128,yi=33306,_i=36053,bi=36054,gi=36055,wi=36057,xi=36061,ki=36193,Si=5121,Ai=5126,Ei=6407,Oi=6408,Ii=6402,Ti=[Ei,Oi],ji=[];ji[Oi]=4,ji[Ei]=3;var Ci=[];Ci[Si]=1,Ci[Ai]=4,Ci[ki]=2;var Mi=33189,zi=36168,Ni=34041,Di=[32854,32855,36194,35907,34842,34843,34836],Bi={};function Fi(e,n,r,i,a,o){var u={cur:null,next:null,dirty:!1,setFBO:null},s=["rgba"],l=["rgba4","rgb565","rgb5 a1"];n.ext_srgb&&l.push("srgba"),n.ext_color_buffer_half_float&&l.push("rgba16f","rgb16f"),n.webgl_color_buffer_float&&l.push("rgba32f");var c=["uint8"];function f(e,t,n){this.target=e,this.texture=t,this.renderbuffer=n;var r=0,i=0;t?(r=t.width,i=t.height):n&&(r=n.width,i=n.height),this.width=r,this.height=i}function d(e){e&&(e.texture&&e.texture._texture.decRef(),e.renderbuffer&&e.renderbuffer._renderbuffer.decRef())}function h(e,t,n){if(e)if(e.texture){var r=e.texture._texture,i=Math.max(1,r.width),a=Math.max(1,r.height);ne(i===t&&a===n,"inconsistent width/height for supplied texture"),r.refCount+=1}else{var o=e.renderbuffer._renderbuffer;ne(o.width===t&&o.height===n,"inconsistent width/height for renderbuffer"),o.refCount+=1}}function p(t,n){n&&(n.texture?e.framebufferTexture2D(ci,t,n.target,n.texture._texture.texture,0):e.framebufferRenderbuffer(ci,t,fi,n.renderbuffer._renderbuffer.renderbuffer))}function v(e){var t=di,n=null,r=null,i=e;"object"===typeof e&&(i=e.data,"target"in e&&(t=0|e.target)),ne.type(i,"function","invalid attachment data");var a=i._reglType;return"texture2d"===a?(n=i,ne(t===di)):"textureCube"===a?(n=i,ne(t>=hi&&t<hi+6,"invalid cube map target")):"renderbuffer"===a?(r=i,t=fi):ne.raise("invalid regl object for attachment"),new f(t,n,r)}function m(e,t,n,r,o){if(n){var u=i.create2D({width:e,height:t,format:r,type:o});return u._texture.refCount=0,new f(di,u,null)}var s=a.create({width:e,height:t,format:r});return s._renderbuffer.refCount=0,new f(fi,null,s)}function y(e){return e&&(e.texture||e.renderbuffer)}function _(e,t,n){e&&(e.texture?e.texture.resize(t,n):e.renderbuffer&&e.renderbuffer.resize(t,n),e.width=t,e.height=n)}n.oes_texture_half_float&&c.push("half float","float16"),n.oes_texture_float&&c.push("float","float32");var b=0,g={};function w(){this.id=b++,g[this.id]=this,this.framebuffer=e.createFramebuffer(),this.width=0,this.height=0,this.colorAttachments=[],this.depthAttachment=null,this.stencilAttachment=null,this.depthStencilAttachment=null}function x(e){e.colorAttachments.forEach(d),d(e.depthAttachment),d(e.stencilAttachment),d(e.depthStencilAttachment)}function k(t){var n=t.framebuffer;ne(n,"must not double destroy framebuffer"),e.deleteFramebuffer(n),t.framebuffer=null,o.framebufferCount--,delete g[t.id]}function S(t){var n;e.bindFramebuffer(ci,t.framebuffer);var i=t.colorAttachments;for(n=0;n<i.length;++n)p(pi+n,i[n]);for(n=i.length;n<r.maxColorAttachments;++n)e.framebufferTexture2D(ci,pi+n,di,null,0);e.framebufferTexture2D(ci,yi,di,null,0),e.framebufferTexture2D(ci,vi,di,null,0),e.framebufferTexture2D(ci,mi,di,null,0),p(vi,t.depthAttachment),p(mi,t.stencilAttachment),p(yi,t.depthStencilAttachment);var a=e.checkFramebufferStatus(ci);e.isContextLost()||a===_i||ne.raise("framebuffer configuration not supported, status = "+Bi[a]),e.bindFramebuffer(ci,u.next?u.next.framebuffer:null),u.cur=u.next,e.getError()}function A(e,i){var a=new w;function f(e,t){var i;ne(u.next!==a,"can not update framebuffer which is currently in use");var o=0,d=0,p=!0,_=!0,b=null,g=!0,w="rgba",k="uint8",A=1,E=null,O=null,I=null,T=!1;if("number"===typeof e)o=0|e,d=0|t||o;else if(e){ne.type(e,"object","invalid arguments for framebuffer");var j=e;if("shape"in j){var C=j.shape;ne(Array.isArray(C)&&C.length>=2,"invalid shape for framebuffer"),o=C[0],d=C[1]}else"radius"in j&&(o=d=j.radius),"width"in j&&(o=j.width),"height"in j&&(d=j.height);("color"in j||"colors"in j)&&(b=j.color||j.colors,Array.isArray(b)&&ne(1===b.length||n.webgl_draw_buffers,"multiple render targets not supported")),b||("colorCount"in j&&(A=0|j.colorCount,ne(A>0,"invalid color buffer count")),"colorTexture"in j&&(g=!!j.colorTexture,w="rgba4"),"colorType"in j&&(k=j.colorType,g?(ne(n.oes_texture_float||!("float"===k||"float32"===k),"you must enable OES_texture_float in order to use floating point framebuffer objects"),ne(n.oes_texture_half_float||!("half float"===k||"float16"===k),"you must enable OES_texture_half_float in order to use 16-bit floating point framebuffer objects")):"half float"===k||"float16"===k?(ne(n.ext_color_buffer_half_float,"you must enable EXT_color_buffer_half_float to use 16-bit render buffers"),w="rgba16f"):"float"!==k&&"float32"!==k||(ne(n.webgl_color_buffer_float,"you must enable WEBGL_color_buffer_float in order to use 32-bit floating point renderbuffers"),w="rgba32f"),ne.oneOf(k,c,"invalid color type")),"colorFormat"in j&&(w=j.colorFormat,s.indexOf(w)>=0?g=!0:l.indexOf(w)>=0?g=!1:ne.optional((function(){g?ne.oneOf(j.colorFormat,s,"invalid color format for texture"):ne.oneOf(j.colorFormat,l,"invalid color format for renderbuffer")})))),("depthTexture"in j||"depthStencilTexture"in j)&&(T=!(!j.depthTexture&&!j.depthStencilTexture),ne(!T||n.webgl_depth_texture,"webgl_depth_texture extension not supported")),"depth"in j&&("boolean"===typeof j.depth?p=j.depth:(E=j.depth,_=!1)),"stencil"in j&&("boolean"===typeof j.stencil?_=j.stencil:(O=j.stencil,p=!1)),"depthStencil"in j&&("boolean"===typeof j.depthStencil?p=_=j.depthStencil:(I=j.depthStencil,p=!1,_=!1))}else o=d=1;var M=null,z=null,N=null,D=null;if(Array.isArray(b))M=b.map(v);else if(b)M=[v(b)];else for(M=new Array(A),i=0;i<A;++i)M[i]=m(o,d,g,w,k);ne(n.webgl_draw_buffers||M.length<=1,"you must enable the WEBGL_draw_buffers extension in order to use multiple color buffers."),ne(M.length<=r.maxColorAttachments,"too many color attachments, not supported"),o=o||M[0].width,d=d||M[0].height,E?z=v(E):p&&!_&&(z=m(o,d,T,"depth","uint32")),O?N=v(O):_&&!p&&(N=m(o,d,!1,"stencil","uint8")),I?D=v(I):!E&&!O&&_&&p&&(D=m(o,d,T,"depth stencil","depth stencil")),ne(!!E+!!O+!!I<=1,"invalid framebuffer configuration, can specify exactly one depth/stencil attachment");var B=null;for(i=0;i<M.length;++i)if(h(M[i],o,d),ne(!M[i]||M[i].texture&&Ti.indexOf(M[i].texture._texture.format)>=0||M[i].renderbuffer&&Di.indexOf(M[i].renderbuffer._renderbuffer.format)>=0,"framebuffer color attachment "+i+" is invalid"),M[i]&&M[i].texture){var F=ji[M[i].texture._texture.format]*Ci[M[i].texture._texture.type];null===B?B=F:ne(B===F,"all color attachments much have the same number of bits per pixel.")}return h(z,o,d),ne(!z||z.texture&&z.texture._texture.format===Ii||z.renderbuffer&&z.renderbuffer._renderbuffer.format===Mi,"invalid depth attachment for framebuffer object"),h(N,o,d),ne(!N||N.renderbuffer&&N.renderbuffer._renderbuffer.format===zi,"invalid stencil attachment for framebuffer object"),h(D,o,d),ne(!D||D.texture&&D.texture._texture.format===Ni||D.renderbuffer&&D.renderbuffer._renderbuffer.format===Ni,"invalid depth-stencil attachment for framebuffer object"),x(a),a.width=o,a.height=d,a.colorAttachments=M,a.depthAttachment=z,a.stencilAttachment=N,a.depthStencilAttachment=D,f.color=M.map(y),f.depth=y(z),f.stencil=y(N),f.depthStencil=y(D),f.width=a.width,f.height=a.height,S(a),f}function d(e,t){ne(u.next!==a,"can not resize a framebuffer which is currently in use");var n=Math.max(0|e,1),r=Math.max(0|t||n,1);if(n===a.width&&r===a.height)return f;for(var i=a.colorAttachments,o=0;o<i.length;++o)_(i[o],n,r);return _(a.depthAttachment,n,r),_(a.stencilAttachment,n,r),_(a.depthStencilAttachment,n,r),a.width=f.width=n,a.height=f.height=r,S(a),f}return o.framebufferCount++,f(e,i),t(f,{resize:d,_reglType:"framebuffer",_framebuffer:a,destroy:function(){k(a),x(a)},use:function(e){u.setFBO({framebuffer:f},e)}})}function E(e){var a=Array(6);function o(e){var r;ne(a.indexOf(u.next)<0,"can not update framebuffer which is currently in use");var l,f={color:null},d=0,h=null,p="rgba",v="uint8",m=1;if("number"===typeof e)d=0|e;else if(e){ne.type(e,"object","invalid arguments for framebuffer");var y=e;if("shape"in y){var _=y.shape;ne(Array.isArray(_)&&_.length>=2,"invalid shape for framebuffer"),ne(_[0]===_[1],"cube framebuffer must be square"),d=_[0]}else"radius"in y&&(d=0|y.radius),"width"in y?(d=0|y.width,"height"in y&&ne(y.height===d,"must be square")):"height"in y&&(d=0|y.height);("color"in y||"colors"in y)&&(h=y.color||y.colors,Array.isArray(h)&&ne(1===h.length||n.webgl_draw_buffers,"multiple render targets not supported")),h||("colorCount"in y&&(m=0|y.colorCount,ne(m>0,"invalid color buffer count")),"colorType"in y&&(ne.oneOf(y.colorType,c,"invalid color type"),v=y.colorType),"colorFormat"in y&&(p=y.colorFormat,ne.oneOf(y.colorFormat,s,"invalid color format for texture"))),"depth"in y&&(f.depth=y.depth),"stencil"in y&&(f.stencil=y.stencil),"depthStencil"in y&&(f.depthStencil=y.depthStencil)}else d=1;if(h)if(Array.isArray(h))for(l=[],r=0;r<h.length;++r)l[r]=h[r];else l=[h];else{l=Array(m);var b={radius:d,format:p,type:v};for(r=0;r<m;++r)l[r]=i.createCube(b)}for(f.color=Array(l.length),r=0;r<l.length;++r){var g=l[r];ne("function"===typeof g&&"textureCube"===g._reglType,"invalid cube map"),d=d||g.width,ne(g.width===d&&g.height===d,"invalid cube map shape"),f.color[r]={target:hi,data:l[r]}}for(r=0;r<6;++r){for(var w=0;w<l.length;++w)f.color[w].target=hi+r;r>0&&(f.depth=a[0].depth,f.stencil=a[0].stencil,f.depthStencil=a[0].depthStencil),a[r]?a[r](f):a[r]=A(f)}return t(o,{width:d,height:d,color:l})}function l(e){var t,n=0|e;if(ne(n>0&&n<=r.maxCubeMapSize,"invalid radius for cube fbo"),n===o.width)return o;var i=o.color;for(t=0;t<i.length;++t)i[t].resize(n);for(t=0;t<6;++t)a[t].resize(n);return o.width=o.height=n,o}return o(e),t(o,{faces:a,resize:l,_reglType:"framebufferCube",destroy:function(){a.forEach((function(e){e.destroy()}))}})}function O(){u.cur=null,u.next=null,u.dirty=!0,St(g).forEach((function(t){t.framebuffer=e.createFramebuffer(),S(t)}))}return t(u,{getFramebuffer:function(e){if("function"===typeof e&&"framebuffer"===e._reglType){var t=e._framebuffer;if(t instanceof w)return t}return null},create:A,createCube:E,clear:function(){St(g).forEach(k)},restore:O})}Bi[_i]="complete",Bi[bi]="incomplete attachment",Bi[wi]="incomplete dimensions",Bi[gi]="incomplete, missing attachment",Bi[xi]="unsupported";var Pi=5126,Li=34962,Ri=34963,Ui=["attributes","elements","offset","count","primitive","instances"];function Vi(){this.state=0,this.x=0,this.y=0,this.z=0,this.w=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=Pi,this.offset=0,this.stride=0,this.divisor=0}function Wi(t,n,r,i,a,o,u){for(var s=r.maxAttributes,l=new Array(s),c=0;c<s;++c)l[c]=new Vi;var f=0,d={},h={Record:Vi,scope:{},state:l,currentVAO:null,targetVAO:null,restore:v()?x:function(){},createVAO:k,getVAO:y,destroyBuffer:p,setVAO:v()?_:b,clear:v()?g:function(){}};function p(e){for(var n=0;n<l.length;++n){var r=l[n];r.buffer===e&&(t.disableVertexAttribArray(n),r.buffer=null)}}function v(){return n.oes_vertex_array_object}function m(){return n.angle_instanced_arrays}function y(e){return"function"===typeof e&&e._vao?e._vao:null}function _(e){if(e!==h.currentVAO){var t=v();e?t.bindVertexArrayOES(e.vao):t.bindVertexArrayOES(null),h.currentVAO=e}}function b(e){if(e!==h.currentVAO){if(e)e.bindAttrs();else{for(var n=m(),r=0;r<l.length;++r){var i=l[r];i.buffer?(t.enableVertexAttribArray(r),i.buffer.bind(),t.vertexAttribPointer(r,i.size,i.type,i.normalized,i.stride,i.offfset),n&&i.divisor&&n.vertexAttribDivisorANGLE(r,i.divisor)):(t.disableVertexAttribArray(r),t.vertexAttrib4f(r,i.x,i.y,i.z,i.w))}u.elements?t.bindBuffer(Ri,u.elements.buffer.buffer):t.bindBuffer(Ri,null)}h.currentVAO=e}}function g(){St(d).forEach((function(e){e.destroy()}))}function w(){this.id=++f,this.attributes=[],this.elements=null,this.ownsElements=!1,this.count=0,this.offset=0,this.instances=-1,this.primitive=4;var e=v();this.vao=e?e.createVertexArrayOES():null,d[this.id]=this,this.buffers=[]}function x(){v()&&St(d).forEach((function(e){e.refresh()}))}function k(t){var r=new w;function u(t){var i;if(Array.isArray(t))i=t,r.elements&&r.ownsElements&&r.elements.destroy(),r.elements=null,r.ownsElements=!1,r.offset=0,r.count=0,r.instances=-1,r.primitive=4;else{if(ne("object"===typeof t,"invalid arguments for create vao"),ne("attributes"in t,"must specify attributes for vao"),t.elements){var l=t.elements;r.ownsElements?"function"===typeof l&&"elements"===l._reglType?(r.elements.destroy(),r.ownsElements=!1):(r.elements(l),r.ownsElements=!1):o.getElements(t.elements)?(r.elements=t.elements,r.ownsElements=!1):(r.elements=o.create(t.elements),r.ownsElements=!0)}else r.elements=null,r.ownsElements=!1;i=t.attributes,r.offset=0,r.count=-1,r.instances=-1,r.primitive=4,r.elements&&(r.count=r.elements._elements.vertCount,r.primitive=r.elements._elements.primType),"offset"in t&&(r.offset=0|t.offset),"count"in t&&(r.count=0|t.count),"instances"in t&&(r.instances=0|t.instances),"primitive"in t&&(ne(t.primitive in qt,"bad primitive type: "+t.primitive),r.primitive=qt[t.primitive]),ne.optional((function(){for(var e=Object.keys(t),n=0;n<e.length;++n)ne(Ui.indexOf(e[n])>=0,'invalid option for vao: "'+e[n]+'" valid options are '+Ui)})),ne(Array.isArray(i),"attributes must be an array")}ne(i.length<s,"too many attributes"),ne(i.length>0,"must specify at least one attribute");var c={},f=r.attributes;f.length=i.length;for(var d=0;d<i.length;++d){var h,p=i[d],v=f[d]=new Vi,m=p.data||p;Array.isArray(m)||e(m)||kt(m)?(r.buffers[d]&&(h=r.buffers[d],e(m)&&h._buffer.byteLength>=m.byteLength?h.subdata(m):(h.destroy(),r.buffers[d]=null)),r.buffers[d]||(h=r.buffers[d]=a.create(p,Li,!1,!0)),v.buffer=a.getBuffer(h),v.size=0|v.buffer.dimension,v.normalized=!1,v.type=v.buffer.dtype,v.offset=0,v.stride=0,v.divisor=0,v.state=1,c[d]=1):a.getBuffer(p)?(v.buffer=a.getBuffer(p),v.size=0|v.buffer.dimension,v.normalized=!1,v.type=v.buffer.dtype,v.offset=0,v.stride=0,v.divisor=0,v.state=1):a.getBuffer(p.buffer)?(v.buffer=a.getBuffer(p.buffer),v.size=0|(+p.size||v.buffer.dimension),v.normalized=!!p.normalized||!1,"type"in p?(ne.parameter(p.type,zt,"invalid buffer type"),v.type=zt[p.type]):v.type=v.buffer.dtype,v.offset=0|(p.offset||0),v.stride=0|(p.stride||0),v.divisor=0|(p.divisor||0),v.state=1,ne(v.size>=1&&v.size<=4,"size must be between 1 and 4"),ne(v.offset>=0,"invalid offset"),ne(v.stride>=0&&v.stride<=255,"stride must be between 0 and 255"),ne(v.divisor>=0,"divisor must be positive"),ne(!v.divisor||!!n.angle_instanced_arrays,"ANGLE_instanced_arrays must be enabled to use divisor")):"x"in p?(ne(d>0,"first attribute must not be a constant"),v.x=+p.x||0,v.y=+p.y||0,v.z=+p.z||0,v.w=+p.w||0,v.state=2):ne(!1,"invalid attribute spec for location "+d)}for(var y=0;y<r.buffers.length;++y)!c[y]&&r.buffers[y]&&(r.buffers[y].destroy(),r.buffers[y]=null);return r.refresh(),u}return i.vaoCount+=1,u.destroy=function(){for(var e=0;e<r.buffers.length;++e)r.buffers[e]&&r.buffers[e].destroy();r.buffers.length=0,r.ownsElements&&(r.elements.destroy(),r.elements=null,r.ownsElements=!1),r.destroy()},u._vao=r,u._reglType="vao",u(t)}return w.prototype.bindAttrs=function(){for(var e=m(),n=this.attributes,r=0;r<n.length;++r){var i=n[r];i.buffer?(t.enableVertexAttribArray(r),t.bindBuffer(Li,i.buffer.buffer),t.vertexAttribPointer(r,i.size,i.type,i.normalized,i.stride,i.offset),e&&i.divisor&&e.vertexAttribDivisorANGLE(r,i.divisor)):(t.disableVertexAttribArray(r),t.vertexAttrib4f(r,i.x,i.y,i.z,i.w))}for(var a=n.length;a<s;++a)t.disableVertexAttribArray(a);var u=o.getElements(this.elements);u?t.bindBuffer(Ri,u.buffer.buffer):t.bindBuffer(Ri,null)},w.prototype.refresh=function(){var e=v();e&&(e.bindVertexArrayOES(this.vao),this.bindAttrs(),h.currentVAO=null,e.bindVertexArrayOES(null))},w.prototype.destroy=function(){if(this.vao){var e=v();this===h.currentVAO&&(h.currentVAO=null,e.bindVertexArrayOES(null)),e.deleteVertexArrayOES(this.vao),this.vao=null}this.ownsElements&&(this.elements.destroy(),this.elements=null,this.ownsElements=!1),d[this.id]&&(delete d[this.id],i.vaoCount-=1)},h}var Yi=35632,Hi=35633,qi=35718,Gi=35721;function $i(e,n,r,i){var a={},o={};function u(e,t,n,r){this.name=e,this.id=t,this.location=n,this.info=r}function s(e,t){for(var n=0;n<e.length;++n)if(e[n].id===t.id)return void(e[n].location=t.location);e.push(t)}function l(t,r,i){var u=t===Yi?a:o,s=u[r];if(!s){var l=n.str(r);s=e.createShader(t),e.shaderSource(s,l),e.compileShader(s),ne.shaderError(e,s,l,t,i),u[r]=s}return s}var c={},f=[],d=0;function h(e,t){this.id=d++,this.fragId=e,this.vertId=t,this.program=null,this.uniforms=[],this.attributes=[],this.refCount=1,i.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function p(t,r,a){var o,c,f=l(Yi,t.fragId),d=l(Hi,t.vertId),h=t.program=e.createProgram();if(e.attachShader(h,f),e.attachShader(h,d),a)for(o=0;o<a.length;++o){var p=a[o];e.bindAttribLocation(h,p[0],p[1])}e.linkProgram(h),ne.linkError(e,h,n.str(t.fragId),n.str(t.vertId),r);var v=e.getProgramParameter(h,qi);i.profile&&(t.stats.uniformsCount=v);var m=t.uniforms;for(o=0;o<v;++o)if(c=e.getActiveUniform(h,o)){if(c.size>1)for(var y=0;y<c.size;++y){var _=c.name.replace("[0]","["+y+"]");s(m,new u(_,n.id(_),e.getUniformLocation(h,_),c))}var b=c.name;c.size>1&&(b=b.replace("[0]","")),s(m,new u(b,n.id(b),e.getUniformLocation(h,b),c))}var g=e.getProgramParameter(h,Gi);i.profile&&(t.stats.attributesCount=g);var w=t.attributes;for(o=0;o<g;++o)(c=e.getActiveAttrib(h,o))&&s(w,new u(c.name,n.id(c.name),e.getAttribLocation(h,c.name),c))}function v(){a={},o={};for(var e=0;e<f.length;++e)p(f[e],null,f[e].attributes.map((function(e){return[e.location,e.name]})))}return i.profile&&(r.getMaxUniformsCount=function(){var e=0;return f.forEach((function(t){t.stats.uniformsCount>e&&(e=t.stats.uniformsCount)})),e},r.getMaxAttributesCount=function(){var e=0;return f.forEach((function(t){t.stats.attributesCount>e&&(e=t.stats.attributesCount)})),e}),{clear:function(){var t=e.deleteShader.bind(e);St(a).forEach(t),a={},St(o).forEach(t),o={},f.forEach((function(t){e.deleteProgram(t.program)})),f.length=0,c={},r.shaderCount=0},program:function(n,i,u,s){ne.command(n>=0,"missing vertex shader",u),ne.command(i>=0,"missing fragment shader",u);var l=c[i];l||(l=c[i]={});var d=l[n];if(d&&(d.refCount++,!s))return d;var v=new h(i,n);return r.shaderCount++,p(v,u,s),d||(l[n]=v),f.push(v),t(v,{destroy:function(){if(v.refCount--,v.refCount<=0){e.deleteProgram(v.program);var t=f.indexOf(v);f.splice(t,1),r.shaderCount--}l[v.vertId].refCount<=0&&(e.deleteShader(o[v.vertId]),delete o[v.vertId],delete c[v.fragId][v.vertId]),Object.keys(c[v.fragId]).length||(e.deleteShader(a[v.fragId]),delete a[v.fragId],delete c[v.fragId])}})},restore:v,shader:l,frag:-1,vert:-1}}var Xi=6408,Qi=5121,Ki=3333,Zi=5126;function Ji(t,n,r,i,a,o,u){function s(s){var l;null===n.next?(ne(a.preserveDrawingBuffer,'you must create a webgl context with "preserveDrawingBuffer":true in order to read pixels from the drawing buffer'),l=Qi):(ne(null!==n.next.colorAttachments[0].texture,"You cannot read from a renderbuffer"),l=n.next.colorAttachments[0].texture._texture.type,ne.optional((function(){o.oes_texture_float?(ne(l===Qi||l===Zi,"Reading from a framebuffer is only allowed for the types 'uint8' and 'float'"),l===Zi&&ne(u.readFloat,"Reading 'float' values is not permitted in your browser. For a fallback, please see: https://www.npmjs.com/package/glsl-read-float")):ne(l===Qi,"Reading from a framebuffer is only allowed for the type 'uint8'")})));var c=0,f=0,d=i.framebufferWidth,h=i.framebufferHeight,p=null;e(s)?p=s:s&&(ne.type(s,"object","invalid arguments to regl.read()"),c=0|s.x,f=0|s.y,ne(c>=0&&c<i.framebufferWidth,"invalid x offset for regl.read"),ne(f>=0&&f<i.framebufferHeight,"invalid y offset for regl.read"),d=0|(s.width||i.framebufferWidth-c),h=0|(s.height||i.framebufferHeight-f),p=s.data||null),p&&(l===Qi?ne(p instanceof Uint8Array,"buffer must be 'Uint8Array' when reading from a framebuffer of type 'uint8'"):l===Zi&&ne(p instanceof Float32Array,"buffer must be 'Float32Array' when reading from a framebuffer of type 'float'")),ne(d>0&&d+c<=i.framebufferWidth,"invalid width for read pixels"),ne(h>0&&h+f<=i.framebufferHeight,"invalid height for read pixels"),r();var v=d*h*4;return p||(l===Qi?p=new Uint8Array(v):l===Zi&&(p=p||new Float32Array(v))),ne.isTypedArray(p,"data buffer for regl.read() must be a typedarray"),ne(p.byteLength>=v,"data buffer for regl.read() too small"),t.pixelStorei(Ki,4),t.readPixels(c,f,d,h,Xi,l,p),p}function l(e){var t;return n.setFBO({framebuffer:e.framebuffer},(function(){t=s(e)})),t}function c(e){return e&&"framebuffer"in e?l(e):s(e)}return c}function ea(e){return Array.prototype.slice.call(e)}function ta(e){return ea(e).join("")}function na(){var e=0,n=[],r=[];function i(t){for(var i=0;i<r.length;++i)if(r[i]===t)return n[i];var a="g"+e++;return n.push(a),r.push(t),a}function a(){var n=[];function r(){n.push.apply(n,ea(arguments))}var i=[];function a(){var t="v"+e++;return i.push(t),arguments.length>0&&(n.push(t,"="),n.push.apply(n,ea(arguments)),n.push(";")),t}return t(r,{def:a,toString:function(){return ta([i.length>0?"var "+i.join(",")+";":"",ta(n)])}})}function o(){var e=a(),n=a(),r=e.toString,i=n.toString;function o(t,r){n(t,r,"=",e.def(t,r),";")}return t((function(){e.apply(e,ea(arguments))}),{def:e.def,entry:e,exit:n,save:o,set:function(t,n,r){o(t,n),e(t,n,"=",r,";")},toString:function(){return r()+i()}})}function u(){var e=ta(arguments),n=o(),r=o(),i=n.toString,a=r.toString;return t(n,{then:function(){return n.apply(n,ea(arguments)),this},else:function(){return r.apply(r,ea(arguments)),this},toString:function(){var t=a();return t&&(t="else{"+t+"}"),ta(["if(",e,"){",i(),"}",t])}})}var s=a(),l={};function c(e,n){var r=[];function i(){var e="a"+r.length;return r.push(e),e}n=n||0;for(var a=0;a<n;++a)i();var u=o(),s=u.toString;return l[e]=t(u,{arg:i,toString:function(){return ta(["function(",r.join(),"){",s(),"}"])}})}function f(){var e=['"use strict";',s,"return {"];Object.keys(l).forEach((function(t){e.push('"',t,'":',l[t].toString(),",")})),e.push("}");var t=ta(e).replace(/;/g,";\n").replace(/}/g,"}\n").replace(/{/g,"{\n");return Function.apply(null,n.concat(t)).apply(null,r)}return{global:s,link:i,block:a,proc:c,scope:o,cond:u,compile:f}}var ra="xyzw".split(""),ia=5121,aa=1,oa=2,ua=0,sa=1,la=2,ca=3,fa=4,da=5,ha=6,pa="dither",va="blend.enable",ma="blend.color",ya="blend.equation",_a="blend.func",ba="depth.enable",ga="depth.func",wa="depth.range",xa="depth.mask",ka="colorMask",Sa="cull.enable",Aa="cull.face",Ea="frontFace",Oa="lineWidth",Ia="polygonOffset.enable",Ta="polygonOffset.offset",ja="sample.alpha",Ca="sample.enable",Ma="sample.coverage",za="stencil.enable",Na="stencil.mask",Da="stencil.func",Ba="stencil.opFront",Fa="stencil.opBack",Pa="scissor.enable",La="scissor.box",Ra="viewport",Ua="profile",Va="framebuffer",Wa="vert",Ya="frag",Ha="elements",qa="primitive",Ga="count",$a="offset",Xa="instances",Qa="vao",Ka="Width",Za="Height",Ja=Va+Ka,eo=Va+Za,to=Ra+Ka,no=Ra+Za,ro="drawingBuffer",io=ro+Ka,ao=ro+Za,oo=[_a,ya,Da,Ba,Fa,Ma,Ra,La,Ta],uo=34962,so=34963,lo=3553,co=34067,fo=2884,ho=3042,po=3024,vo=2960,mo=2929,yo=3089,_o=32823,bo=32926,go=32928,wo=5126,xo=35664,ko=35665,So=35666,Ao=5124,Eo=35667,Oo=35668,Io=35669,To=35670,jo=35671,Co=35672,Mo=35673,zo=35674,No=35675,Do=35676,Bo=35678,Fo=35680,Po=4,Lo=1028,Ro=1029,Uo=2304,Vo=2305,Wo=32775,Yo=32776,Ho=519,qo=7680,Go=0,$o=1,Xo=32774,Qo=513,Ko=36160,Zo=36064,Jo={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},eu=["constant color, constant alpha","one minus constant color, constant alpha","constant color, one minus constant alpha","one minus constant color, one minus constant alpha","constant alpha, constant color","constant alpha, one minus constant color","one minus constant alpha, constant color","one minus constant alpha, one minus constant color"],tu={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},nu={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},ru={frag:35632,vert:35633},iu={cw:Uo,ccw:Vo};function au(t){return Array.isArray(t)||e(t)||kt(t)}function ou(e){return e.sort((function(e,t){return e===Ra?-1:t===Ra?1:e<t?-1:1}))}function uu(e,t,n,r){this.thisDep=e,this.contextDep=t,this.propDep=n,this.append=r}function su(e){return e&&!(e.thisDep||e.contextDep||e.propDep)}function lu(e){return new uu(!1,!1,!1,e)}function cu(e,t){var n=e.type;if(n===ua){var r=e.data.length;return new uu(!0,r>=1,r>=2,t)}if(n===fa){var i=e.data;return new uu(i.thisDep,i.contextDep,i.propDep,t)}if(n===da)return new uu(!1,!1,!1,t);if(n===ha){for(var a=!1,o=!1,u=!1,s=0;s<e.data.length;++s){var l=e.data[s];if(l.type===sa)u=!0;else if(l.type===la)o=!0;else if(l.type===ca)a=!0;else if(l.type===ua){a=!0;var c=l.data;c>=1&&(o=!0),c>=2&&(u=!0)}else l.type===fa&&(a=a||l.data.thisDep,o=o||l.data.contextDep,u=u||l.data.propDep)}return new uu(a,o,u,t)}return new uu(n===ca,n===la,n===sa,t)}var fu=new uu(!1,!1,!1,(function(){}));function du(e,n,r,i,a,o,u,s,l,c,f,d,h,p,v){var m=c.Record,y={add:32774,subtract:32778,"reverse subtract":32779};r.ext_blend_minmax&&(y.min=Wo,y.max=Yo);var _=r.angle_instanced_arrays,b=r.webgl_draw_buffers,g=r.oes_vertex_array_object,w={dirty:!0,profile:v.profile},x={},k=[],S={},A={};function E(e){return e.replace(".","_")}function O(e,t,n){var r=E(e);k.push(e),x[r]=w[r]=!!n,S[r]=t}function I(e,t,n){var r=E(e);k.push(e),Array.isArray(n)?(w[r]=n.slice(),x[r]=n.slice()):w[r]=x[r]=n,A[r]=t}O(pa,po),O(va,ho),I(ma,"blendColor",[0,0,0,0]),I(ya,"blendEquationSeparate",[Xo,Xo]),I(_a,"blendFuncSeparate",[$o,Go,$o,Go]),O(ba,mo,!0),I(ga,"depthFunc",Qo),I(wa,"depthRange",[0,1]),I(xa,"depthMask",!0),I(ka,ka,[!0,!0,!0,!0]),O(Sa,fo),I(Aa,"cullFace",Ro),I(Ea,Ea,Vo),I(Oa,Oa,1),O(Ia,_o),I(Ta,"polygonOffset",[0,0]),O(ja,bo),O(Ca,go),I(Ma,"sampleCoverage",[1,!1]),O(za,vo),I(Na,"stencilMask",-1),I(Da,"stencilFunc",[Ho,0,-1]),I(Ba,"stencilOpSeparate",[Lo,qo,qo,qo]),I(Fa,"stencilOpSeparate",[Ro,qo,qo,qo]),O(Pa,yo),I(La,"scissor",[0,0,e.drawingBufferWidth,e.drawingBufferHeight]),I(Ra,Ra,[0,0,e.drawingBufferWidth,e.drawingBufferHeight]);var T={gl:e,context:h,strings:n,next:x,current:w,draw:d,elements:o,buffer:a,shader:f,attributes:c.state,vao:c,uniforms:l,framebuffer:s,extensions:r,timer:p,isBufferArgs:au},j={primTypes:qt,compareFuncs:tu,blendFuncs:Jo,blendEquations:y,stencilOps:nu,glTypes:zt,orientationType:iu};ne.optional((function(){T.isArrayLike=fn})),b&&(j.backBuffer=[Ro],j.drawBuffer=Ee(i.maxDrawbuffers,(function(e){return 0===e?[0]:Ee(e,(function(e){return Zo+e}))})));var C=0;function M(){var e=na(),t=e.link,r=e.global;e.id=C++,e.batchId="0";var i=t(T),a=e.shared={props:"a0"};Object.keys(T).forEach((function(e){a[e]=r.def(i,".",e)})),ne.optional((function(){e.CHECK=t(ne),e.commandStr=ne.guessCommand(),e.command=t(e.commandStr),e.assert=function(e,n,r){e("if(!(",n,"))",this.CHECK,".commandRaise(",t(r),",",this.command,");")},j.invalidBlendCombinations=eu}));var o=e.next={},u=e.current={};Object.keys(A).forEach((function(e){Array.isArray(w[e])&&(o[e]=r.def(a.next,".",e),u[e]=r.def(a.current,".",e))}));var s=e.constants={};Object.keys(j).forEach((function(e){s[e]=r.def(JSON.stringify(j[e]))})),e.invoke=function(n,r){switch(r.type){case ua:var i=["this",a.context,a.props,e.batchId];return n.def(t(r.data),".call(",i.slice(0,Math.max(r.data.length+1,4)),")");case sa:return n.def(a.props,r.data);case la:return n.def(a.context,r.data);case ca:return n.def("this",r.data);case fa:return r.data.append(e,n),r.data.ref;case da:return r.data.toString();case ha:return r.data.map((function(t){return e.invoke(n,t)}))}},e.attribCache={};var l={};return e.scopeAttrib=function(e){var r=n.id(e);if(r in l)return l[r];var i=c.scope[r];return i||(i=c.scope[r]=new m),l[r]=t(i)},e}function z(e){var t,n=e.static,r=e.dynamic;if(Ua in n){var i=!!n[Ua];(t=lu((function(e,t){return i}))).enable=i}else if(Ua in r){var a=r[Ua];t=cu(a,(function(e,t){return e.invoke(t,a)}))}return t}function N(e,t){var n=e.static,r=e.dynamic;if(Va in n){var i=n[Va];return i?(i=s.getFramebuffer(i),ne.command(i,"invalid framebuffer object"),lu((function(e,t){var n=e.link(i),r=e.shared;t.set(r.framebuffer,".next",n);var a=r.context;return t.set(a,"."+Ja,n+".width"),t.set(a,"."+eo,n+".height"),n}))):lu((function(e,t){var n=e.shared;t.set(n.framebuffer,".next","null");var r=n.context;return t.set(r,"."+Ja,r+"."+io),t.set(r,"."+eo,r+"."+ao),"null"}))}if(Va in r){var a=r[Va];return cu(a,(function(e,t){var n=e.invoke(t,a),r=e.shared,i=r.framebuffer,o=t.def(i,".getFramebuffer(",n,")");ne.optional((function(){e.assert(t,"!"+n+"||"+o,"invalid framebuffer object")})),t.set(i,".next",o);var u=r.context;return t.set(u,"."+Ja,o+"?"+o+".width:"+u+"."+io),t.set(u,"."+eo,o+"?"+o+".height:"+u+"."+ao),o}))}return null}function D(e,t,n){var r=e.static,i=e.dynamic;function a(e){if(e in r){var a=r[e];ne.commandType(a,"object","invalid "+e,n.commandStr);var o,u,s=!0,l=0|a.x,c=0|a.y;return"width"in a?(o=0|a.width,ne.command(o>=0,"invalid "+e,n.commandStr)):s=!1,"height"in a?(u=0|a.height,ne.command(u>=0,"invalid "+e,n.commandStr)):s=!1,new uu(!s&&t&&t.thisDep,!s&&t&&t.contextDep,!s&&t&&t.propDep,(function(e,t){var n=e.shared.context,r=o;"width"in a||(r=t.def(n,".",Ja,"-",l));var i=u;return"height"in a||(i=t.def(n,".",eo,"-",c)),[l,c,r,i]}))}if(e in i){var f=i[e],d=cu(f,(function(t,n){var r=t.invoke(n,f);ne.optional((function(){t.assert(n,r+"&&typeof "+r+'==="object"',"invalid "+e)}));var i=t.shared.context,a=n.def(r,".x|0"),o=n.def(r,".y|0"),u=n.def('"width" in ',r,"?",r,".width|0:","(",i,".",Ja,"-",a,")"),s=n.def('"height" in ',r,"?",r,".height|0:","(",i,".",eo,"-",o,")");return ne.optional((function(){t.assert(n,u+">=0&&"+s+">=0","invalid "+e)})),[a,o,u,s]}));return t&&(d.thisDep=d.thisDep||t.thisDep,d.contextDep=d.contextDep||t.contextDep,d.propDep=d.propDep||t.propDep),d}return t?new uu(t.thisDep,t.contextDep,t.propDep,(function(e,t){var n=e.shared.context;return[0,0,t.def(n,".",Ja),t.def(n,".",eo)]})):null}var o=a(Ra);if(o){var u=o;o=new uu(o.thisDep,o.contextDep,o.propDep,(function(e,t){var n=u.append(e,t),r=e.shared.context;return t.set(r,"."+to,n[2]),t.set(r,"."+no,n[3]),n}))}return{viewport:o,scissor_box:a(La)}}function B(e,t){var n=e.static;if("string"===typeof n[Ya]&&"string"===typeof n[Wa]){if(Object.keys(t.dynamic).length>0)return null;var r=t.static,i=Object.keys(r);if(i.length>0&&"number"===typeof r[i[0]]){for(var a=[],o=0;o<i.length;++o)ne("number"===typeof r[i[o]],"must specify all vertex attribute locations when using vaos"),a.push([0|r[i[o]],i[o]]);return a}}return null}function F(e,t,r){var i=e.static,a=e.dynamic;function o(e){if(e in i){var t=n.id(i[e]);ne.optional((function(){f.shader(ru[e],t,ne.guessCommand())}));var r=lu((function(){return t}));return r.id=t,r}if(e in a){var o=a[e];return cu(o,(function(t,n){var r=t.invoke(n,o),i=n.def(t.shared.strings,".id(",r,")");return ne.optional((function(){n(t.shared.shader,".shader(",ru[e],",",i,",",t.command,");")})),i}))}return null}var u,s=o(Ya),l=o(Wa),c=null;return su(s)&&su(l)?(c=f.program(l.id,s.id,null,r),u=lu((function(e,t){return e.link(c)}))):u=new uu(s&&s.thisDep||l&&l.thisDep,s&&s.contextDep||l&&l.contextDep,s&&s.propDep||l&&l.propDep,(function(e,t){var n,r=e.shared.shader;n=s?s.append(e,t):t.def(r,".",Ya);var i=r+".program("+(l?l.append(e,t):t.def(r,".",Wa))+","+n;return ne.optional((function(){i+=","+e.command})),t.def(i+")")})),{frag:s,vert:l,progVar:u,program:c}}function P(e,t){var n=e.static,r=e.dynamic,i={},a=!1;function u(){if(Qa in n){var e=n[Qa];return null!==e&&null===c.getVAO(e)&&(e=c.createVAO(e)),a=!0,i.vao=e,lu((function(t){var n=c.getVAO(e);return n?t.link(n):"null"}))}if(Qa in r){a=!0;var t=r[Qa];return cu(t,(function(e,n){var r=e.invoke(n,t);return n.def(e.shared.vao+".getVAO("+r+")")}))}return null}var s=u(),l=!1;function f(){if(Ha in n){var e=n[Ha];if(i.elements=e,au(e)){var u=i.elements=o.create(e,!0);e=o.getElements(u),l=!0}else e&&(e=o.getElements(e),l=!0,ne.command(e,"invalid elements",t.commandStr));var c=lu((function(t,n){if(e){var r=t.link(e);return t.ELEMENTS=r,r}return t.ELEMENTS=null,null}));return c.value=e,c}if(Ha in r){l=!0;var f=r[Ha];return cu(f,(function(e,t){var n=e.shared,r=n.isBufferArgs,i=n.elements,a=e.invoke(t,f),o=t.def("null"),u=t.def(r,"(",a,")"),s=e.cond(u).then(o,"=",i,".createStream(",a,");").else(o,"=",i,".getElements(",a,");");return ne.optional((function(){e.assert(s.else,"!"+a+"||"+o,"invalid elements")})),t.entry(s),t.exit(e.cond(u).then(i,".destroyStream(",o,");")),e.ELEMENTS=o,o}))}return a?new uu(s.thisDep,s.contextDep,s.propDep,(function(e,t){return t.def(e.shared.vao+".currentVAO?"+e.shared.elements+".getElements("+e.shared.vao+".currentVAO.elements):null")})):null}var d=f();function h(){if(qa in n){var e=n[qa];return i.primitive=e,ne.commandParameter(e,qt,"invalid primitve",t.commandStr),lu((function(t,n){return qt[e]}))}if(qa in r){var o=r[qa];return cu(o,(function(e,t){var n=e.constants.primTypes,r=e.invoke(t,o);return ne.optional((function(){e.assert(t,r+" in "+n,"invalid primitive, must be one of "+Object.keys(qt))})),t.def(n,"[",r,"]")}))}return l?su(d)?d.value?lu((function(e,t){return t.def(e.ELEMENTS,".primType")})):lu((function(){return Po})):new uu(d.thisDep,d.contextDep,d.propDep,(function(e,t){var n=e.ELEMENTS;return t.def(n,"?",n,".primType:",Po)})):a?new uu(s.thisDep,s.contextDep,s.propDep,(function(e,t){return t.def(e.shared.vao+".currentVAO?"+e.shared.vao+".currentVAO.primitive:"+Po)})):null}function p(e,o){if(e in n){var u=0|n[e];return o?i.offset=u:i.instances=u,ne.command(!o||u>=0,"invalid "+e,t.commandStr),lu((function(e,t){return o&&(e.OFFSET=u),u}))}if(e in r){var c=r[e];return cu(c,(function(t,n){var r=t.invoke(n,c);return o&&(t.OFFSET=r,ne.optional((function(){t.assert(n,r+">=0","invalid "+e)}))),r}))}if(o){if(l)return lu((function(e,t){return e.OFFSET=0,0}));if(a)return new uu(s.thisDep,s.contextDep,s.propDep,(function(e,t){return t.def(e.shared.vao+".currentVAO?"+e.shared.vao+".currentVAO.offset:0")}))}else if(a)return new uu(s.thisDep,s.contextDep,s.propDep,(function(e,t){return t.def(e.shared.vao+".currentVAO?"+e.shared.vao+".currentVAO.instances:-1")}));return null}var v=p($a,!0);function m(){if(Ga in n){var e=0|n[Ga];return i.count=e,ne.command("number"===typeof e&&e>=0,"invalid vertex count",t.commandStr),lu((function(){return e}))}if(Ga in r){var o=r[Ga];return cu(o,(function(e,t){var n=e.invoke(t,o);return ne.optional((function(){e.assert(t,"typeof "+n+'==="number"&&'+n+">=0&&"+n+"===("+n+"|0)","invalid vertex count")})),n}))}if(l){if(su(d)){if(d)return v?new uu(v.thisDep,v.contextDep,v.propDep,(function(e,t){var n=t.def(e.ELEMENTS,".vertCount-",e.OFFSET);return ne.optional((function(){e.assert(t,n+">=0","invalid vertex offset/element buffer too small")})),n})):lu((function(e,t){return t.def(e.ELEMENTS,".vertCount")}));var u=lu((function(){return-1}));return ne.optional((function(){u.MISSING=!0})),u}var c=new uu(d.thisDep||v.thisDep,d.contextDep||v.contextDep,d.propDep||v.propDep,(function(e,t){var n=e.ELEMENTS;return e.OFFSET?t.def(n,"?",n,".vertCount-",e.OFFSET,":-1"):t.def(n,"?",n,".vertCount:-1")}));return ne.optional((function(){c.DYNAMIC=!0})),c}return a?new uu(s.thisDep,s.contextDep,s.propDep,(function(e,t){return t.def(e.shared.vao,".currentVAO?",e.shared.vao,".currentVAO.count:-1")})):null}var y=h(),_=m(),b=p(Xa,!1);return{elements:d,primitive:y,count:_,instances:b,offset:v,vao:s,vaoActive:a,elementsActive:l,static:i}}function L(e,t){var n=e.static,r=e.dynamic,a={};return k.forEach((function(e){var o=E(e);function u(t,i){if(e in n){var u=t(n[e]);a[o]=lu((function(){return u}))}else if(e in r){var s=r[e];a[o]=cu(s,(function(e,t){return i(e,t,e.invoke(t,s))}))}}switch(e){case Sa:case va:case pa:case za:case ba:case Pa:case Ia:case ja:case Ca:case xa:return u((function(n){return ne.commandType(n,"boolean",e,t.commandStr),n}),(function(t,n,r){return ne.optional((function(){t.assert(n,"typeof "+r+'==="boolean"',"invalid flag "+e,t.commandStr)})),r}));case ga:return u((function(n){return ne.commandParameter(n,tu,"invalid "+e,t.commandStr),tu[n]}),(function(t,n,r){var i=t.constants.compareFuncs;return ne.optional((function(){t.assert(n,r+" in "+i,"invalid "+e+", must be one of "+Object.keys(tu))})),n.def(i,"[",r,"]")}));case wa:return u((function(e){return ne.command(fn(e)&&2===e.length&&"number"===typeof e[0]&&"number"===typeof e[1]&&e[0]<=e[1],"depth range is 2d array",t.commandStr),e}),(function(e,t,n){return ne.optional((function(){e.assert(t,e.shared.isArrayLike+"("+n+")&&"+n+".length===2&&typeof "+n+'[0]==="number"&&typeof '+n+'[1]==="number"&&'+n+"[0]<="+n+"[1]","depth range must be a 2d array")})),[t.def("+",n,"[0]"),t.def("+",n,"[1]")]}));case _a:return u((function(e){ne.commandType(e,"object","blend.func",t.commandStr);var n="srcRGB"in e?e.srcRGB:e.src,r="srcAlpha"in e?e.srcAlpha:e.src,i="dstRGB"in e?e.dstRGB:e.dst,a="dstAlpha"in e?e.dstAlpha:e.dst;return ne.commandParameter(n,Jo,o+".srcRGB",t.commandStr),ne.commandParameter(r,Jo,o+".srcAlpha",t.commandStr),ne.commandParameter(i,Jo,o+".dstRGB",t.commandStr),ne.commandParameter(a,Jo,o+".dstAlpha",t.commandStr),ne.command(-1===eu.indexOf(n+", "+i),"unallowed blending combination (srcRGB, dstRGB) = ("+n+", "+i+")",t.commandStr),[Jo[n],Jo[i],Jo[r],Jo[a]]}),(function(t,n,r){var i=t.constants.blendFuncs;function a(a,o){var u=n.def('"',a,o,'" in ',r,"?",r,".",a,o,":",r,".",a);return ne.optional((function(){t.assert(n,u+" in "+i,"invalid "+e+"."+a+o+", must be one of "+Object.keys(Jo))})),u}ne.optional((function(){t.assert(n,r+"&&typeof "+r+'==="object"',"invalid blend func, must be an object")}));var o=a("src","RGB"),u=a("dst","RGB");ne.optional((function(){var e=t.constants.invalidBlendCombinations;t.assert(n,e+".indexOf("+o+'+", "+'+u+") === -1 ","unallowed blending combination for (srcRGB, dstRGB)")}));var s=n.def(i,"[",o,"]"),l=n.def(i,"[",a("src","Alpha"),"]");return[s,n.def(i,"[",u,"]"),l,n.def(i,"[",a("dst","Alpha"),"]")]}));case ya:return u((function(n){return"string"===typeof n?(ne.commandParameter(n,y,"invalid "+e,t.commandStr),[y[n],y[n]]):"object"===typeof n?(ne.commandParameter(n.rgb,y,e+".rgb",t.commandStr),ne.commandParameter(n.alpha,y,e+".alpha",t.commandStr),[y[n.rgb],y[n.alpha]]):void ne.commandRaise("invalid blend.equation",t.commandStr)}),(function(t,n,r){var i=t.constants.blendEquations,a=n.def(),o=n.def(),u=t.cond("typeof ",r,'==="string"');return ne.optional((function(){function n(e,n,r){t.assert(e,r+" in "+i,"invalid "+n+", must be one of "+Object.keys(y))}n(u.then,e,r),t.assert(u.else,r+"&&typeof "+r+'==="object"',"invalid "+e),n(u.else,e+".rgb",r+".rgb"),n(u.else,e+".alpha",r+".alpha")})),u.then(a,"=",o,"=",i,"[",r,"];"),u.else(a,"=",i,"[",r,".rgb];",o,"=",i,"[",r,".alpha];"),n(u),[a,o]}));case ma:return u((function(e){return ne.command(fn(e)&&4===e.length,"blend.color must be a 4d array",t.commandStr),Ee(4,(function(t){return+e[t]}))}),(function(e,t,n){return ne.optional((function(){e.assert(t,e.shared.isArrayLike+"("+n+")&&"+n+".length===4","blend.color must be a 4d array")})),Ee(4,(function(e){return t.def("+",n,"[",e,"]")}))}));case Na:return u((function(e){return ne.commandType(e,"number",o,t.commandStr),0|e}),(function(e,t,n){return ne.optional((function(){e.assert(t,"typeof "+n+'==="number"',"invalid stencil.mask")})),t.def(n,"|0")}));case Da:return u((function(n){ne.commandType(n,"object",o,t.commandStr);var r=n.cmp||"keep",i=n.ref||0,a="mask"in n?n.mask:-1;return ne.commandParameter(r,tu,e+".cmp",t.commandStr),ne.commandType(i,"number",e+".ref",t.commandStr),ne.commandType(a,"number",e+".mask",t.commandStr),[tu[r],i,a]}),(function(e,t,n){var r=e.constants.compareFuncs;return ne.optional((function(){function i(){e.assert(t,Array.prototype.join.call(arguments,""),"invalid stencil.func")}i(n+"&&typeof ",n,'==="object"'),i('!("cmp" in ',n,")||(",n,".cmp in ",r,")")})),[t.def('"cmp" in ',n,"?",r,"[",n,".cmp]",":",qo),t.def(n,".ref|0"),t.def('"mask" in ',n,"?",n,".mask|0:-1")]}));case Ba:case Fa:return u((function(n){ne.commandType(n,"object",o,t.commandStr);var r=n.fail||"keep",i=n.zfail||"keep",a=n.zpass||"keep";return ne.commandParameter(r,nu,e+".fail",t.commandStr),ne.commandParameter(i,nu,e+".zfail",t.commandStr),ne.commandParameter(a,nu,e+".zpass",t.commandStr),[e===Fa?Ro:Lo,nu[r],nu[i],nu[a]]}),(function(t,n,r){var i=t.constants.stencilOps;function a(a){return ne.optional((function(){t.assert(n,'!("'+a+'" in '+r+")||("+r+"."+a+" in "+i+")","invalid "+e+"."+a+", must be one of "+Object.keys(nu))})),n.def('"',a,'" in ',r,"?",i,"[",r,".",a,"]:",qo)}return ne.optional((function(){t.assert(n,r+"&&typeof "+r+'==="object"',"invalid "+e)})),[e===Fa?Ro:Lo,a("fail"),a("zfail"),a("zpass")]}));case Ta:return u((function(e){ne.commandType(e,"object",o,t.commandStr);var n=0|e.factor,r=0|e.units;return ne.commandType(n,"number",o+".factor",t.commandStr),ne.commandType(r,"number",o+".units",t.commandStr),[n,r]}),(function(t,n,r){return ne.optional((function(){t.assert(n,r+"&&typeof "+r+'==="object"',"invalid "+e)})),[n.def(r,".factor|0"),n.def(r,".units|0")]}));case Aa:return u((function(e){var n=0;return"front"===e?n=Lo:"back"===e&&(n=Ro),ne.command(!!n,o,t.commandStr),n}),(function(e,t,n){return ne.optional((function(){e.assert(t,n+'==="front"||'+n+'==="back"',"invalid cull.face")})),t.def(n,'==="front"?',Lo,":",Ro)}));case Oa:return u((function(e){return ne.command("number"===typeof e&&e>=i.lineWidthDims[0]&&e<=i.lineWidthDims[1],"invalid line width, must be a positive number between "+i.lineWidthDims[0]+" and "+i.lineWidthDims[1],t.commandStr),e}),(function(e,t,n){return ne.optional((function(){e.assert(t,"typeof "+n+'==="number"&&'+n+">="+i.lineWidthDims[0]+"&&"+n+"<="+i.lineWidthDims[1],"invalid line width")})),n}));case Ea:return u((function(e){return ne.commandParameter(e,iu,o,t.commandStr),iu[e]}),(function(e,t,n){return ne.optional((function(){e.assert(t,n+'==="cw"||'+n+'==="ccw"',"invalid frontFace, must be one of cw,ccw")})),t.def(n+'==="cw"?'+Uo+":"+Vo)}));case ka:return u((function(e){return ne.command(fn(e)&&4===e.length,"color.mask must be length 4 array",t.commandStr),e.map((function(e){return!!e}))}),(function(e,t,n){return ne.optional((function(){e.assert(t,e.shared.isArrayLike+"("+n+")&&"+n+".length===4","invalid color.mask")})),Ee(4,(function(e){return"!!"+n+"["+e+"]"}))}));case Ma:return u((function(e){ne.command("object"===typeof e&&e,o,t.commandStr);var n="value"in e?e.value:1,r=!!e.invert;return ne.command("number"===typeof n&&n>=0&&n<=1,"sample.coverage.value must be a number between 0 and 1",t.commandStr),[n,r]}),(function(e,t,n){return ne.optional((function(){e.assert(t,n+"&&typeof "+n+'==="object"',"invalid sample.coverage")})),[t.def('"value" in ',n,"?+",n,".value:1"),t.def("!!",n,".invert")]}))}})),a}function R(e,t){var n=e.static,r=e.dynamic,i={};return Object.keys(n).forEach((function(e){var r,a=n[e];if("number"===typeof a||"boolean"===typeof a)r=lu((function(){return a}));else if("function"===typeof a){var o=a._reglType;"texture2d"===o||"textureCube"===o?r=lu((function(e){return e.link(a)})):"framebuffer"===o||"framebufferCube"===o?(ne.command(a.color.length>0,'missing color attachment for framebuffer sent to uniform "'+e+'"',t.commandStr),r=lu((function(e){return e.link(a.color[0])}))):ne.commandRaise('invalid data for uniform "'+e+'"',t.commandStr)}else fn(a)?r=lu((function(t){var n=t.global.def("[",Ee(a.length,(function(n){return ne.command("number"===typeof a[n]||"boolean"===typeof a[n],"invalid uniform "+e,t.commandStr),a[n]})),"]");return n})):ne.commandRaise('invalid or missing data for uniform "'+e+'"',t.commandStr);r.value=a,i[e]=r})),Object.keys(r).forEach((function(e){var t=r[e];i[e]=cu(t,(function(e,n){return e.invoke(n,t)}))})),i}function U(e,t){var r=e.static,i=e.dynamic,o={};return Object.keys(r).forEach((function(e){var i=r[e],u=n.id(e),s=new m;if(au(i))s.state=aa,s.buffer=a.getBuffer(a.create(i,uo,!1,!0)),s.type=0;else{var l=a.getBuffer(i);if(l)s.state=aa,s.buffer=l,s.type=0;else if(ne.command("object"===typeof i&&i,"invalid data for attribute "+e,t.commandStr),"constant"in i){var c=i.constant;s.buffer="null",s.state=oa,"number"===typeof c?s.x=c:(ne.command(fn(c)&&c.length>0&&c.length<=4,"invalid constant for attribute "+e,t.commandStr),ra.forEach((function(e,t){t<c.length&&(s[e]=c[t])})))}else{l=au(i.buffer)?a.getBuffer(a.create(i.buffer,uo,!1,!0)):a.getBuffer(i.buffer),ne.command(!!l,'missing buffer for attribute "'+e+'"',t.commandStr);var f=0|i.offset;ne.command(f>=0,'invalid offset for attribute "'+e+'"',t.commandStr);var d=0|i.stride;ne.command(d>=0&&d<256,'invalid stride for attribute "'+e+'", must be integer betweeen [0, 255]',t.commandStr);var h=0|i.size;ne.command(!("size"in i)||h>0&&h<=4,'invalid size for attribute "'+e+'", must be 1,2,3,4',t.commandStr);var p=!!i.normalized,v=0;"type"in i&&(ne.commandParameter(i.type,zt,"invalid type for attribute "+e,t.commandStr),v=zt[i.type]);var y=0|i.divisor;ne.optional((function(){"divisor"in i&&(ne.command(0===y||_,'cannot specify divisor for attribute "'+e+'", instancing not supported',t.commandStr),ne.command(y>=0,'invalid divisor for attribute "'+e+'"',t.commandStr));var n=t.commandStr,r=["buffer","offset","divisor","normalized","type","size","stride"];Object.keys(i).forEach((function(t){ne.command(r.indexOf(t)>=0,'unknown parameter "'+t+'" for attribute pointer "'+e+'" (valid parameters are '+r+")",n)}))})),s.buffer=l,s.state=aa,s.size=h,s.normalized=p,s.type=v||l.dtype,s.offset=f,s.stride=d,s.divisor=y}}o[e]=lu((function(e,t){var n=e.attribCache;if(u in n)return n[u];var r={isStream:!1};return Object.keys(s).forEach((function(e){r[e]=s[e]})),s.buffer&&(r.buffer=e.link(s.buffer),r.type=r.type||r.buffer+".dtype"),n[u]=r,r}))})),Object.keys(i).forEach((function(e){var t=i[e];function n(n,r){var i=n.invoke(r,t),a=n.shared,o=n.constants,u=a.isBufferArgs,s=a.buffer;ne.optional((function(){n.assert(r,i+"&&(typeof "+i+'==="object"||typeof '+i+'==="function")&&('+u+"("+i+")||"+s+".getBuffer("+i+")||"+s+".getBuffer("+i+".buffer)||"+u+"("+i+'.buffer)||("constant" in '+i+"&&(typeof "+i+'.constant==="number"||'+a.isArrayLike+"("+i+".constant))))",'invalid dynamic attribute "'+e+'"')}));var l={isStream:r.def(!1)},c=new m;c.state=aa,Object.keys(c).forEach((function(e){l[e]=r.def(""+c[e])}));var f=l.buffer,d=l.type;function h(e){r(l[e],"=",i,".",e,"|0;")}return r("if(",u,"(",i,")){",l.isStream,"=true;",f,"=",s,".createStream(",uo,",",i,");",d,"=",f,".dtype;","}else{",f,"=",s,".getBuffer(",i,");","if(",f,"){",d,"=",f,".dtype;",'}else if("constant" in ',i,"){",l.state,"=",oa,";","if(typeof "+i+'.constant === "number"){',l[ra[0]],"=",i,".constant;",ra.slice(1).map((function(e){return l[e]})).join("="),"=0;","}else{",ra.map((function(e,t){return l[e]+"="+i+".constant.length>"+t+"?"+i+".constant["+t+"]:0;"})).join(""),"}}else{","if(",u,"(",i,".buffer)){",f,"=",s,".createStream(",uo,",",i,".buffer);","}else{",f,"=",s,".getBuffer(",i,".buffer);","}",d,'="type" in ',i,"?",o.glTypes,"[",i,".type]:",f,".dtype;",l.normalized,"=!!",i,".normalized;"),h("size"),h("offset"),h("stride"),h("divisor"),r("}}"),r.exit("if(",l.isStream,"){",s,".destroyStream(",f,");","}"),l}o[e]=cu(t,n)})),o}function V(e){var t=e.static,n=e.dynamic,r={};return Object.keys(t).forEach((function(e){var n=t[e];r[e]=lu((function(e,t){return"number"===typeof n||"boolean"===typeof n?""+n:e.link(n)}))})),Object.keys(n).forEach((function(e){var t=n[e];r[e]=cu(t,(function(e,n){return e.invoke(n,t)}))})),r}function W(e,t,n,i,a){var o=e.static,u=e.dynamic;ne.optional((function(){var e=[Va,Wa,Ya,Ha,qa,$a,Ga,Xa,Ua,Qa].concat(k);function t(t){Object.keys(t).forEach((function(t){ne.command(e.indexOf(t)>=0,'unknown parameter "'+t+'"',a.commandStr)}))}t(o),t(u)}));var s=B(e,t),l=N(e),f=D(e,l,a),d=P(e,a),h=L(e,a),p=F(e,a,s);function v(e){var t=f[e];t&&(h[e]=t)}v(Ra),v(E(La));var m=Object.keys(h).length>0,y={framebuffer:l,draw:d,shader:p,state:h,dirty:m,scopeVAO:null,drawVAO:null,useVAO:!1,attributes:{}};if(y.profile=z(e),y.uniforms=R(n,a),y.drawVAO=y.scopeVAO=d.vao,!y.drawVAO&&p.program&&!s&&r.angle_instanced_arrays&&d.static.elements){var _=!0,b=p.program.attributes.map((function(e){var n=t.static[e];return _=_&&!!n,n}));if(_&&b.length>0){var g=c.getVAO(c.createVAO({attributes:b,elements:d.static.elements}));y.drawVAO=new uu(null,null,null,(function(e,t){return e.link(g)})),y.useVAO=!0}}return s?y.useVAO=!0:y.attributes=U(t,a),y.context=V(i),y}function Y(e,t,n){var r=e.shared.context,i=e.scope();Object.keys(n).forEach((function(a){t.save(r,"."+a);var o=n[a].append(e,t);Array.isArray(o)?i(r,".",a,"=[",o.join(),"];"):i(r,".",a,"=",o,";")})),t(i)}function H(e,t,n,r){var i,a=e.shared,o=a.gl,u=a.framebuffer;b&&(i=t.def(a.extensions,".webgl_draw_buffers"));var s,l=e.constants,c=l.drawBuffer,f=l.backBuffer;s=n?n.append(e,t):t.def(u,".next"),r||t("if(",s,"!==",u,".cur){"),t("if(",s,"){",o,".bindFramebuffer(",Ko,",",s,".framebuffer);"),b&&t(i,".drawBuffersWEBGL(",c,"[",s,".colorAttachments.length]);"),t("}else{",o,".bindFramebuffer(",Ko,",null);"),b&&t(i,".drawBuffersWEBGL(",f,");"),t("}",u,".cur=",s,";"),r||t("}")}function q(e,t,n){var r=e.shared,i=r.gl,a=e.current,o=e.next,u=r.current,s=r.next,l=e.cond(u,".dirty");k.forEach((function(t){var r,c,f=E(t);if(!(f in n.state))if(f in o){r=o[f],c=a[f];var d=Ee(w[f].length,(function(e){return l.def(r,"[",e,"]")}));l(e.cond(d.map((function(e,t){return e+"!=="+c+"["+t+"]"})).join("||")).then(i,".",A[f],"(",d,");",d.map((function(e,t){return c+"["+t+"]="+e})).join(";"),";"))}else{r=l.def(s,".",f);var h=e.cond(r,"!==",u,".",f);l(h),f in S?h(e.cond(r).then(i,".enable(",S[f],");").else(i,".disable(",S[f],");"),u,".",f,"=",r,";"):h(i,".",A[f],"(",r,");",u,".",f,"=",r,";")}})),0===Object.keys(n.state).length&&l(u,".dirty=false;"),t(l)}function G(e,t,n,r){var i=e.shared,a=e.current,o=i.current,u=i.gl;ou(Object.keys(n)).forEach((function(i){var s=n[i];if(!r||r(s)){var l=s.append(e,t);if(S[i]){var c=S[i];su(s)?t(u,l?".enable(":".disable(",c,");"):t(e.cond(l).then(u,".enable(",c,");").else(u,".disable(",c,");")),t(o,".",i,"=",l,";")}else if(fn(l)){var f=a[i];t(u,".",A[i],"(",l,");",l.map((function(e,t){return f+"["+t+"]="+e})).join(";"),";")}else t(u,".",A[i],"(",l,");",o,".",i,"=",l,";")}}))}function $(e,t){_&&(e.instancing=t.def(e.shared.extensions,".angle_instanced_arrays"))}function X(e,t,n,r,i){var a,o,u,s=e.shared,l=e.stats,c=s.current,f=s.timer,d=n.profile;function h(){return"undefined"===typeof performance?"Date.now()":"performance.now()"}function v(e){e(a=t.def(),"=",h(),";"),"string"===typeof i?e(l,".count+=",i,";"):e(l,".count++;"),p&&(r?e(o=t.def(),"=",f,".getNumPendingQueries();"):e(f,".beginQuery(",l,");"))}function m(e){e(l,".cpuTime+=",h(),"-",a,";"),p&&(r?e(f,".pushScopeStats(",o,",",f,".getNumPendingQueries(),",l,");"):e(f,".endQuery();"))}function y(e){var n=t.def(c,".profile");t(c,".profile=",e,";"),t.exit(c,".profile=",n,";")}if(d){if(su(d))return void(d.enable?(v(t),m(t.exit),y("true")):y("false"));y(u=d.append(e,t))}else u=t.def(c,".profile");var _=e.block();v(_),t("if(",u,"){",_,"}");var b=e.block();m(b),t.exit("if(",u,"){",b,"}")}function Q(e,t,n,r,i){var a=e.shared;function o(e){switch(e){case xo:case Eo:case jo:return 2;case ko:case Oo:case Co:return 3;case So:case Io:case Mo:return 4;default:return 1}}function u(n,r,i){var o=a.gl,u=t.def(n,".location"),s=t.def(a.attributes,"[",u,"]"),l=i.state,c=i.buffer,f=[i.x,i.y,i.z,i.w],d=["buffer","normalized","offset","stride"];function h(){t("if(!",s,".buffer){",o,".enableVertexAttribArray(",u,");}");var n,a=i.type;if(n=i.size?t.def(i.size,"||",r):r,t("if(",s,".type!==",a,"||",s,".size!==",n,"||",d.map((function(e){return s+"."+e+"!=="+i[e]})).join("||"),"){",o,".bindBuffer(",uo,",",c,".buffer);",o,".vertexAttribPointer(",[u,n,a,i.normalized,i.stride,i.offset],");",s,".type=",a,";",s,".size=",n,";",d.map((function(e){return s+"."+e+"="+i[e]+";"})).join(""),"}"),_){var l=i.divisor;t("if(",s,".divisor!==",l,"){",e.instancing,".vertexAttribDivisorANGLE(",[u,l],");",s,".divisor=",l,";}")}}function p(){t("if(",s,".buffer){",o,".disableVertexAttribArray(",u,");",s,".buffer=null;","}if(",ra.map((function(e,t){return s+"."+e+"!=="+f[t]})).join("||"),"){",o,".vertexAttrib4f(",u,",",f,");",ra.map((function(e,t){return s+"."+e+"="+f[t]+";"})).join(""),"}")}l===aa?h():l===oa?p():(t("if(",l,"===",aa,"){"),h(),t("}else{"),p(),t("}"))}r.forEach((function(r){var a,s=r.name,l=n.attributes[s];if(l){if(!i(l))return;a=l.append(e,t)}else{if(!i(fu))return;var c=e.scopeAttrib(s);ne.optional((function(){e.assert(t,c+".state","missing attribute "+s)})),a={},Object.keys(new m).forEach((function(e){a[e]=t.def(c,".",e)}))}u(e.link(r),o(r.info.type),a)}))}function K(e,t,r,i,a,o){for(var u,s=e.shared,l=s.gl,c={},f=0;f<i.length;++f){var d=i[f],h=d.name,p=d.info.type,v=d.info.size,m=r.uniforms[h];if(v>1){if(!m)continue;var y=h.replace("[0]","");if(c[y])continue;c[y]=1}var _,b=e.link(d)+".location";if(m){if(!a(m))continue;if(su(m)){var g=m.value;if(ne.command(null!==g&&"undefined"!==typeof g,'missing uniform "'+h+'"',e.commandStr),p===Bo||p===Fo){ne.command("function"===typeof g&&(p===Bo&&("texture2d"===g._reglType||"framebuffer"===g._reglType)||p===Fo&&("textureCube"===g._reglType||"framebufferCube"===g._reglType)),"invalid texture for uniform "+h,e.commandStr);var w=e.link(g._texture||g.color[0]._texture);t(l,".uniform1i(",b,",",w+".bind());"),t.exit(w,".unbind();")}else if(p===zo||p===No||p===Do){ne.optional((function(){ne.command(fn(g),"invalid matrix for uniform "+h,e.commandStr),ne.command(p===zo&&4===g.length||p===No&&9===g.length||p===Do&&16===g.length,"invalid length for matrix uniform "+h,e.commandStr)}));var x=e.global.def("new Float32Array(["+Array.prototype.slice.call(g)+"])"),k=2;p===No?k=3:p===Do&&(k=4),t(l,".uniformMatrix",k,"fv(",b,",false,",x,");")}else{switch(p){case wo:1===v?ne.commandType(g,"number","uniform "+h,e.commandStr):ne.command(fn(g)&&g.length===v,"uniform "+h,e.commandStr),u="1f";break;case xo:ne.command(fn(g)&&g.length&&g.length%2===0&&g.length<=2*v,"uniform "+h,e.commandStr),u="2f";break;case ko:ne.command(fn(g)&&g.length&&g.length%3===0&&g.length<=3*v,"uniform "+h,e.commandStr),u="3f";break;case So:ne.command(fn(g)&&g.length&&g.length%4===0&&g.length<=4*v,"uniform "+h,e.commandStr),u="4f";break;case To:1===v?ne.commandType(g,"boolean","uniform "+h,e.commandStr):ne.command(fn(g)&&g.length===v,"uniform "+h,e.commandStr),u="1i";break;case Ao:1===v?ne.commandType(g,"number","uniform "+h,e.commandStr):ne.command(fn(g)&&g.length===v,"uniform "+h,e.commandStr),u="1i";break;case jo:case Eo:ne.command(fn(g)&&g.length&&g.length%2===0&&g.length<=2*v,"uniform "+h,e.commandStr),u="2i";break;case Co:case Oo:ne.command(fn(g)&&g.length&&g.length%3===0&&g.length<=3*v,"uniform "+h,e.commandStr),u="3i";break;case Mo:case Io:ne.command(fn(g)&&g.length&&g.length%4===0&&g.length<=4*v,"uniform "+h,e.commandStr),u="4i"}v>1?(u+="v",g=e.global.def("["+Array.prototype.slice.call(g)+"]")):g=fn(g)?Array.prototype.slice.call(g):g,t(l,".uniform",u,"(",b,",",g,");")}continue}_=m.append(e,t)}else{if(!a(fu))continue;_=t.def(s.uniforms,"[",n.id(h),"]")}p===Bo?(ne(!Array.isArray(_),"must specify a scalar prop for textures"),t("if(",_,"&&",_,'._reglType==="framebuffer"){',_,"=",_,".color[0];","}")):p===Fo&&(ne(!Array.isArray(_),"must specify a scalar prop for cube maps"),t("if(",_,"&&",_,'._reglType==="framebufferCube"){',_,"=",_,".color[0];","}")),ne.optional((function(){function n(n,r){e.assert(t,n,'bad data or missing for uniform "'+h+'".  '+r)}function r(e,t){1===t&&ne(!Array.isArray(_),"must not specify an array type for uniform"),n("Array.isArray("+_+") && typeof "+_+'[0]===" '+e+'" || typeof '+_+'==="'+e+'"',"invalid type, expected "+e)}function i(t,r,i){Array.isArray(_)?ne(_.length&&_.length%t===0&&_.length<=t*i,"must have length of "+(1===i?"":"n * ")+t):n(s.isArrayLike+"("+_+")&&"+_+".length && "+_+".length % "+t+" === 0 && "+_+".length<="+t*i,"invalid vector, should have length of "+(1===i?"":"n * ")+t,e.commandStr)}function a(t){ne(!Array.isArray(_),"must not specify a value type"),n("typeof "+_+'==="function"&&'+_+'._reglType==="texture'+(t===lo?"2d":"Cube")+'"',"invalid texture type",e.commandStr)}switch(p){case Ao:r("number",v);break;case Eo:i(2,"number",v);break;case Oo:i(3,"number",v);break;case Io:i(4,"number",v);break;case wo:r("number",v);break;case xo:i(2,"number",v);break;case ko:i(3,"number",v);break;case So:i(4,"number",v);break;case To:r("boolean",v);break;case jo:i(2,"boolean",v);break;case Co:i(3,"boolean",v);break;case Mo:i(4,"boolean",v);break;case zo:i(4,"number",v);break;case No:i(9,"number",v);break;case Do:i(16,"number",v);break;case Bo:a(lo);break;case Fo:a(co)}}));var S=1;switch(p){case Bo:case Fo:var A=t.def(_,"._texture");t(l,".uniform1i(",b,",",A,".bind());"),t.exit(A,".unbind();");continue;case Ao:case To:u="1i";break;case Eo:case jo:u="2i",S=2;break;case Oo:case Co:u="3i",S=3;break;case Io:case Mo:u="4i",S=4;break;case wo:u="1f";break;case xo:u="2f",S=2;break;case ko:u="3f",S=3;break;case So:u="4f",S=4;break;case zo:u="Matrix2fv";break;case No:u="Matrix3fv";break;case Do:u="Matrix4fv"}if(-1===u.indexOf("Matrix")&&v>1&&(u+="v",S=1),"M"===u.charAt(0)){t(l,".uniform",u,"(",b,",");var E=Math.pow(p-zo+2,2),O=e.global.def("new Float32Array(",E,")");Array.isArray(_)?t("false,(",Ee(E,(function(e){return O+"["+e+"]="+_[e]})),",",O,")"):t("false,(Array.isArray(",_,")||",_," instanceof Float32Array)?",_,":(",Ee(E,(function(e){return O+"["+e+"]="+_+"["+e+"]"})),",",O,")"),t(");")}else if(S>1){for(var I=[],T=[],j=0;j<S;++j)Array.isArray(_)?T.push(_[j]):T.push(t.def(_+"["+j+"]")),o&&I.push(t.def());o&&t("if(!",e.batchId,"||",I.map((function(e,t){return e+"!=="+T[t]})).join("||"),"){",I.map((function(e,t){return e+"="+T[t]+";"})).join("")),t(l,".uniform",u,"(",b,",",T.join(","),");"),o&&t("}")}else{if(ne(!Array.isArray(_),"uniform value must not be an array"),o){var C=t.def();t("if(!",e.batchId,"||",C,"!==",_,"){",C,"=",_,";")}t(l,".uniform",u,"(",b,",",_,");"),o&&t("}")}}}function Z(e,t,n,r){var i=e.shared,a=i.gl,o=i.draw,u=r.draw;function s(){var s,l=u.elements,c=t;return l?((l.contextDep&&r.contextDynamic||l.propDep)&&(c=n),s=l.append(e,c),u.elementsActive&&c("if("+s+")"+a+".bindBuffer("+so+","+s+".buffer.buffer);")):(s=c.def(),c(s,"=",o,".",Ha,";","if(",s,"){",a,".bindBuffer(",so,",",s,".buffer.buffer);}","else if(",i.vao,".currentVAO){",s,"=",e.shared.elements+".getElements("+i.vao,".currentVAO.elements);",g?"":"if("+s+")"+a+".bindBuffer("+so+","+s+".buffer.buffer);","}")),s}function l(){var i,a=u.count,s=t;return a?((a.contextDep&&r.contextDynamic||a.propDep)&&(s=n),i=a.append(e,s),ne.optional((function(){a.MISSING&&e.assert(t,"false","missing vertex count"),a.DYNAMIC&&e.assert(s,i+">=0","missing vertex count")}))):(i=s.def(o,".",Ga),ne.optional((function(){e.assert(s,i+">=0","missing vertex count")}))),i}var c=s();function f(i){var a=u[i];return a?a.contextDep&&r.contextDynamic||a.propDep?a.append(e,n):a.append(e,t):t.def(o,".",i)}var d,h,p=f(qa),v=f($a),m=l();if("number"===typeof m){if(0===m)return}else n("if(",m,"){"),n.exit("}");_&&(d=f(Xa),h=e.instancing);var y=c+".type",b=u.elements&&su(u.elements)&&!u.vaoActive;function w(){function e(){n(h,".drawElementsInstancedANGLE(",[p,m,y,v+"<<(("+y+"-"+ia+")>>1)",d],");")}function t(){n(h,".drawArraysInstancedANGLE(",[p,v,m,d],");")}c&&"null"!==c?b?e():(n("if(",c,"){"),e(),n("}else{"),t(),n("}")):t()}function x(){function e(){n(a+".drawElements("+[p,m,y,v+"<<(("+y+"-"+ia+")>>1)"]+");")}function t(){n(a+".drawArrays("+[p,v,m]+");")}c&&"null"!==c?b?e():(n("if(",c,"){"),e(),n("}else{"),t(),n("}")):t()}_&&("number"!==typeof d||d>=0)?"string"===typeof d?(n("if(",d,">0){"),w(),n("}else if(",d,"<0){"),x(),n("}")):w():x()}function J(e,t,n,r,i){var a=M(),o=a.proc("body",i);return ne.optional((function(){a.commandStr=t.commandStr,a.command=a.link(t.commandStr)})),_&&(a.instancing=o.def(a.shared.extensions,".angle_instanced_arrays")),e(a,o,n,r),a.compile().body}function ee(e,t,n,r){$(e,t),n.useVAO?n.drawVAO?t(e.shared.vao,".setVAO(",n.drawVAO.append(e,t),");"):t(e.shared.vao,".setVAO(",e.shared.vao,".targetVAO);"):(t(e.shared.vao,".setVAO(null);"),Q(e,t,n,r.attributes,(function(){return!0}))),K(e,t,n,r.uniforms,(function(){return!0}),!1),Z(e,t,t,n)}function te(e,t){var n=e.proc("draw",1);$(e,n),Y(e,n,t.context),H(e,n,t.framebuffer),q(e,n,t),G(e,n,t.state),X(e,n,t,!1,!0);var r=t.shader.progVar.append(e,n);if(n(e.shared.gl,".useProgram(",r,".program);"),t.shader.program)ee(e,n,t,t.shader.program);else{n(e.shared.vao,".setVAO(null);");var i=e.global.def("{}"),a=n.def(r,".id"),o=n.def(i,"[",a,"]");n(e.cond(o).then(o,".call(this,a0);").else(o,"=",i,"[",a,"]=",e.link((function(n){return J(ee,e,t,n,1)})),"(",r,");",o,".call(this,a0);"))}Object.keys(t.state).length>0&&n(e.shared.current,".dirty=true;"),e.shared.vao&&n(e.shared.vao,".setVAO(null);")}function re(e,t,n,r){function i(){return!0}e.batchId="a1",$(e,t),Q(e,t,n,r.attributes,i),K(e,t,n,r.uniforms,i,!1),Z(e,t,t,n)}function ie(e,t,n,r){$(e,t);var i=n.contextDep,a=t.def(),o="a0",u="a1",s=t.def();e.shared.props=s,e.batchId=a;var l=e.scope(),c=e.scope();function f(e){return e.contextDep&&i||e.propDep}function d(e){return!f(e)}if(t(l.entry,"for(",a,"=0;",a,"<",u,";++",a,"){",s,"=",o,"[",a,"];",c,"}",l.exit),n.needsContext&&Y(e,c,n.context),n.needsFramebuffer&&H(e,c,n.framebuffer),G(e,c,n.state,f),n.profile&&f(n.profile)&&X(e,c,n,!1,!0),r)n.useVAO?n.drawVAO?f(n.drawVAO)?c(e.shared.vao,".setVAO(",n.drawVAO.append(e,c),");"):l(e.shared.vao,".setVAO(",n.drawVAO.append(e,l),");"):l(e.shared.vao,".setVAO(",e.shared.vao,".targetVAO);"):(l(e.shared.vao,".setVAO(null);"),Q(e,l,n,r.attributes,d),Q(e,c,n,r.attributes,f)),K(e,l,n,r.uniforms,d,!1),K(e,c,n,r.uniforms,f,!0),Z(e,l,c,n);else{var h=e.global.def("{}"),p=n.shader.progVar.append(e,c),v=c.def(p,".id"),m=c.def(h,"[",v,"]");c(e.shared.gl,".useProgram(",p,".program);","if(!",m,"){",m,"=",h,"[",v,"]=",e.link((function(t){return J(re,e,n,t,2)})),"(",p,");}",m,".call(this,a0[",a,"],",a,");")}}function ae(e,t){var n=e.proc("batch",2);e.batchId="0",$(e,n);var r=!1,i=!0;Object.keys(t.context).forEach((function(e){r=r||t.context[e].propDep})),r||(Y(e,n,t.context),i=!1);var a=t.framebuffer,o=!1;function u(e){return e.contextDep&&r||e.propDep}a?(a.propDep?r=o=!0:a.contextDep&&r&&(o=!0),o||H(e,n,a)):H(e,n,null),t.state.viewport&&t.state.viewport.propDep&&(r=!0),q(e,n,t),G(e,n,t.state,(function(e){return!u(e)})),t.profile&&u(t.profile)||X(e,n,t,!1,"a1"),t.contextDep=r,t.needsContext=i,t.needsFramebuffer=o;var s=t.shader.progVar;if(s.contextDep&&r||s.propDep)ie(e,n,t,null);else{var l=s.append(e,n);if(n(e.shared.gl,".useProgram(",l,".program);"),t.shader.program)ie(e,n,t,t.shader.program);else{n(e.shared.vao,".setVAO(null);");var c=e.global.def("{}"),f=n.def(l,".id"),d=n.def(c,"[",f,"]");n(e.cond(d).then(d,".call(this,a0,a1);").else(d,"=",c,"[",f,"]=",e.link((function(n){return J(ie,e,t,n,2)})),"(",l,");",d,".call(this,a0,a1);"))}}Object.keys(t.state).length>0&&n(e.shared.current,".dirty=true;"),e.shared.vao&&n(e.shared.vao,".setVAO(null);")}function oe(e,t){var r=e.proc("scope",3);e.batchId="a2";var i=e.shared,a=i.current;function o(n){var a=t.shader[n];a&&r.set(i.shader,"."+n,a.append(e,r))}Y(e,r,t.context),t.framebuffer&&t.framebuffer.append(e,r),ou(Object.keys(t.state)).forEach((function(n){var a=t.state[n].append(e,r);fn(a)?a.forEach((function(t,i){r.set(e.next[n],"["+i+"]",t)})):r.set(i.next,"."+n,a)})),X(e,r,t,!0,!0),[Ha,$a,Ga,Xa,qa].forEach((function(n){var a=t.draw[n];a&&r.set(i.draw,"."+n,""+a.append(e,r))})),Object.keys(t.uniforms).forEach((function(a){var o=t.uniforms[a].append(e,r);Array.isArray(o)&&(o="["+o.join()+"]"),r.set(i.uniforms,"["+n.id(a)+"]",o)})),Object.keys(t.attributes).forEach((function(n){var i=t.attributes[n].append(e,r),a=e.scopeAttrib(n);Object.keys(new m).forEach((function(e){r.set(a,"."+e,i[e])}))})),t.scopeVAO&&r.set(i.vao,".targetVAO",t.scopeVAO.append(e,r)),o(Wa),o(Ya),Object.keys(t.state).length>0&&(r(a,".dirty=true;"),r.exit(a,".dirty=true;")),r("a1(",e.shared.context,",a0,",e.batchId,");")}function ue(e){if("object"===typeof e&&!fn(e)){for(var t=Object.keys(e),n=0;n<t.length;++n)if(pe.isDynamic(e[t[n]]))return!0;return!1}}function se(e,t,n){var r=t.static[n];if(r&&ue(r)){var i=e.global,a=Object.keys(r),o=!1,u=!1,s=!1,l=e.global.def("{}");a.forEach((function(t){var n=r[t];if(pe.isDynamic(n)){"function"===typeof n&&(n=r[t]=pe.unbox(n));var a=cu(n,null);o=o||a.thisDep,s=s||a.propDep,u=u||a.contextDep}else{switch(i(l,".",t,"="),typeof n){case"number":i(n);break;case"string":i('"',n,'"');break;case"object":Array.isArray(n)&&i("[",n.join(),"]");break;default:i(e.link(n))}i(";")}})),t.dynamic[n]=new pe.DynamicVariable(fa,{thisDep:o,contextDep:u,propDep:s,ref:l,append:c}),delete t.static[n]}function c(e,t){a.forEach((function(n){var i=r[n];if(pe.isDynamic(i)){var a=e.invoke(t,i);t(l,".",n,"=",a,";")}}))}}function le(e,n,r,i,a){var o=M();o.stats=o.link(a),Object.keys(n.static).forEach((function(e){se(o,n,e)})),oo.forEach((function(t){se(o,e,t)}));var u=W(e,n,r,i,o);return te(o,u),oe(o,u),ae(o,u),t(o.compile(),{destroy:function(){u.shader.program.destroy()}})}return{next:x,current:w,procs:function(){var e=M(),t=e.proc("poll"),n=e.proc("refresh"),a=e.block();t(a),n(a);var o,u=e.shared,s=u.gl,l=u.next,c=u.current;a(c,".dirty=false;"),H(e,t),H(e,n,null,!0),_&&(o=e.link(_)),r.oes_vertex_array_object&&n(e.link(r.oes_vertex_array_object),".bindVertexArrayOES(null);");for(var f=0;f<i.maxAttributes;++f){var d=n.def(u.attributes,"[",f,"]"),h=e.cond(d,".buffer");h.then(s,".enableVertexAttribArray(",f,");",s,".bindBuffer(",uo,",",d,".buffer.buffer);",s,".vertexAttribPointer(",f,",",d,".size,",d,".type,",d,".normalized,",d,".stride,",d,".offset);").else(s,".disableVertexAttribArray(",f,");",s,".vertexAttrib4f(",f,",",d,".x,",d,".y,",d,".z,",d,".w);",d,".buffer=null;"),n(h),_&&n(o,".vertexAttribDivisorANGLE(",f,",",d,".divisor);")}return n(e.shared.vao,".currentVAO=null;",e.shared.vao,".setVAO(",e.shared.vao,".targetVAO);"),Object.keys(S).forEach((function(r){var i=S[r],o=a.def(l,".",r),u=e.block();u("if(",o,"){",s,".enable(",i,")}else{",s,".disable(",i,")}",c,".",r,"=",o,";"),n(u),t("if(",o,"!==",c,".",r,"){",u,"}")})),Object.keys(A).forEach((function(r){var i,o,u=A[r],f=w[r],d=e.block();if(d(s,".",u,"("),fn(f)){var h=f.length;i=e.global.def(l,".",r),o=e.global.def(c,".",r),d(Ee(h,(function(e){return i+"["+e+"]"})),");",Ee(h,(function(e){return o+"["+e+"]="+i+"["+e+"];"})).join("")),t("if(",Ee(h,(function(e){return i+"["+e+"]!=="+o+"["+e+"]"})).join("||"),"){",d,"}")}else i=a.def(l,".",r),o=a.def(c,".",r),d(i,");",c,".",r,"=",i,";"),t("if(",i,"!==",o,"){",d,"}");n(d)})),e.compile()}(),compile:le}}function hu(){return{vaoCount:0,bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0}}var pu=34918,vu=34919,mu=35007,yu=function(e,t){if(!t.ext_disjoint_timer_query)return null;var n=[];function r(){return n.pop()||t.ext_disjoint_timer_query.createQueryEXT()}function i(e){n.push(e)}var a=[];function o(e){var n=r();t.ext_disjoint_timer_query.beginQueryEXT(mu,n),a.push(n),h(a.length-1,a.length,e)}function u(){t.ext_disjoint_timer_query.endQueryEXT(mu)}function s(){this.startQueryIndex=-1,this.endQueryIndex=-1,this.sum=0,this.stats=null}var l=[];function c(){return l.pop()||new s}function f(e){l.push(e)}var d=[];function h(e,t,n){var r=c();r.startQueryIndex=e,r.endQueryIndex=t,r.sum=0,r.stats=n,d.push(r)}var p=[],v=[];function m(){var e,n,r=a.length;if(0!==r){v.length=Math.max(v.length,r+1),p.length=Math.max(p.length,r+1),p[0]=0,v[0]=0;var o=0;for(e=0,n=0;n<a.length;++n){var u=a[n];t.ext_disjoint_timer_query.getQueryObjectEXT(u,vu)?(o+=t.ext_disjoint_timer_query.getQueryObjectEXT(u,pu),i(u)):a[e++]=u,p[n+1]=o,v[n+1]=e}for(a.length=e,e=0,n=0;n<d.length;++n){var s=d[n],l=s.startQueryIndex,c=s.endQueryIndex;s.sum+=p[c]-p[l];var h=v[l],m=v[c];m===h?(s.stats.gpuTime+=s.sum/1e6,f(s)):(s.startQueryIndex=h,s.endQueryIndex=m,d[e++]=s)}d.length=e}}return{beginQuery:o,endQuery:u,pushScopeStats:h,update:m,getNumPendingQueries:function(){return a.length},clear:function(){n.push.apply(n,a);for(var e=0;e<n.length;e++)t.ext_disjoint_timer_query.deleteQueryEXT(n[e]);a.length=0,n.length=0},restore:function(){a.length=0,n.length=0}}},_u=16384,bu=256,gu=1024,wu=34962,xu="webglcontextlost",ku="webglcontextrestored",Su=1,Au=2,Eu=3;function Ou(e,t){for(var n=0;n<e.length;++n)if(e[n]===t)return n;return-1}function Iu(e){var n=Se(e);if(!n)return null;var r=n.gl,i=r.getContextAttributes(),a=r.isContextLost(),o=Ae(r,n);if(!o)return null;var u=ye(),s=hu(),l=o.extensions,c=yu(r,l),f=me(),d=r.drawingBufferWidth,h=r.drawingBufferHeight,p={tick:0,time:0,viewportWidth:d,viewportHeight:h,framebufferWidth:d,framebufferHeight:h,drawingBufferWidth:d,drawingBufferHeight:h,pixelRatio:n.pixelRatio},v={},m={elements:null,primitive:4,count:-1,offset:0,instances:-1},y=xt(r,l),_=Ht(r,s,n,w),b=on(r,l,_,s),g=Wi(r,l,y,s,_,b,m);function w(e){return g.destroyBuffer(e)}var x=$i(r,u,s,n),k=Xr(r,l,y,(function(){E.procs.poll()}),p,s,n),S=li(r,l,y,s,n),A=Fi(r,l,y,k,S,s),E=du(r,u,l,y,_,b,k,A,v,g,x,m,p,c,n),O=Ji(r,A,E.procs.poll,p,i,l,y),I=E.next,T=r.canvas,j=[],C=[],M=[],z=[n.onDestroy],N=null;function D(){if(0===j.length)return c&&c.update(),void(N=null);N=ve.next(D),G();for(var e=j.length-1;e>=0;--e){var t=j[e];t&&t(p,null,0)}r.flush(),c&&c.update()}function B(){!N&&j.length>0&&(N=ve.next(D))}function F(){N&&(ve.cancel(D),N=null)}function P(e){e.preventDefault(),a=!0,F(),C.forEach((function(e){e()}))}function L(e){r.getError(),a=!1,o.restore(),x.restore(),_.restore(),k.restore(),S.restore(),A.restore(),g.restore(),c&&c.restore(),E.procs.refresh(),B(),M.forEach((function(e){e()}))}function R(){j.length=0,F(),T&&(T.removeEventListener(xu,P),T.removeEventListener(ku,L)),x.clear(),A.clear(),S.clear(),g.clear(),k.clear(),b.clear(),_.clear(),c&&c.clear(),z.forEach((function(e){e()}))}function U(e){function n(e){var n=t({},e);function r(e){if(e in n){var t=n[e];delete n[e],Object.keys(t).forEach((function(r){n[e+"."+r]=t[r]}))}}return delete n.uniforms,delete n.attributes,delete n.context,delete n.vao,"stencil"in n&&n.stencil.op&&(n.stencil.opBack=n.stencil.opFront=n.stencil.op,delete n.stencil.op),r("blend"),r("depth"),r("cull"),r("stencil"),r("polygonOffset"),r("scissor"),r("sample"),"vao"in e&&(n.vao=e.vao),n}function r(e,t){var n={},r={};return Object.keys(e).forEach((function(i){var a=e[i];if(pe.isDynamic(a))r[i]=pe.unbox(a,i);else{if(t&&Array.isArray(a))for(var o=0;o<a.length;++o)if(pe.isDynamic(a[o]))return void(r[i]=pe.unbox(a,i));n[i]=a}})),{dynamic:r,static:n}}ne(!!e,"invalid args to regl({...})"),ne.type(e,"object","invalid args to regl({...})");var i=r(e.context||{},!0),o=r(e.uniforms||{},!0),u=r(e.attributes||{},!1),s=r(n(e),!1),l={gpuTime:0,cpuTime:0,count:0},c=E.compile(s,u,o,i,l),f=c.draw,d=c.batch,h=c.scope,p=[];function v(e){for(;p.length<e;)p.push(null);return p}function m(e,t){var n;if(a&&ne.raise("context lost"),"function"===typeof e)return h.call(this,null,e,0);if("function"===typeof t)if("number"===typeof e)for(n=0;n<e;++n)h.call(this,null,t,n);else{if(!Array.isArray(e))return h.call(this,e,t,0);for(n=0;n<e.length;++n)h.call(this,e[n],t,n)}else if("number"===typeof e){if(e>0)return d.call(this,v(0|e),0|e)}else{if(!Array.isArray(e))return f.call(this,e);if(e.length)return d.call(this,e,e.length)}}return t(m,{stats:l,destroy:function(){c.destroy()}})}T&&(T.addEventListener(xu,P,!1),T.addEventListener(ku,L,!1));var V=A.setFBO=U({framebuffer:pe.define.call(null,Su,"framebuffer")});function W(e,t){var n=0;E.procs.poll();var i=t.color;i&&(r.clearColor(+i[0]||0,+i[1]||0,+i[2]||0,+i[3]||0),n|=_u),"depth"in t&&(r.clearDepth(+t.depth),n|=bu),"stencil"in t&&(r.clearStencil(0|t.stencil),n|=gu),ne(!!n,"called regl.clear with no buffer specified"),r.clear(n)}function Y(e){if(ne("object"===typeof e&&e,"regl.clear() takes an object as input"),"framebuffer"in e)if(e.framebuffer&&"framebufferCube"===e.framebuffer_reglType)for(var n=0;n<6;++n)V(t({framebuffer:e.framebuffer.faces[n]},e),W);else V(e,W);else W(null,e)}function H(e){function t(){var t=Ou(j,e);function n(){var e=Ou(j,n);j[e]=j[j.length-1],j.length-=1,j.length<=0&&F()}ne(t>=0,"cannot cancel a frame twice"),j[t]=n}return ne.type(e,"function","regl.frame() callback must be a function"),j.push(e),B(),{cancel:t}}function q(){var e=I.viewport,t=I.scissor_box;e[0]=e[1]=t[0]=t[1]=0,p.viewportWidth=p.framebufferWidth=p.drawingBufferWidth=e[2]=t[2]=r.drawingBufferWidth,p.viewportHeight=p.framebufferHeight=p.drawingBufferHeight=e[3]=t[3]=r.drawingBufferHeight}function G(){p.tick+=1,p.time=X(),q(),E.procs.poll()}function $(){k.refresh(),q(),E.procs.refresh(),c&&c.update()}function X(){return(me()-f)/1e3}function Q(e,t){var n;switch(ne.type(t,"function","listener callback must be a function"),e){case"frame":return H(t);case"lost":n=C;break;case"restore":n=M;break;case"destroy":n=z;break;default:ne.raise("invalid event, must be one of frame,lost,restore,destroy")}return n.push(t),{cancel:function(){for(var e=0;e<n.length;++e)if(n[e]===t)return n[e]=n[n.length-1],void n.pop()}}}$();var K=t(U,{clear:Y,prop:pe.define.bind(null,Su),context:pe.define.bind(null,Au),this:pe.define.bind(null,Eu),draw:U({}),buffer:function(e){return _.create(e,wu,!1,!1)},elements:function(e){return b.create(e,!1)},texture:k.create2D,cube:k.createCube,renderbuffer:S.create,framebuffer:A.create,framebufferCube:A.createCube,vao:g.createVAO,attributes:i,frame:H,on:Q,limits:y,hasExtension:function(e){return y.extensions.indexOf(e.toLowerCase())>=0},read:O,destroy:R,_gl:r,_refresh:$,poll:function(){G(),c&&c.update()},now:X,stats:s});return n.onDone(null,K),K}return Iu}();var Xo=$o.exports,Qo=function(e,t,n,r){return Ko[0]=r,Ko[1]=n,Ko[2]=t,Ko[3]=e,Zo[0]},Ko=new Uint8Array(4),Zo=new Float32Array(Ko.buffer);var Jo=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"arithmetic";E(this,e),B(this,"start"),B(this,"value"),B(this,"target"),B(this,"timer"),B(this,"transform","arithmetic"),this.transform=n,this.start=t,this.value=t,this.target=t}return I(e,[{key:"update",value:function(e,t){if(0===t)return this.value=e,void(void 0!==this.timer&&this.timer.stop());this.start=this.value,this.target=e,this.start_timer(t)}},{key:"start_timer",value:function(e){var t=this;void 0!==this.timer&&this.timer.stop();var n=pr((function(r){var i=r/e;if(i>=1)return t.value=t.target,void n.stop();var a=1-i,o=i;t.value="geometric"===t.transform?Math.pow(t.start,a)*Math.pow(t.target,o):t.start*a+t.target*o}));this.timer=n}}]),e}(),eu=function(){function e(){E(this,e),B(this,"maxPoints"),B(this,"targetOpacity"),B(this,"pointSize"),B(this,"foregroundOpacity"),B(this,"backgroundOpacity"),B(this,"foregroundSize"),B(this,"backgroundSize"),this.maxPoints=new Jo(1e4,"geometric"),this.pointSize=new Jo(1,"geometric"),this.targetOpacity=new Jo(50),this.foregroundOpacity=new Jo(1),this.backgroundOpacity=new Jo(.5),this.foregroundSize=new Jo(1,"geometric"),this.backgroundSize=new Jo(1,"geometric")}return I(e,[{key:"apply_prefs",value:function(e){var t=e.duration;this.maxPoints.update(e.max_points,t),this.targetOpacity.update(e.alpha,t),this.pointSize.update(e.point_size,t),this.foregroundOpacity.update(e.background_options.opacity[1],t),this.backgroundOpacity.update(e.background_options.opacity[0],t),this.foregroundSize.update(e.background_options.size[1],t),this.backgroundSize.update(e.background_options.size[0],t)}},{key:"max_points",get:function(){return this.maxPoints.value}},{key:"alpha",get:function(){return this.targetOpacity.value}},{key:"point_size",get:function(){return this.pointSize.value}},{key:"foreground_opacity",get:function(){return this.foregroundOpacity.value}},{key:"background_opacity",get:function(){return this.backgroundOpacity.value}},{key:"foreground_size",get:function(){return this.foregroundSize.value}},{key:"background_size",get:function(){return this.backgroundSize.value}}]),e}(),tu=function(){function e(t,n,r){E(this,e),B(this,"scatterplot"),B(this,"holder"),B(this,"canvas"),B(this,"dataset"),B(this,"width"),B(this,"height"),B(this,"deferred_functions"),B(this,"_use_scale_to_download_tiles",!0),B(this,"zoom"),B(this,"aes"),B(this,"_zoom"),B(this,"_initializations",[]),B(this,"render_props",new eu),this.scatterplot=r,this.holder=Qe(t),this.canvas=Qe(this.holder.node().firstElementChild).node(),this.dataset=n,this.width=+Qe(this.canvas).attr("width"),this.height=+Qe(this.canvas).attr("height"),this.deferred_functions=[],this._use_scale_to_download_tiles=!0}return I(e,[{key:"discard_share",get:function(){return 0}},{key:"prefs",get:function(){var e=b({},this.scatterplot.prefs);return e.arrow_table=void 0,e.arrow_buffer=void 0,e}},{key:"alpha",get:function(){return this.render_props.alpha}},{key:"optimal_alpha",get:function(){var e,t,n,r,i=null!=(e=this.prefs.zoom_balance)?e:1,a=this.alpha,o=this.point_size,u=this.max_ix,s=this.width,l=this.discard_share,c=this.height,f=null!=(r=null==(n=null==(t=this.zoom)?void 0:t.transform)?void 0:n.k)?r:1,d=a/100,h=1/Math.pow(f,2),p=window.devicePixelRatio||1,v=s*c/p,m=mt([u,this.dataset.highest_known_ix||1e10])*(1-l),y=Math.exp(Math.log(f)*i),_=d*v/(m*h*(Math.PI*Math.pow(y*o/p/2,2)));return _<1/255?1/255:_}},{key:"point_size",get:function(){return this.render_props.point_size}},{key:"max_ix",get:function(){var e=this.prefs,t=this.render_props.max_points;if(!this._use_scale_to_download_tiles)return t;var n=this.zoom.transform.k,r=Math.exp(Math.log(n)*e.zoom_balance);return t*n*n/r/r}},{key:"visible_tiles",value:function(){var e=this,t=this.max_ix,n=this.dataset,r="x"==this.aes.dim("x").current.field&&"y"==this.aes.dim("y").current.field&&"x"==this.aes.dim("x").last.field&&"y"==this.aes.dim("y").last.field?n.map((function(e){return e})).filter((function(n){return n.is_visible(t,e.zoom.current_corners())})):n.map((function(e){return e})).filter((function(t){return t.min_ix<e.max_ix}));return r.sort((function(e,t){return e.min_ix-t.min_ix})),r}},{key:"bind_zoom",value:function(e){return this.zoom=e,this}},{key:"initialize",value:function(){var e=s(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}();function nu(e){return void 0!==e.op}function ru(e){return void 0!==e.lambda}function iu(e){return void 0!==e.constant}function au(e){return null!==e&&void 0!==e.labels}var ou={exports:{}};!function(e,t){(function(){var n,r="Expected a function",i="__lodash_hash_undefined__",a="__lodash_placeholder__",o=16,u=32,s=64,l=128,c=256,f=1/0,d=9007199254740991,h=NaN,p=4294967295,v=[["ary",l],["bind",1],["bindKey",2],["curry",8],["curryRight",o],["flip",512],["partial",u],["partialRight",s],["rearg",c]],m="[object Arguments]",y="[object Array]",_="[object Boolean]",b="[object Date]",g="[object Error]",w="[object Function]",x="[object GeneratorFunction]",k="[object Map]",S="[object Number]",A="[object Object]",E="[object Promise]",O="[object RegExp]",I="[object Set]",T="[object String]",j="[object Symbol]",C="[object WeakMap]",M="[object ArrayBuffer]",z="[object DataView]",N="[object Float32Array]",D="[object Float64Array]",B="[object Int8Array]",F="[object Int16Array]",P="[object Int32Array]",L="[object Uint8Array]",R="[object Uint8ClampedArray]",U="[object Uint16Array]",V="[object Uint32Array]",W=/\b__p \+= '';/g,Y=/\b(__p \+=) '' \+/g,H=/(__e\(.*?\)|\b__t\)) \+\n'';/g,q=/&(?:amp|lt|gt|quot|#39);/g,G=/[&<>"']/g,$=RegExp(q.source),X=RegExp(G.source),Q=/<%-([\s\S]+?)%>/g,K=/<%([\s\S]+?)%>/g,Z=/<%=([\s\S]+?)%>/g,J=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ee=/^\w*$/,te=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ne=/[\\^$.*+?()[\]{}|]/g,re=RegExp(ne.source),ie=/^\s+/,ae=/\s/,oe=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ue=/\{\n\/\* \[wrapped with (.+)\] \*/,se=/,? & /,le=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ce=/[()=,{}\[\]\/\s]/,fe=/\\(\\)?/g,de=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,he=/\w*$/,pe=/^[-+]0x[0-9a-f]+$/i,ve=/^0b[01]+$/i,me=/^\[object .+?Constructor\]$/,ye=/^0o[0-7]+$/i,_e=/^(?:0|[1-9]\d*)$/,be=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ge=/($^)/,we=/['\n\r\u2028\u2029\\]/g,xe="\\ud800-\\udfff",ke="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Se="\\u2700-\\u27bf",Ae="a-z\\xdf-\\xf6\\xf8-\\xff",Ee="A-Z\\xc0-\\xd6\\xd8-\\xde",Oe="\\ufe0e\\ufe0f",Ie="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Te="['\u2019]",je="["+xe+"]",Ce="["+Ie+"]",Me="["+ke+"]",ze="\\d+",Ne="["+Se+"]",De="["+Ae+"]",Be="[^"+xe+Ie+ze+Se+Ae+Ee+"]",Fe="\\ud83c[\\udffb-\\udfff]",Pe="[^"+xe+"]",Le="(?:\\ud83c[\\udde6-\\uddff]){2}",Re="[\\ud800-\\udbff][\\udc00-\\udfff]",Ue="["+Ee+"]",Ve="\\u200d",We="(?:"+De+"|"+Be+")",Ye="(?:"+Ue+"|"+Be+")",He="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",qe="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",Ge="(?:"+Me+"|"+Fe+")"+"?",$e="["+Oe+"]?",Xe=$e+Ge+("(?:"+Ve+"(?:"+[Pe,Le,Re].join("|")+")"+$e+Ge+")*"),Qe="(?:"+[Ne,Le,Re].join("|")+")"+Xe,Ke="(?:"+[Pe+Me+"?",Me,Le,Re,je].join("|")+")",Ze=RegExp(Te,"g"),Je=RegExp(Me,"g"),et=RegExp(Fe+"(?="+Fe+")|"+Ke+Xe,"g"),tt=RegExp([Ue+"?"+De+"+"+He+"(?="+[Ce,Ue,"$"].join("|")+")",Ye+"+"+qe+"(?="+[Ce,Ue+We,"$"].join("|")+")",Ue+"?"+We+"+"+He,Ue+"+"+qe,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ze,Qe].join("|"),"g"),nt=RegExp("["+Ve+xe+ke+Oe+"]"),rt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,it=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],at=-1,ot={};ot[N]=ot[D]=ot[B]=ot[F]=ot[P]=ot[L]=ot[R]=ot[U]=ot[V]=!0,ot[m]=ot[y]=ot[M]=ot[_]=ot[z]=ot[b]=ot[g]=ot[w]=ot[k]=ot[S]=ot[A]=ot[O]=ot[I]=ot[T]=ot[C]=!1;var ut={};ut[m]=ut[y]=ut[M]=ut[z]=ut[_]=ut[b]=ut[N]=ut[D]=ut[B]=ut[F]=ut[P]=ut[k]=ut[S]=ut[A]=ut[O]=ut[I]=ut[T]=ut[j]=ut[L]=ut[R]=ut[U]=ut[V]=!0,ut[g]=ut[w]=ut[C]=!1;var st={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},lt=parseFloat,ct=parseInt,ft="object"==typeof Kn&&Kn&&Kn.Object===Object&&Kn,dt="object"==typeof self&&self&&self.Object===Object&&self,ht=ft||dt||Function("return this")(),pt=t&&!t.nodeType&&t,vt=pt&&e&&!e.nodeType&&e,mt=vt&&vt.exports===pt,yt=mt&&ft.process,_t=function(){try{var e=vt&&vt.require&&vt.require("util").types;return e||yt&&yt.binding&&yt.binding("util")}catch(t){}}(),bt=_t&&_t.isArrayBuffer,gt=_t&&_t.isDate,wt=_t&&_t.isMap,xt=_t&&_t.isRegExp,kt=_t&&_t.isSet,St=_t&&_t.isTypedArray;function At(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function Et(e,t,n,r){for(var i=-1,a=null==e?0:e.length;++i<a;){var o=e[i];t(r,o,n(o),e)}return r}function Ot(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function It(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function Tt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function jt(e,t){for(var n=-1,r=null==e?0:e.length,i=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a}function Ct(e,t){return!!(null==e?0:e.length)&&Ut(e,t,0)>-1}function Mt(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function zt(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function Nt(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function Dt(e,t,n,r){var i=-1,a=null==e?0:e.length;for(r&&a&&(n=e[++i]);++i<a;)n=t(n,e[i],i,e);return n}function Bt(e,t,n,r){var i=null==e?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function Ft(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var Pt=Ht("length");function Lt(e,t,n){var r;return n(e,(function(e,n,i){if(t(e,n,i))return r=n,!1})),r}function Rt(e,t,n,r){for(var i=e.length,a=n+(r?1:-1);r?a--:++a<i;)if(t(e[a],a,e))return a;return-1}function Ut(e,t,n){return t===t?function(e,t,n){var r=n-1,i=e.length;for(;++r<i;)if(e[r]===t)return r;return-1}(e,t,n):Rt(e,Wt,n)}function Vt(e,t,n,r){for(var i=n-1,a=e.length;++i<a;)if(r(e[i],t))return i;return-1}function Wt(e){return e!==e}function Yt(e,t){var n=null==e?0:e.length;return n?$t(e,t)/n:h}function Ht(e){return function(t){return null==t?n:t[e]}}function qt(e){return function(t){return null==e?n:e[t]}}function Gt(e,t,n,r,i){return i(e,(function(e,i,a){n=r?(r=!1,e):t(n,e,i,a)})),n}function $t(e,t){for(var r,i=-1,a=e.length;++i<a;){var o=t(e[i]);o!==n&&(r=r===n?o:r+o)}return r}function Xt(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function Qt(e){return e?e.slice(0,hn(e)+1).replace(ie,""):e}function Kt(e){return function(t){return e(t)}}function Zt(e,t){return zt(t,(function(t){return e[t]}))}function Jt(e,t){return e.has(t)}function en(e,t){for(var n=-1,r=e.length;++n<r&&Ut(t,e[n],0)>-1;);return n}function tn(e,t){for(var n=e.length;n--&&Ut(t,e[n],0)>-1;);return n}var nn=qt({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"}),rn=qt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function an(e){return"\\"+st[e]}function on(e){return nt.test(e)}function un(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function sn(e,t){return function(n){return e(t(n))}}function ln(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var u=e[n];u!==t&&u!==a||(e[n]=a,o[i++]=n)}return o}function cn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function fn(e){return on(e)?function(e){var t=et.lastIndex=0;for(;et.test(e);)++t;return t}(e):Pt(e)}function dn(e){return on(e)?function(e){return e.match(et)||[]}(e):function(e){return e.split("")}(e)}function hn(e){for(var t=e.length;t--&&ae.test(e.charAt(t)););return t}var pn=qt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var vn=function e(t){var ae=(t=null==t?ht:vn.defaults(ht.Object(),t,vn.pick(ht,it))).Array,xe=t.Date,ke=t.Error,Se=t.Function,Ae=t.Math,Ee=t.Object,Oe=t.RegExp,Ie=t.String,Te=t.TypeError,je=ae.prototype,Ce=Se.prototype,Me=Ee.prototype,ze=t["__core-js_shared__"],Ne=Ce.toString,De=Me.hasOwnProperty,Be=0,Fe=function(){var e=/[^.]+$/.exec(ze&&ze.keys&&ze.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Pe=Me.toString,Le=Ne.call(Ee),Re=ht._,Ue=Oe("^"+Ne.call(De).replace(ne,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ve=mt?t.Buffer:n,We=t.Symbol,Ye=t.Uint8Array,He=Ve?Ve.allocUnsafe:n,qe=sn(Ee.getPrototypeOf,Ee),Ge=Ee.create,$e=Me.propertyIsEnumerable,Xe=je.splice,Qe=We?We.isConcatSpreadable:n,Ke=We?We.iterator:n,et=We?We.toStringTag:n,nt=function(){try{var e=ca(Ee,"defineProperty");return e({},"",{}),e}catch(t){}}(),st=t.clearTimeout!==ht.clearTimeout&&t.clearTimeout,ft=xe&&xe.now!==ht.Date.now&&xe.now,dt=t.setTimeout!==ht.setTimeout&&t.setTimeout,pt=Ae.ceil,vt=Ae.floor,yt=Ee.getOwnPropertySymbols,_t=Ve?Ve.isBuffer:n,Pt=t.isFinite,qt=je.join,mn=sn(Ee.keys,Ee),yn=Ae.max,_n=Ae.min,bn=xe.now,gn=t.parseInt,wn=Ae.random,xn=je.reverse,kn=ca(t,"DataView"),Sn=ca(t,"Map"),An=ca(t,"Promise"),En=ca(t,"Set"),On=ca(t,"WeakMap"),In=ca(Ee,"create"),Tn=On&&new On,jn={},Cn=Ba(kn),Mn=Ba(Sn),zn=Ba(An),Nn=Ba(En),Dn=Ba(On),Bn=We?We.prototype:n,Fn=Bn?Bn.valueOf:n,Pn=Bn?Bn.toString:n;function Ln(e){if(eu(e)&&!Wo(e)&&!(e instanceof Wn)){if(e instanceof Vn)return e;if(De.call(e,"__wrapped__"))return Fa(e)}return new Vn(e)}var Rn=function(){function e(){}return function(t){if(!Jo(t))return{};if(Ge)return Ge(t);e.prototype=t;var r=new e;return e.prototype=n,r}}();function Un(){}function Vn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=n}function Wn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=p,this.__views__=[]}function Yn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Hn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function qn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Gn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new qn;++t<n;)this.add(e[t])}function $n(e){var t=this.__data__=new Hn(e);this.size=t.size}function Xn(e,t){var n=Wo(e),r=!n&&Vo(e),i=!n&&!r&&Go(e),a=!n&&!r&&!i&&su(e),o=n||r||i||a,u=o?Xt(e.length,Ie):[],s=u.length;for(var l in e)!t&&!De.call(e,l)||o&&("length"==l||i&&("offset"==l||"parent"==l)||a&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||ya(l,s))||u.push(l);return u}function Qn(e){var t=e.length;return t?e[Gr(0,t-1)]:n}function Kn(e,t){return za(Ii(e),or(t,0,e.length))}function Zn(e){return za(Ii(e))}function Jn(e,t,r){(r!==n&&!Lo(e[t],r)||r===n&&!(t in e))&&ir(e,t,r)}function er(e,t,r){var i=e[t];De.call(e,t)&&Lo(i,r)&&(r!==n||t in e)||ir(e,t,r)}function tr(e,t){for(var n=e.length;n--;)if(Lo(e[n][0],t))return n;return-1}function nr(e,t,n,r){return fr(e,(function(e,i,a){t(r,e,n(e),a)})),r}function rr(e,t){return e&&Ti(t,ju(t),e)}function ir(e,t,n){"__proto__"==t&&nt?nt(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function ar(e,t){for(var r=-1,i=t.length,a=ae(i),o=null==e;++r<i;)a[r]=o?n:Au(e,t[r]);return a}function or(e,t,r){return e===e&&(r!==n&&(e=e<=r?e:r),t!==n&&(e=e>=t?e:t)),e}function ur(e,t,r,i,a,o){var u,s=1&t,l=2&t,c=4&t;if(r&&(u=a?r(e,i,a,o):r(e)),u!==n)return u;if(!Jo(e))return e;var f=Wo(e);if(f){if(u=function(e){var t=e.length,n=new e.constructor(t);t&&"string"==typeof e[0]&&De.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!s)return Ii(e,u)}else{var d=ha(e),h=d==w||d==x;if(Go(e))return xi(e,s);if(d==A||d==m||h&&!a){if(u=l||h?{}:va(e),!s)return l?function(e,t){return Ti(e,da(e),t)}(e,function(e,t){return e&&Ti(t,Cu(t),e)}(u,e)):function(e,t){return Ti(e,fa(e),t)}(e,rr(u,e))}else{if(!ut[d])return a?e:{};u=function(e,t,n){var r=e.constructor;switch(t){case M:return ki(e);case _:case b:return new r(+e);case z:return function(e,t){var n=t?ki(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case N:case D:case B:case F:case P:case L:case R:case U:case V:return Si(e,n);case k:return new r;case S:case T:return new r(e);case O:return function(e){var t=new e.constructor(e.source,he.exec(e));return t.lastIndex=e.lastIndex,t}(e);case I:return new r;case j:return i=e,Fn?Ee(Fn.call(i)):{}}var i}(e,d,s)}}o||(o=new $n);var p=o.get(e);if(p)return p;o.set(e,u),au(e)?e.forEach((function(n){u.add(ur(n,t,r,n,e,o))})):tu(e)&&e.forEach((function(n,i){u.set(i,ur(n,t,r,i,e,o))}));var v=f?n:(c?l?ra:na:l?Cu:ju)(e);return Ot(v||e,(function(n,i){v&&(n=e[i=n]),er(u,i,ur(n,t,r,i,e,o))})),u}function sr(e,t,r){var i=r.length;if(null==e)return!i;for(e=Ee(e);i--;){var a=r[i],o=t[a],u=e[a];if(u===n&&!(a in e)||!o(u))return!1}return!0}function lr(e,t,i){if("function"!=typeof e)throw new Te(r);return Ta((function(){e.apply(n,i)}),t)}function cr(e,t,n,r){var i=-1,a=Ct,o=!0,u=e.length,s=[],l=t.length;if(!u)return s;n&&(t=zt(t,Kt(n))),r?(a=Mt,o=!1):t.length>=200&&(a=Jt,o=!1,t=new Gn(t));e:for(;++i<u;){var c=e[i],f=null==n?c:n(c);if(c=r||0!==c?c:0,o&&f===f){for(var d=l;d--;)if(t[d]===f)continue e;s.push(c)}else a(t,f,r)||s.push(c)}return s}Ln.templateSettings={escape:Q,evaluate:K,interpolate:Z,variable:"",imports:{_:Ln}},Ln.prototype=Un.prototype,Ln.prototype.constructor=Ln,Vn.prototype=Rn(Un.prototype),Vn.prototype.constructor=Vn,Wn.prototype=Rn(Un.prototype),Wn.prototype.constructor=Wn,Yn.prototype.clear=function(){this.__data__=In?In(null):{},this.size=0},Yn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Yn.prototype.get=function(e){var t=this.__data__;if(In){var r=t[e];return r===i?n:r}return De.call(t,e)?t[e]:n},Yn.prototype.has=function(e){var t=this.__data__;return In?t[e]!==n:De.call(t,e)},Yn.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=In&&t===n?i:t,this},Hn.prototype.clear=function(){this.__data__=[],this.size=0},Hn.prototype.delete=function(e){var t=this.__data__,n=tr(t,e);return!(n<0)&&(n==t.length-1?t.pop():Xe.call(t,n,1),--this.size,!0)},Hn.prototype.get=function(e){var t=this.__data__,r=tr(t,e);return r<0?n:t[r][1]},Hn.prototype.has=function(e){return tr(this.__data__,e)>-1},Hn.prototype.set=function(e,t){var n=this.__data__,r=tr(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},qn.prototype.clear=function(){this.size=0,this.__data__={hash:new Yn,map:new(Sn||Hn),string:new Yn}},qn.prototype.delete=function(e){var t=sa(this,e).delete(e);return this.size-=t?1:0,t},qn.prototype.get=function(e){return sa(this,e).get(e)},qn.prototype.has=function(e){return sa(this,e).has(e)},qn.prototype.set=function(e,t){var n=sa(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Gn.prototype.add=Gn.prototype.push=function(e){return this.__data__.set(e,i),this},Gn.prototype.has=function(e){return this.__data__.has(e)},$n.prototype.clear=function(){this.__data__=new Hn,this.size=0},$n.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},$n.prototype.get=function(e){return this.__data__.get(e)},$n.prototype.has=function(e){return this.__data__.has(e)},$n.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Hn){var r=n.__data__;if(!Sn||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new qn(r)}return n.set(e,t),this.size=n.size,this};var fr=Mi(br),dr=Mi(gr,!0);function hr(e,t){var n=!0;return fr(e,(function(e,r,i){return n=!!t(e,r,i)})),n}function pr(e,t,r){for(var i=-1,a=e.length;++i<a;){var o=e[i],u=t(o);if(null!=u&&(s===n?u===u&&!uu(u):r(u,s)))var s=u,l=o}return l}function vr(e,t){var n=[];return fr(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n}function mr(e,t,n,r,i){var a=-1,o=e.length;for(n||(n=ma),i||(i=[]);++a<o;){var u=e[a];t>0&&n(u)?t>1?mr(u,t-1,n,r,i):Nt(i,u):r||(i[i.length]=u)}return i}var yr=zi(),_r=zi(!0);function br(e,t){return e&&yr(e,t,ju)}function gr(e,t){return e&&_r(e,t,ju)}function wr(e,t){return jt(t,(function(t){return Qo(e[t])}))}function xr(e,t){for(var r=0,i=(t=_i(t,e)).length;null!=e&&r<i;)e=e[Da(t[r++])];return r&&r==i?e:n}function kr(e,t,n){var r=t(e);return Wo(e)?r:Nt(r,n(e))}function Sr(e){return null==e?e===n?"[object Undefined]":"[object Null]":et&&et in Ee(e)?function(e){var t=De.call(e,et),r=e[et];try{e[et]=n;var i=!0}catch(o){}var a=Pe.call(e);i&&(t?e[et]=r:delete e[et]);return a}(e):function(e){return Pe.call(e)}(e)}function Ar(e,t){return e>t}function Er(e,t){return null!=e&&De.call(e,t)}function Or(e,t){return null!=e&&t in Ee(e)}function Ir(e,t,r){for(var i=r?Mt:Ct,a=e[0].length,o=e.length,u=o,s=ae(o),l=1/0,c=[];u--;){var f=e[u];u&&t&&(f=zt(f,Kt(t))),l=_n(f.length,l),s[u]=!r&&(t||a>=120&&f.length>=120)?new Gn(u&&f):n}f=e[0];var d=-1,h=s[0];e:for(;++d<a&&c.length<l;){var p=f[d],v=t?t(p):p;if(p=r||0!==p?p:0,!(h?Jt(h,v):i(c,v,r))){for(u=o;--u;){var m=s[u];if(!(m?Jt(m,v):i(e[u],v,r)))continue e}h&&h.push(v),c.push(p)}}return c}function Tr(e,t,r){var i=null==(e=Ea(e,t=_i(t,e)))?e:e[Da($a(t))];return null==i?n:At(i,e,r)}function jr(e){return eu(e)&&Sr(e)==m}function Cr(e,t,r,i,a){return e===t||(null==e||null==t||!eu(e)&&!eu(t)?e!==e&&t!==t:function(e,t,r,i,a,o){var u=Wo(e),s=Wo(t),l=u?y:ha(e),c=s?y:ha(t),f=(l=l==m?A:l)==A,d=(c=c==m?A:c)==A,h=l==c;if(h&&Go(e)){if(!Go(t))return!1;u=!0,f=!1}if(h&&!f)return o||(o=new $n),u||su(e)?ea(e,t,r,i,a,o):function(e,t,n,r,i,a,o){switch(n){case z:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case M:return!(e.byteLength!=t.byteLength||!a(new Ye(e),new Ye(t)));case _:case b:case S:return Lo(+e,+t);case g:return e.name==t.name&&e.message==t.message;case O:case T:return e==t+"";case k:var u=un;case I:var s=1&r;if(u||(u=cn),e.size!=t.size&&!s)return!1;var l=o.get(e);if(l)return l==t;r|=2,o.set(e,t);var c=ea(u(e),u(t),r,i,a,o);return o.delete(e),c;case j:if(Fn)return Fn.call(e)==Fn.call(t)}return!1}(e,t,l,r,i,a,o);if(!(1&r)){var p=f&&De.call(e,"__wrapped__"),v=d&&De.call(t,"__wrapped__");if(p||v){var w=p?e.value():e,x=v?t.value():t;return o||(o=new $n),a(w,x,r,i,o)}}if(!h)return!1;return o||(o=new $n),function(e,t,r,i,a,o){var u=1&r,s=na(e),l=s.length,c=na(t),f=c.length;if(l!=f&&!u)return!1;var d=l;for(;d--;){var h=s[d];if(!(u?h in t:De.call(t,h)))return!1}var p=o.get(e),v=o.get(t);if(p&&v)return p==t&&v==e;var m=!0;o.set(e,t),o.set(t,e);var y=u;for(;++d<l;){var _=e[h=s[d]],b=t[h];if(i)var g=u?i(b,_,h,t,e,o):i(_,b,h,e,t,o);if(!(g===n?_===b||a(_,b,r,i,o):g)){m=!1;break}y||(y="constructor"==h)}if(m&&!y){var w=e.constructor,x=t.constructor;w==x||!("constructor"in e)||!("constructor"in t)||"function"==typeof w&&w instanceof w&&"function"==typeof x&&x instanceof x||(m=!1)}return o.delete(e),o.delete(t),m}(e,t,r,i,a,o)}(e,t,r,i,Cr,a))}function Mr(e,t,r,i){var a=r.length,o=a,u=!i;if(null==e)return!o;for(e=Ee(e);a--;){var s=r[a];if(u&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++a<o;){var l=(s=r[a])[0],c=e[l],f=s[1];if(u&&s[2]){if(c===n&&!(l in e))return!1}else{var d=new $n;if(i)var h=i(c,f,l,e,t,d);if(!(h===n?Cr(f,c,3,i,d):h))return!1}}return!0}function zr(e){return!(!Jo(e)||(t=e,Fe&&Fe in t))&&(Qo(e)?Ue:me).test(Ba(e));var t}function Nr(e){return"function"==typeof e?e:null==e?ns:"object"==typeof e?Wo(e)?Rr(e[0],e[1]):Lr(e):fs(e)}function Dr(e){if(!xa(e))return mn(e);var t=[];for(var n in Ee(e))De.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Br(e){if(!Jo(e))return function(e){var t=[];if(null!=e)for(var n in Ee(e))t.push(n);return t}(e);var t=xa(e),n=[];for(var r in e)("constructor"!=r||!t&&De.call(e,r))&&n.push(r);return n}function Fr(e,t){return e<t}function Pr(e,t){var n=-1,r=Ho(e)?ae(e.length):[];return fr(e,(function(e,i,a){r[++n]=t(e,i,a)})),r}function Lr(e){var t=la(e);return 1==t.length&&t[0][2]?Sa(t[0][0],t[0][1]):function(n){return n===e||Mr(n,e,t)}}function Rr(e,t){return ba(e)&&ka(t)?Sa(Da(e),t):function(r){var i=Au(r,e);return i===n&&i===t?Eu(r,e):Cr(t,i,3)}}function Ur(e,t,r,i,a){e!==t&&yr(t,(function(o,u){if(a||(a=new $n),Jo(o))!function(e,t,r,i,a,o,u){var s=Oa(e,r),l=Oa(t,r),c=u.get(l);if(c)return void Jn(e,r,c);var f=o?o(s,l,r+"",e,t,u):n,d=f===n;if(d){var h=Wo(l),p=!h&&Go(l),v=!h&&!p&&su(l);f=l,h||p||v?Wo(s)?f=s:qo(s)?f=Ii(s):p?(d=!1,f=xi(l,!0)):v?(d=!1,f=Si(l,!0)):f=[]:ru(l)||Vo(l)?(f=s,Vo(s)?f=mu(s):Jo(s)&&!Qo(s)||(f=va(l))):d=!1}d&&(u.set(l,f),a(f,l,i,o,u),u.delete(l));Jn(e,r,f)}(e,t,u,r,Ur,i,a);else{var s=i?i(Oa(e,u),o,u+"",e,t,a):n;s===n&&(s=o),Jn(e,u,s)}}),Cu)}function Vr(e,t){var r=e.length;if(r)return ya(t+=t<0?r:0,r)?e[t]:n}function Wr(e,t,n){t=t.length?zt(t,(function(e){return Wo(e)?function(t){return xr(t,1===e.length?e[0]:e)}:e})):[ns];var r=-1;return t=zt(t,Kt(ua())),function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(Pr(e,(function(e,n,i){return{criteria:zt(t,(function(t){return t(e)})),index:++r,value:e}})),(function(e,t){return function(e,t,n){var r=-1,i=e.criteria,a=t.criteria,o=i.length,u=n.length;for(;++r<o;){var s=Ai(i[r],a[r]);if(s)return r>=u?s:s*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)}))}function Yr(e,t,n){for(var r=-1,i=t.length,a={};++r<i;){var o=t[r],u=xr(e,o);n(u,o)&&Zr(a,_i(o,e),u)}return a}function Hr(e,t,n,r){var i=r?Vt:Ut,a=-1,o=t.length,u=e;for(e===t&&(t=Ii(t)),n&&(u=zt(e,Kt(n)));++a<o;)for(var s=0,l=t[a],c=n?n(l):l;(s=i(u,c,s,r))>-1;)u!==e&&Xe.call(u,s,1),Xe.call(e,s,1);return e}function qr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==a){var a=i;ya(i)?Xe.call(e,i,1):ci(e,i)}}return e}function Gr(e,t){return e+vt(wn()*(t-e+1))}function $r(e,t){var n="";if(!e||t<1||t>d)return n;do{t%2&&(n+=e),(t=vt(t/2))&&(e+=e)}while(t);return n}function Xr(e,t){return ja(Aa(e,t,ns),e+"")}function Qr(e){return Qn(Lu(e))}function Kr(e,t){var n=Lu(e);return za(n,or(t,0,n.length))}function Zr(e,t,r,i){if(!Jo(e))return e;for(var a=-1,o=(t=_i(t,e)).length,u=o-1,s=e;null!=s&&++a<o;){var l=Da(t[a]),c=r;if("__proto__"===l||"constructor"===l||"prototype"===l)return e;if(a!=u){var f=s[l];(c=i?i(f,l,s):n)===n&&(c=Jo(f)?f:ya(t[a+1])?[]:{})}er(s,l,c),s=s[l]}return e}var Jr=Tn?function(e,t){return Tn.set(e,t),e}:ns,ei=nt?function(e,t){return nt(e,"toString",{configurable:!0,enumerable:!1,value:Ju(t),writable:!0})}:ns;function ti(e){return za(Lu(e))}function ni(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var a=ae(i);++r<i;)a[r]=e[r+t];return a}function ri(e,t){var n;return fr(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n}function ii(e,t,n){var r=0,i=null==e?r:e.length;if("number"==typeof t&&t===t&&i<=2147483647){for(;r<i;){var a=r+i>>>1,o=e[a];null!==o&&!uu(o)&&(n?o<=t:o<t)?r=a+1:i=a}return i}return ai(e,t,ns,n)}function ai(e,t,r,i){var a=0,o=null==e?0:e.length;if(0===o)return 0;for(var u=(t=r(t))!==t,s=null===t,l=uu(t),c=t===n;a<o;){var f=vt((a+o)/2),d=r(e[f]),h=d!==n,p=null===d,v=d===d,m=uu(d);if(u)var y=i||v;else y=c?v&&(i||h):s?v&&h&&(i||!p):l?v&&h&&!p&&(i||!m):!p&&!m&&(i?d<=t:d<t);y?a=f+1:o=f}return _n(o,4294967294)}function oi(e,t){for(var n=-1,r=e.length,i=0,a=[];++n<r;){var o=e[n],u=t?t(o):o;if(!n||!Lo(u,s)){var s=u;a[i++]=0===o?0:o}}return a}function ui(e){return"number"==typeof e?e:uu(e)?h:+e}function si(e){if("string"==typeof e)return e;if(Wo(e))return zt(e,si)+"";if(uu(e))return Pn?Pn.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function li(e,t,n){var r=-1,i=Ct,a=e.length,o=!0,u=[],s=u;if(n)o=!1,i=Mt;else if(a>=200){var l=t?null:$i(e);if(l)return cn(l);o=!1,i=Jt,s=new Gn}else s=t?[]:u;e:for(;++r<a;){var c=e[r],f=t?t(c):c;if(c=n||0!==c?c:0,o&&f===f){for(var d=s.length;d--;)if(s[d]===f)continue e;t&&s.push(f),u.push(c)}else i(s,f,n)||(s!==u&&s.push(f),u.push(c))}return u}function ci(e,t){return null==(e=Ea(e,t=_i(t,e)))||delete e[Da($a(t))]}function fi(e,t,n,r){return Zr(e,t,n(xr(e,t)),r)}function di(e,t,n,r){for(var i=e.length,a=r?i:-1;(r?a--:++a<i)&&t(e[a],a,e););return n?ni(e,r?0:a,r?a+1:i):ni(e,r?a+1:0,r?i:a)}function hi(e,t){var n=e;return n instanceof Wn&&(n=n.value()),Dt(t,(function(e,t){return t.func.apply(t.thisArg,Nt([e],t.args))}),n)}function pi(e,t,n){var r=e.length;if(r<2)return r?li(e[0]):[];for(var i=-1,a=ae(r);++i<r;)for(var o=e[i],u=-1;++u<r;)u!=i&&(a[i]=cr(a[i]||o,e[u],t,n));return li(mr(a,1),t,n)}function vi(e,t,r){for(var i=-1,a=e.length,o=t.length,u={};++i<a;){var s=i<o?t[i]:n;r(u,e[i],s)}return u}function mi(e){return qo(e)?e:[]}function yi(e){return"function"==typeof e?e:ns}function _i(e,t){return Wo(e)?e:ba(e,t)?[e]:Na(yu(e))}var bi=Xr;function gi(e,t,r){var i=e.length;return r=r===n?i:r,!t&&r>=i?e:ni(e,t,r)}var wi=st||function(e){return ht.clearTimeout(e)};function xi(e,t){if(t)return e.slice();var n=e.length,r=He?He(n):new e.constructor(n);return e.copy(r),r}function ki(e){var t=new e.constructor(e.byteLength);return new Ye(t).set(new Ye(e)),t}function Si(e,t){var n=t?ki(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Ai(e,t){if(e!==t){var r=e!==n,i=null===e,a=e===e,o=uu(e),u=t!==n,s=null===t,l=t===t,c=uu(t);if(!s&&!c&&!o&&e>t||o&&u&&l&&!s&&!c||i&&u&&l||!r&&l||!a)return 1;if(!i&&!o&&!c&&e<t||c&&r&&a&&!i&&!o||s&&r&&a||!u&&a||!l)return-1}return 0}function Ei(e,t,n,r){for(var i=-1,a=e.length,o=n.length,u=-1,s=t.length,l=yn(a-o,0),c=ae(s+l),f=!r;++u<s;)c[u]=t[u];for(;++i<o;)(f||i<a)&&(c[n[i]]=e[i]);for(;l--;)c[u++]=e[i++];return c}function Oi(e,t,n,r){for(var i=-1,a=e.length,o=-1,u=n.length,s=-1,l=t.length,c=yn(a-u,0),f=ae(c+l),d=!r;++i<c;)f[i]=e[i];for(var h=i;++s<l;)f[h+s]=t[s];for(;++o<u;)(d||i<a)&&(f[h+n[o]]=e[i++]);return f}function Ii(e,t){var n=-1,r=e.length;for(t||(t=ae(r));++n<r;)t[n]=e[n];return t}function Ti(e,t,r,i){var a=!r;r||(r={});for(var o=-1,u=t.length;++o<u;){var s=t[o],l=i?i(r[s],e[s],s,r,e):n;l===n&&(l=e[s]),a?ir(r,s,l):er(r,s,l)}return r}function ji(e,t){return function(n,r){var i=Wo(n)?Et:nr,a=t?t():{};return i(n,e,ua(r,2),a)}}function Ci(e){return Xr((function(t,r){var i=-1,a=r.length,o=a>1?r[a-1]:n,u=a>2?r[2]:n;for(o=e.length>3&&"function"==typeof o?(a--,o):n,u&&_a(r[0],r[1],u)&&(o=a<3?n:o,a=1),t=Ee(t);++i<a;){var s=r[i];s&&e(t,s,i,o)}return t}))}function Mi(e,t){return function(n,r){if(null==n)return n;if(!Ho(n))return e(n,r);for(var i=n.length,a=t?i:-1,o=Ee(n);(t?a--:++a<i)&&!1!==r(o[a],a,o););return n}}function zi(e){return function(t,n,r){for(var i=-1,a=Ee(t),o=r(t),u=o.length;u--;){var s=o[e?u:++i];if(!1===n(a[s],s,a))break}return t}}function Ni(e){return function(t){var r=on(t=yu(t))?dn(t):n,i=r?r[0]:t.charAt(0),a=r?gi(r,1).join(""):t.slice(1);return i[e]()+a}}function Di(e){return function(t){return Dt(Qu(Vu(t).replace(Ze,"")),e,"")}}function Bi(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Rn(e.prototype),r=e.apply(n,t);return Jo(r)?r:n}}function Fi(e){return function(t,r,i){var a=Ee(t);if(!Ho(t)){var o=ua(r,3);t=ju(t),r=function(e){return o(a[e],e,a)}}var u=e(t,r,i);return u>-1?a[o?t[u]:u]:n}}function Pi(e){return ta((function(t){var i=t.length,a=i,o=Vn.prototype.thru;for(e&&t.reverse();a--;){var u=t[a];if("function"!=typeof u)throw new Te(r);if(o&&!s&&"wrapper"==aa(u))var s=new Vn([],!0)}for(a=s?a:i;++a<i;){var l=aa(u=t[a]),c="wrapper"==l?ia(u):n;s=c&&ga(c[0])&&424==c[1]&&!c[4].length&&1==c[9]?s[aa(c[0])].apply(s,c[3]):1==u.length&&ga(u)?s[l]():s.thru(u)}return function(){var e=arguments,n=e[0];if(s&&1==e.length&&Wo(n))return s.plant(n).value();for(var r=0,a=i?t[r].apply(this,e):n;++r<i;)a=t[r].call(this,a);return a}}))}function Li(e,t,r,i,a,o,u,s,c,f){var d=t&l,h=1&t,p=2&t,v=24&t,m=512&t,y=p?n:Bi(e);return function l(){for(var _=arguments.length,b=ae(_),g=_;g--;)b[g]=arguments[g];if(v)var w=oa(l),x=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}(b,w);if(i&&(b=Ei(b,i,a,v)),o&&(b=Oi(b,o,u,v)),_-=x,v&&_<f){var k=ln(b,w);return qi(e,t,Li,l.placeholder,r,b,k,s,c,f-_)}var S=h?r:this,A=p?S[e]:e;return _=b.length,s?b=function(e,t){var r=e.length,i=_n(t.length,r),a=Ii(e);for(;i--;){var o=t[i];e[i]=ya(o,r)?a[o]:n}return e}(b,s):m&&_>1&&b.reverse(),d&&c<_&&(b.length=c),this&&this!==ht&&this instanceof l&&(A=y||Bi(A)),A.apply(S,b)}}function Ri(e,t){return function(n,r){return function(e,t,n,r){return br(e,(function(e,i,a){t(r,n(e),i,a)})),r}(n,e,t(r),{})}}function Ui(e,t){return function(r,i){var a;if(r===n&&i===n)return t;if(r!==n&&(a=r),i!==n){if(a===n)return i;"string"==typeof r||"string"==typeof i?(r=si(r),i=si(i)):(r=ui(r),i=ui(i)),a=e(r,i)}return a}}function Vi(e){return ta((function(t){return t=zt(t,Kt(ua())),Xr((function(n){var r=this;return e(t,(function(e){return At(e,r,n)}))}))}))}function Wi(e,t){var r=(t=t===n?" ":si(t)).length;if(r<2)return r?$r(t,e):t;var i=$r(t,pt(e/fn(t)));return on(t)?gi(dn(i),0,e).join(""):i.slice(0,e)}function Yi(e){return function(t,r,i){return i&&"number"!=typeof i&&_a(t,r,i)&&(r=i=n),t=du(t),r===n?(r=t,t=0):r=du(r),function(e,t,n,r){for(var i=-1,a=yn(pt((t-e)/(n||1)),0),o=ae(a);a--;)o[r?a:++i]=e,e+=n;return o}(t,r,i=i===n?t<r?1:-1:du(i),e)}}function Hi(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=vu(t),n=vu(n)),e(t,n)}}function qi(e,t,r,i,a,o,l,c,f,d){var h=8&t;t|=h?u:s,4&(t&=~(h?s:u))||(t&=-4);var p=[e,t,a,h?o:n,h?l:n,h?n:o,h?n:l,c,f,d],v=r.apply(n,p);return ga(e)&&Ia(v,p),v.placeholder=i,Ca(v,e,t)}function Gi(e){var t=Ae[e];return function(e,n){if(e=vu(e),(n=null==n?0:_n(hu(n),292))&&Pt(e)){var r=(yu(e)+"e").split("e");return+((r=(yu(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var $i=En&&1/cn(new En([,-0]))[1]==f?function(e){return new En(e)}:us;function Xi(e){return function(t){var n=ha(t);return n==k?un(t):n==I?function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}(t):function(e,t){return zt(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Qi(e,t,i,f,d,h,p,v){var m=2&t;if(!m&&"function"!=typeof e)throw new Te(r);var y=f?f.length:0;if(y||(t&=-97,f=d=n),p=p===n?p:yn(hu(p),0),v=v===n?v:hu(v),y-=d?d.length:0,t&s){var _=f,b=d;f=d=n}var g=m?n:ia(e),w=[e,t,i,f,d,_,b,h,p,v];if(g&&function(e,t){var n=e[1],r=t[1],i=n|r,o=i<131,u=r==l&&8==n||r==l&&n==c&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!o&&!u)return e;1&r&&(e[2]=t[2],i|=1&n?0:4);var s=t[3];if(s){var f=e[3];e[3]=f?Ei(f,s,t[4]):s,e[4]=f?ln(e[3],a):t[4]}(s=t[5])&&(f=e[5],e[5]=f?Oi(f,s,t[6]):s,e[6]=f?ln(e[5],a):t[6]);(s=t[7])&&(e[7]=s);r&l&&(e[8]=null==e[8]?t[8]:_n(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=i}(w,g),e=w[0],t=w[1],i=w[2],f=w[3],d=w[4],!(v=w[9]=w[9]===n?m?0:e.length:yn(w[9]-y,0))&&24&t&&(t&=-25),t&&1!=t)x=8==t||t==o?function(e,t,r){var i=Bi(e);return function a(){for(var o=arguments.length,u=ae(o),s=o,l=oa(a);s--;)u[s]=arguments[s];var c=o<3&&u[0]!==l&&u[o-1]!==l?[]:ln(u,l);return(o-=c.length)<r?qi(e,t,Li,a.placeholder,n,u,c,n,n,r-o):At(this&&this!==ht&&this instanceof a?i:e,this,u)}}(e,t,v):t!=u&&33!=t||d.length?Li.apply(n,w):function(e,t,n,r){var i=1&t,a=Bi(e);return function t(){for(var o=-1,u=arguments.length,s=-1,l=r.length,c=ae(l+u),f=this&&this!==ht&&this instanceof t?a:e;++s<l;)c[s]=r[s];for(;u--;)c[s++]=arguments[++o];return At(f,i?n:this,c)}}(e,t,i,f);else var x=function(e,t,n){var r=1&t,i=Bi(e);return function t(){return(this&&this!==ht&&this instanceof t?i:e).apply(r?n:this,arguments)}}(e,t,i);return Ca((g?Jr:Ia)(x,w),e,t)}function Ki(e,t,r,i){return e===n||Lo(e,Me[r])&&!De.call(i,r)?t:e}function Zi(e,t,r,i,a,o){return Jo(e)&&Jo(t)&&(o.set(t,e),Ur(e,t,n,Zi,o),o.delete(t)),e}function Ji(e){return ru(e)?n:e}function ea(e,t,r,i,a,o){var u=1&r,s=e.length,l=t.length;if(s!=l&&!(u&&l>s))return!1;var c=o.get(e),f=o.get(t);if(c&&f)return c==t&&f==e;var d=-1,h=!0,p=2&r?new Gn:n;for(o.set(e,t),o.set(t,e);++d<s;){var v=e[d],m=t[d];if(i)var y=u?i(m,v,d,t,e,o):i(v,m,d,e,t,o);if(y!==n){if(y)continue;h=!1;break}if(p){if(!Ft(t,(function(e,t){if(!Jt(p,t)&&(v===e||a(v,e,r,i,o)))return p.push(t)}))){h=!1;break}}else if(v!==m&&!a(v,m,r,i,o)){h=!1;break}}return o.delete(e),o.delete(t),h}function ta(e){return ja(Aa(e,n,Wa),e+"")}function na(e){return kr(e,ju,fa)}function ra(e){return kr(e,Cu,da)}var ia=Tn?function(e){return Tn.get(e)}:us;function aa(e){for(var t=e.name+"",n=jn[t],r=De.call(jn,t)?n.length:0;r--;){var i=n[r],a=i.func;if(null==a||a==e)return i.name}return t}function oa(e){return(De.call(Ln,"placeholder")?Ln:e).placeholder}function ua(){var e=Ln.iteratee||rs;return e=e===rs?Nr:e,arguments.length?e(arguments[0],arguments[1]):e}function sa(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function la(e){for(var t=ju(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,ka(i)]}return t}function ca(e,t){var r=function(e,t){return null==e?n:e[t]}(e,t);return zr(r)?r:n}var fa=yt?function(e){return null==e?[]:(e=Ee(e),jt(yt(e),(function(t){return $e.call(e,t)})))}:ps,da=yt?function(e){for(var t=[];e;)Nt(t,fa(e)),e=qe(e);return t}:ps,ha=Sr;function pa(e,t,n){for(var r=-1,i=(t=_i(t,e)).length,a=!1;++r<i;){var o=Da(t[r]);if(!(a=null!=e&&n(e,o)))break;e=e[o]}return a||++r!=i?a:!!(i=null==e?0:e.length)&&Zo(i)&&ya(o,i)&&(Wo(e)||Vo(e))}function va(e){return"function"!=typeof e.constructor||xa(e)?{}:Rn(qe(e))}function ma(e){return Wo(e)||Vo(e)||!!(Qe&&e&&e[Qe])}function ya(e,t){var n=typeof e;return!!(t=null==t?d:t)&&("number"==n||"symbol"!=n&&_e.test(e))&&e>-1&&e%1==0&&e<t}function _a(e,t,n){if(!Jo(n))return!1;var r=typeof t;return!!("number"==r?Ho(n)&&ya(t,n.length):"string"==r&&t in n)&&Lo(n[t],e)}function ba(e,t){if(Wo(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!uu(e))||(ee.test(e)||!J.test(e)||null!=t&&e in Ee(t))}function ga(e){var t=aa(e),n=Ln[t];if("function"!=typeof n||!(t in Wn.prototype))return!1;if(e===n)return!0;var r=ia(n);return!!r&&e===r[0]}(kn&&ha(new kn(new ArrayBuffer(1)))!=z||Sn&&ha(new Sn)!=k||An&&ha(An.resolve())!=E||En&&ha(new En)!=I||On&&ha(new On)!=C)&&(ha=function(e){var t=Sr(e),r=t==A?e.constructor:n,i=r?Ba(r):"";if(i)switch(i){case Cn:return z;case Mn:return k;case zn:return E;case Nn:return I;case Dn:return C}return t});var wa=ze?Qo:vs;function xa(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Me)}function ka(e){return e===e&&!Jo(e)}function Sa(e,t){return function(r){return null!=r&&(r[e]===t&&(t!==n||e in Ee(r)))}}function Aa(e,t,r){return t=yn(t===n?e.length-1:t,0),function(){for(var n=arguments,i=-1,a=yn(n.length-t,0),o=ae(a);++i<a;)o[i]=n[t+i];i=-1;for(var u=ae(t+1);++i<t;)u[i]=n[i];return u[t]=r(o),At(e,this,u)}}function Ea(e,t){return t.length<2?e:xr(e,ni(t,0,-1))}function Oa(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]}var Ia=Ma(Jr),Ta=dt||function(e,t){return ht.setTimeout(e,t)},ja=Ma(ei);function Ca(e,t,n){var r=t+"";return ja(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(oe,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return Ot(v,(function(n){var r="_."+n[0];t&n[1]&&!Ct(e,r)&&e.push(r)})),e.sort()}(function(e){var t=e.match(ue);return t?t[1].split(se):[]}(r),n)))}function Ma(e){var t=0,r=0;return function(){var i=bn(),a=16-(i-r);if(r=i,a>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(n,arguments)}}function za(e,t){var r=-1,i=e.length,a=i-1;for(t=t===n?i:t;++r<t;){var o=Gr(r,a),u=e[o];e[o]=e[r],e[r]=u}return e.length=t,e}var Na=function(e){var t=zo(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(te,(function(e,n,r,i){t.push(r?i.replace(fe,"$1"):n||e)})),t}));function Da(e){if("string"==typeof e||uu(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Ba(e){if(null!=e){try{return Ne.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function Fa(e){if(e instanceof Wn)return e.clone();var t=new Vn(e.__wrapped__,e.__chain__);return t.__actions__=Ii(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Pa=Xr((function(e,t){return qo(e)?cr(e,mr(t,1,qo,!0)):[]})),La=Xr((function(e,t){var r=$a(t);return qo(r)&&(r=n),qo(e)?cr(e,mr(t,1,qo,!0),ua(r,2)):[]})),Ra=Xr((function(e,t){var r=$a(t);return qo(r)&&(r=n),qo(e)?cr(e,mr(t,1,qo,!0),n,r):[]}));function Ua(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:hu(n);return i<0&&(i=yn(r+i,0)),Rt(e,ua(t,3),i)}function Va(e,t,r){var i=null==e?0:e.length;if(!i)return-1;var a=i-1;return r!==n&&(a=hu(r),a=r<0?yn(i+a,0):_n(a,i-1)),Rt(e,ua(t,3),a,!0)}function Wa(e){return(null==e?0:e.length)?mr(e,1):[]}function Ya(e){return e&&e.length?e[0]:n}var Ha=Xr((function(e){var t=zt(e,mi);return t.length&&t[0]===e[0]?Ir(t):[]})),qa=Xr((function(e){var t=$a(e),r=zt(e,mi);return t===$a(r)?t=n:r.pop(),r.length&&r[0]===e[0]?Ir(r,ua(t,2)):[]})),Ga=Xr((function(e){var t=$a(e),r=zt(e,mi);return(t="function"==typeof t?t:n)&&r.pop(),r.length&&r[0]===e[0]?Ir(r,n,t):[]}));function $a(e){var t=null==e?0:e.length;return t?e[t-1]:n}var Xa=Xr(Qa);function Qa(e,t){return e&&e.length&&t&&t.length?Hr(e,t):e}var Ka=ta((function(e,t){var n=null==e?0:e.length,r=ar(e,t);return qr(e,zt(t,(function(e){return ya(e,n)?+e:e})).sort(Ai)),r}));function Za(e){return null==e?e:xn.call(e)}var Ja=Xr((function(e){return li(mr(e,1,qo,!0))})),eo=Xr((function(e){var t=$a(e);return qo(t)&&(t=n),li(mr(e,1,qo,!0),ua(t,2))})),to=Xr((function(e){var t=$a(e);return t="function"==typeof t?t:n,li(mr(e,1,qo,!0),n,t)}));function no(e){if(!e||!e.length)return[];var t=0;return e=jt(e,(function(e){if(qo(e))return t=yn(e.length,t),!0})),Xt(t,(function(t){return zt(e,Ht(t))}))}function ro(e,t){if(!e||!e.length)return[];var r=no(e);return null==t?r:zt(r,(function(e){return At(t,n,e)}))}var io=Xr((function(e,t){return qo(e)?cr(e,t):[]})),ao=Xr((function(e){return pi(jt(e,qo))})),oo=Xr((function(e){var t=$a(e);return qo(t)&&(t=n),pi(jt(e,qo),ua(t,2))})),uo=Xr((function(e){var t=$a(e);return t="function"==typeof t?t:n,pi(jt(e,qo),n,t)})),so=Xr(no);var lo=Xr((function(e){var t=e.length,r=t>1?e[t-1]:n;return r="function"==typeof r?(e.pop(),r):n,ro(e,r)}));function co(e){var t=Ln(e);return t.__chain__=!0,t}function fo(e,t){return t(e)}var ho=ta((function(e){var t=e.length,r=t?e[0]:0,i=this.__wrapped__,a=function(t){return ar(t,e)};return!(t>1||this.__actions__.length)&&i instanceof Wn&&ya(r)?((i=i.slice(r,+r+(t?1:0))).__actions__.push({func:fo,args:[a],thisArg:n}),new Vn(i,this.__chain__).thru((function(e){return t&&!e.length&&e.push(n),e}))):this.thru(a)}));var po=ji((function(e,t,n){De.call(e,n)?++e[n]:ir(e,n,1)}));var vo=Fi(Ua),mo=Fi(Va);function yo(e,t){return(Wo(e)?Ot:fr)(e,ua(t,3))}function _o(e,t){return(Wo(e)?It:dr)(e,ua(t,3))}var bo=ji((function(e,t,n){De.call(e,n)?e[n].push(t):ir(e,n,[t])}));var go=Xr((function(e,t,n){var r=-1,i="function"==typeof t,a=Ho(e)?ae(e.length):[];return fr(e,(function(e){a[++r]=i?At(t,e,n):Tr(e,t,n)})),a})),wo=ji((function(e,t,n){ir(e,n,t)}));function xo(e,t){return(Wo(e)?zt:Pr)(e,ua(t,3))}var ko=ji((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]}));var So=Xr((function(e,t){if(null==e)return[];var n=t.length;return n>1&&_a(e,t[0],t[1])?t=[]:n>2&&_a(t[0],t[1],t[2])&&(t=[t[0]]),Wr(e,mr(t,1),[])})),Ao=ft||function(){return ht.Date.now()};function Eo(e,t,r){return t=r?n:t,t=e&&null==t?e.length:t,Qi(e,l,n,n,n,n,t)}function Oo(e,t){var i;if("function"!=typeof t)throw new Te(r);return e=hu(e),function(){return--e>0&&(i=t.apply(this,arguments)),e<=1&&(t=n),i}}var Io=Xr((function(e,t,n){var r=1;if(n.length){var i=ln(n,oa(Io));r|=u}return Qi(e,r,t,n,i)})),To=Xr((function(e,t,n){var r=3;if(n.length){var i=ln(n,oa(To));r|=u}return Qi(t,r,e,n,i)}));function jo(e,t,i){var a,o,u,s,l,c,f=0,d=!1,h=!1,p=!0;if("function"!=typeof e)throw new Te(r);function v(t){var r=a,i=o;return a=o=n,f=t,s=e.apply(i,r)}function m(e){var r=e-c;return c===n||r>=t||r<0||h&&e-f>=u}function y(){var e=Ao();if(m(e))return _(e);l=Ta(y,function(e){var n=t-(e-c);return h?_n(n,u-(e-f)):n}(e))}function _(e){return l=n,p&&a?v(e):(a=o=n,s)}function b(){var e=Ao(),r=m(e);if(a=arguments,o=this,c=e,r){if(l===n)return function(e){return f=e,l=Ta(y,t),d?v(e):s}(c);if(h)return wi(l),l=Ta(y,t),v(c)}return l===n&&(l=Ta(y,t)),s}return t=vu(t)||0,Jo(i)&&(d=!!i.leading,u=(h="maxWait"in i)?yn(vu(i.maxWait)||0,t):u,p="trailing"in i?!!i.trailing:p),b.cancel=function(){l!==n&&wi(l),f=0,a=c=o=l=n},b.flush=function(){return l===n?s:_(Ao())},b}var Co=Xr((function(e,t){return lr(e,1,t)})),Mo=Xr((function(e,t,n){return lr(e,vu(t)||0,n)}));function zo(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new Te(r);var n=function n(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=e.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(zo.Cache||qn),n}function No(e){if("function"!=typeof e)throw new Te(r);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}zo.Cache=qn;var Do=bi((function(e,t){var n=(t=1==t.length&&Wo(t[0])?zt(t[0],Kt(ua())):zt(mr(t,1),Kt(ua()))).length;return Xr((function(r){for(var i=-1,a=_n(r.length,n);++i<a;)r[i]=t[i].call(this,r[i]);return At(e,this,r)}))})),Bo=Xr((function(e,t){var r=ln(t,oa(Bo));return Qi(e,u,n,t,r)})),Fo=Xr((function(e,t){var r=ln(t,oa(Fo));return Qi(e,s,n,t,r)})),Po=ta((function(e,t){return Qi(e,c,n,n,n,t)}));function Lo(e,t){return e===t||e!==e&&t!==t}var Ro=Hi(Ar),Uo=Hi((function(e,t){return e>=t})),Vo=jr(function(){return arguments}())?jr:function(e){return eu(e)&&De.call(e,"callee")&&!$e.call(e,"callee")},Wo=ae.isArray,Yo=bt?Kt(bt):function(e){return eu(e)&&Sr(e)==M};function Ho(e){return null!=e&&Zo(e.length)&&!Qo(e)}function qo(e){return eu(e)&&Ho(e)}var Go=_t||vs,$o=gt?Kt(gt):function(e){return eu(e)&&Sr(e)==b};function Xo(e){if(!eu(e))return!1;var t=Sr(e);return t==g||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!ru(e)}function Qo(e){if(!Jo(e))return!1;var t=Sr(e);return t==w||t==x||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Ko(e){return"number"==typeof e&&e==hu(e)}function Zo(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=d}function Jo(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function eu(e){return null!=e&&"object"==typeof e}var tu=wt?Kt(wt):function(e){return eu(e)&&ha(e)==k};function nu(e){return"number"==typeof e||eu(e)&&Sr(e)==S}function ru(e){if(!eu(e)||Sr(e)!=A)return!1;var t=qe(e);if(null===t)return!0;var n=De.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Ne.call(n)==Le}var iu=xt?Kt(xt):function(e){return eu(e)&&Sr(e)==O};var au=kt?Kt(kt):function(e){return eu(e)&&ha(e)==I};function ou(e){return"string"==typeof e||!Wo(e)&&eu(e)&&Sr(e)==T}function uu(e){return"symbol"==typeof e||eu(e)&&Sr(e)==j}var su=St?Kt(St):function(e){return eu(e)&&Zo(e.length)&&!!ot[Sr(e)]};var lu=Hi(Fr),cu=Hi((function(e,t){return e<=t}));function fu(e){if(!e)return[];if(Ho(e))return ou(e)?dn(e):Ii(e);if(Ke&&e[Ke])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[Ke]());var t=ha(e);return(t==k?un:t==I?cn:Lu)(e)}function du(e){return e?(e=vu(e))===f||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0}function hu(e){var t=du(e),n=t%1;return t===t?n?t-n:t:0}function pu(e){return e?or(hu(e),0,p):0}function vu(e){if("number"==typeof e)return e;if(uu(e))return h;if(Jo(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Jo(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Qt(e);var n=ve.test(e);return n||ye.test(e)?ct(e.slice(2),n?2:8):pe.test(e)?h:+e}function mu(e){return Ti(e,Cu(e))}function yu(e){return null==e?"":si(e)}var _u=Ci((function(e,t){if(xa(t)||Ho(t))Ti(t,ju(t),e);else for(var n in t)De.call(t,n)&&er(e,n,t[n])})),bu=Ci((function(e,t){Ti(t,Cu(t),e)})),gu=Ci((function(e,t,n,r){Ti(t,Cu(t),e,r)})),wu=Ci((function(e,t,n,r){Ti(t,ju(t),e,r)})),xu=ta(ar);var ku=Xr((function(e,t){e=Ee(e);var r=-1,i=t.length,a=i>2?t[2]:n;for(a&&_a(t[0],t[1],a)&&(i=1);++r<i;)for(var o=t[r],u=Cu(o),s=-1,l=u.length;++s<l;){var c=u[s],f=e[c];(f===n||Lo(f,Me[c])&&!De.call(e,c))&&(e[c]=o[c])}return e})),Su=Xr((function(e){return e.push(n,Zi),At(zu,n,e)}));function Au(e,t,r){var i=null==e?n:xr(e,t);return i===n?r:i}function Eu(e,t){return null!=e&&pa(e,t,Or)}var Ou=Ri((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Pe.call(t)),e[t]=n}),Ju(ns)),Iu=Ri((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Pe.call(t)),De.call(e,t)?e[t].push(n):e[t]=[n]}),ua),Tu=Xr(Tr);function ju(e){return Ho(e)?Xn(e):Dr(e)}function Cu(e){return Ho(e)?Xn(e,!0):Br(e)}var Mu=Ci((function(e,t,n){Ur(e,t,n)})),zu=Ci((function(e,t,n,r){Ur(e,t,n,r)})),Nu=ta((function(e,t){var n={};if(null==e)return n;var r=!1;t=zt(t,(function(t){return t=_i(t,e),r||(r=t.length>1),t})),Ti(e,ra(e),n),r&&(n=ur(n,7,Ji));for(var i=t.length;i--;)ci(n,t[i]);return n}));var Du=ta((function(e,t){return null==e?{}:function(e,t){return Yr(e,t,(function(t,n){return Eu(e,n)}))}(e,t)}));function Bu(e,t){if(null==e)return{};var n=zt(ra(e),(function(e){return[e]}));return t=ua(t),Yr(e,n,(function(e,n){return t(e,n[0])}))}var Fu=Xi(ju),Pu=Xi(Cu);function Lu(e){return null==e?[]:Zt(e,ju(e))}var Ru=Di((function(e,t,n){return t=t.toLowerCase(),e+(n?Uu(t):t)}));function Uu(e){return Xu(yu(e).toLowerCase())}function Vu(e){return(e=yu(e))&&e.replace(be,nn).replace(Je,"")}var Wu=Di((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),Yu=Di((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),Hu=Ni("toLowerCase");var qu=Di((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}));var Gu=Di((function(e,t,n){return e+(n?" ":"")+Xu(t)}));var $u=Di((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),Xu=Ni("toUpperCase");function Qu(e,t,r){return e=yu(e),(t=r?n:t)===n?function(e){return rt.test(e)}(e)?function(e){return e.match(tt)||[]}(e):function(e){return e.match(le)||[]}(e):e.match(t)||[]}var Ku=Xr((function(e,t){try{return At(e,n,t)}catch(r){return Xo(r)?r:new ke(r)}})),Zu=ta((function(e,t){return Ot(t,(function(t){t=Da(t),ir(e,t,Io(e[t],e))})),e}));function Ju(e){return function(){return e}}var es=Pi(),ts=Pi(!0);function ns(e){return e}function rs(e){return Nr("function"==typeof e?e:ur(e,1))}var is=Xr((function(e,t){return function(n){return Tr(n,e,t)}})),as=Xr((function(e,t){return function(n){return Tr(e,n,t)}}));function os(e,t,n){var r=ju(t),i=wr(t,r);null!=n||Jo(t)&&(i.length||!r.length)||(n=t,t=e,e=this,i=wr(t,ju(t)));var a=!(Jo(n)&&"chain"in n)||!!n.chain,o=Qo(e);return Ot(i,(function(n){var r=t[n];e[n]=r,o&&(e.prototype[n]=function(){var t=this.__chain__;if(a||t){var n=e(this.__wrapped__);return(n.__actions__=Ii(this.__actions__)).push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,Nt([this.value()],arguments))})})),e}function us(){}var ss=Vi(zt),ls=Vi(Tt),cs=Vi(Ft);function fs(e){return ba(e)?Ht(Da(e)):function(e){return function(t){return xr(t,e)}}(e)}var ds=Yi(),hs=Yi(!0);function ps(){return[]}function vs(){return!1}var ms=Ui((function(e,t){return e+t}),0),ys=Gi("ceil"),_s=Ui((function(e,t){return e/t}),1),bs=Gi("floor");var gs=Ui((function(e,t){return e*t}),1),ws=Gi("round"),xs=Ui((function(e,t){return e-t}),0);return Ln.after=function(e,t){if("function"!=typeof t)throw new Te(r);return e=hu(e),function(){if(--e<1)return t.apply(this,arguments)}},Ln.ary=Eo,Ln.assign=_u,Ln.assignIn=bu,Ln.assignInWith=gu,Ln.assignWith=wu,Ln.at=xu,Ln.before=Oo,Ln.bind=Io,Ln.bindAll=Zu,Ln.bindKey=To,Ln.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Wo(e)?e:[e]},Ln.chain=co,Ln.chunk=function(e,t,r){t=(r?_a(e,t,r):t===n)?1:yn(hu(t),0);var i=null==e?0:e.length;if(!i||t<1)return[];for(var a=0,o=0,u=ae(pt(i/t));a<i;)u[o++]=ni(e,a,a+=t);return u},Ln.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var a=e[t];a&&(i[r++]=a)}return i},Ln.concat=function(){var e=arguments.length;if(!e)return[];for(var t=ae(e-1),n=arguments[0],r=e;r--;)t[r-1]=arguments[r];return Nt(Wo(n)?Ii(n):[n],mr(t,1))},Ln.cond=function(e){var t=null==e?0:e.length,n=ua();return e=t?zt(e,(function(e){if("function"!=typeof e[1])throw new Te(r);return[n(e[0]),e[1]]})):[],Xr((function(n){for(var r=-1;++r<t;){var i=e[r];if(At(i[0],this,n))return At(i[1],this,n)}}))},Ln.conforms=function(e){return function(e){var t=ju(e);return function(n){return sr(n,e,t)}}(ur(e,1))},Ln.constant=Ju,Ln.countBy=po,Ln.create=function(e,t){var n=Rn(e);return null==t?n:rr(n,t)},Ln.curry=function e(t,r,i){var a=Qi(t,8,n,n,n,n,n,r=i?n:r);return a.placeholder=e.placeholder,a},Ln.curryRight=function e(t,r,i){var a=Qi(t,o,n,n,n,n,n,r=i?n:r);return a.placeholder=e.placeholder,a},Ln.debounce=jo,Ln.defaults=ku,Ln.defaultsDeep=Su,Ln.defer=Co,Ln.delay=Mo,Ln.difference=Pa,Ln.differenceBy=La,Ln.differenceWith=Ra,Ln.drop=function(e,t,r){var i=null==e?0:e.length;return i?ni(e,(t=r||t===n?1:hu(t))<0?0:t,i):[]},Ln.dropRight=function(e,t,r){var i=null==e?0:e.length;return i?ni(e,0,(t=i-(t=r||t===n?1:hu(t)))<0?0:t):[]},Ln.dropRightWhile=function(e,t){return e&&e.length?di(e,ua(t,3),!0,!0):[]},Ln.dropWhile=function(e,t){return e&&e.length?di(e,ua(t,3),!0):[]},Ln.fill=function(e,t,r,i){var a=null==e?0:e.length;return a?(r&&"number"!=typeof r&&_a(e,t,r)&&(r=0,i=a),function(e,t,r,i){var a=e.length;for((r=hu(r))<0&&(r=-r>a?0:a+r),(i=i===n||i>a?a:hu(i))<0&&(i+=a),i=r>i?0:pu(i);r<i;)e[r++]=t;return e}(e,t,r,i)):[]},Ln.filter=function(e,t){return(Wo(e)?jt:vr)(e,ua(t,3))},Ln.flatMap=function(e,t){return mr(xo(e,t),1)},Ln.flatMapDeep=function(e,t){return mr(xo(e,t),f)},Ln.flatMapDepth=function(e,t,r){return r=r===n?1:hu(r),mr(xo(e,t),r)},Ln.flatten=Wa,Ln.flattenDeep=function(e){return(null==e?0:e.length)?mr(e,f):[]},Ln.flattenDepth=function(e,t){return(null==e?0:e.length)?mr(e,t=t===n?1:hu(t)):[]},Ln.flip=function(e){return Qi(e,512)},Ln.flow=es,Ln.flowRight=ts,Ln.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r},Ln.functions=function(e){return null==e?[]:wr(e,ju(e))},Ln.functionsIn=function(e){return null==e?[]:wr(e,Cu(e))},Ln.groupBy=bo,Ln.initial=function(e){return(null==e?0:e.length)?ni(e,0,-1):[]},Ln.intersection=Ha,Ln.intersectionBy=qa,Ln.intersectionWith=Ga,Ln.invert=Ou,Ln.invertBy=Iu,Ln.invokeMap=go,Ln.iteratee=rs,Ln.keyBy=wo,Ln.keys=ju,Ln.keysIn=Cu,Ln.map=xo,Ln.mapKeys=function(e,t){var n={};return t=ua(t,3),br(e,(function(e,r,i){ir(n,t(e,r,i),e)})),n},Ln.mapValues=function(e,t){var n={};return t=ua(t,3),br(e,(function(e,r,i){ir(n,r,t(e,r,i))})),n},Ln.matches=function(e){return Lr(ur(e,1))},Ln.matchesProperty=function(e,t){return Rr(e,ur(t,1))},Ln.memoize=zo,Ln.merge=Mu,Ln.mergeWith=zu,Ln.method=is,Ln.methodOf=as,Ln.mixin=os,Ln.negate=No,Ln.nthArg=function(e){return e=hu(e),Xr((function(t){return Vr(t,e)}))},Ln.omit=Nu,Ln.omitBy=function(e,t){return Bu(e,No(ua(t)))},Ln.once=function(e){return Oo(2,e)},Ln.orderBy=function(e,t,r,i){return null==e?[]:(Wo(t)||(t=null==t?[]:[t]),Wo(r=i?n:r)||(r=null==r?[]:[r]),Wr(e,t,r))},Ln.over=ss,Ln.overArgs=Do,Ln.overEvery=ls,Ln.overSome=cs,Ln.partial=Bo,Ln.partialRight=Fo,Ln.partition=ko,Ln.pick=Du,Ln.pickBy=Bu,Ln.property=fs,Ln.propertyOf=function(e){return function(t){return null==e?n:xr(e,t)}},Ln.pull=Xa,Ln.pullAll=Qa,Ln.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Hr(e,t,ua(n,2)):e},Ln.pullAllWith=function(e,t,r){return e&&e.length&&t&&t.length?Hr(e,t,n,r):e},Ln.pullAt=Ka,Ln.range=ds,Ln.rangeRight=hs,Ln.rearg=Po,Ln.reject=function(e,t){return(Wo(e)?jt:vr)(e,No(ua(t,3)))},Ln.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],a=e.length;for(t=ua(t,3);++r<a;){var o=e[r];t(o,r,e)&&(n.push(o),i.push(r))}return qr(e,i),n},Ln.rest=function(e,t){if("function"!=typeof e)throw new Te(r);return Xr(e,t=t===n?t:hu(t))},Ln.reverse=Za,Ln.sampleSize=function(e,t,r){return t=(r?_a(e,t,r):t===n)?1:hu(t),(Wo(e)?Kn:Kr)(e,t)},Ln.set=function(e,t,n){return null==e?e:Zr(e,t,n)},Ln.setWith=function(e,t,r,i){return i="function"==typeof i?i:n,null==e?e:Zr(e,t,r,i)},Ln.shuffle=function(e){return(Wo(e)?Zn:ti)(e)},Ln.slice=function(e,t,r){var i=null==e?0:e.length;return i?(r&&"number"!=typeof r&&_a(e,t,r)?(t=0,r=i):(t=null==t?0:hu(t),r=r===n?i:hu(r)),ni(e,t,r)):[]},Ln.sortBy=So,Ln.sortedUniq=function(e){return e&&e.length?oi(e):[]},Ln.sortedUniqBy=function(e,t){return e&&e.length?oi(e,ua(t,2)):[]},Ln.split=function(e,t,r){return r&&"number"!=typeof r&&_a(e,t,r)&&(t=r=n),(r=r===n?p:r>>>0)?(e=yu(e))&&("string"==typeof t||null!=t&&!iu(t))&&!(t=si(t))&&on(e)?gi(dn(e),0,r):e.split(t,r):[]},Ln.spread=function(e,t){if("function"!=typeof e)throw new Te(r);return t=null==t?0:yn(hu(t),0),Xr((function(n){var r=n[t],i=gi(n,0,t);return r&&Nt(i,r),At(e,this,i)}))},Ln.tail=function(e){var t=null==e?0:e.length;return t?ni(e,1,t):[]},Ln.take=function(e,t,r){return e&&e.length?ni(e,0,(t=r||t===n?1:hu(t))<0?0:t):[]},Ln.takeRight=function(e,t,r){var i=null==e?0:e.length;return i?ni(e,(t=i-(t=r||t===n?1:hu(t)))<0?0:t,i):[]},Ln.takeRightWhile=function(e,t){return e&&e.length?di(e,ua(t,3),!1,!0):[]},Ln.takeWhile=function(e,t){return e&&e.length?di(e,ua(t,3)):[]},Ln.tap=function(e,t){return t(e),e},Ln.throttle=function(e,t,n){var i=!0,a=!0;if("function"!=typeof e)throw new Te(r);return Jo(n)&&(i="leading"in n?!!n.leading:i,a="trailing"in n?!!n.trailing:a),jo(e,t,{leading:i,maxWait:t,trailing:a})},Ln.thru=fo,Ln.toArray=fu,Ln.toPairs=Fu,Ln.toPairsIn=Pu,Ln.toPath=function(e){return Wo(e)?zt(e,Da):uu(e)?[e]:Ii(Na(yu(e)))},Ln.toPlainObject=mu,Ln.transform=function(e,t,n){var r=Wo(e),i=r||Go(e)||su(e);if(t=ua(t,4),null==n){var a=e&&e.constructor;n=i?r?new a:[]:Jo(e)&&Qo(a)?Rn(qe(e)):{}}return(i?Ot:br)(e,(function(e,r,i){return t(n,e,r,i)})),n},Ln.unary=function(e){return Eo(e,1)},Ln.union=Ja,Ln.unionBy=eo,Ln.unionWith=to,Ln.uniq=function(e){return e&&e.length?li(e):[]},Ln.uniqBy=function(e,t){return e&&e.length?li(e,ua(t,2)):[]},Ln.uniqWith=function(e,t){return t="function"==typeof t?t:n,e&&e.length?li(e,n,t):[]},Ln.unset=function(e,t){return null==e||ci(e,t)},Ln.unzip=no,Ln.unzipWith=ro,Ln.update=function(e,t,n){return null==e?e:fi(e,t,yi(n))},Ln.updateWith=function(e,t,r,i){return i="function"==typeof i?i:n,null==e?e:fi(e,t,yi(r),i)},Ln.values=Lu,Ln.valuesIn=function(e){return null==e?[]:Zt(e,Cu(e))},Ln.without=io,Ln.words=Qu,Ln.wrap=function(e,t){return Bo(yi(t),e)},Ln.xor=ao,Ln.xorBy=oo,Ln.xorWith=uo,Ln.zip=so,Ln.zipObject=function(e,t){return vi(e||[],t||[],er)},Ln.zipObjectDeep=function(e,t){return vi(e||[],t||[],Zr)},Ln.zipWith=lo,Ln.entries=Fu,Ln.entriesIn=Pu,Ln.extend=bu,Ln.extendWith=gu,os(Ln,Ln),Ln.add=ms,Ln.attempt=Ku,Ln.camelCase=Ru,Ln.capitalize=Uu,Ln.ceil=ys,Ln.clamp=function(e,t,r){return r===n&&(r=t,t=n),r!==n&&(r=(r=vu(r))===r?r:0),t!==n&&(t=(t=vu(t))===t?t:0),or(vu(e),t,r)},Ln.clone=function(e){return ur(e,4)},Ln.cloneDeep=function(e){return ur(e,5)},Ln.cloneDeepWith=function(e,t){return ur(e,5,t="function"==typeof t?t:n)},Ln.cloneWith=function(e,t){return ur(e,4,t="function"==typeof t?t:n)},Ln.conformsTo=function(e,t){return null==t||sr(e,t,ju(t))},Ln.deburr=Vu,Ln.defaultTo=function(e,t){return null==e||e!==e?t:e},Ln.divide=_s,Ln.endsWith=function(e,t,r){e=yu(e),t=si(t);var i=e.length,a=r=r===n?i:or(hu(r),0,i);return(r-=t.length)>=0&&e.slice(r,a)==t},Ln.eq=Lo,Ln.escape=function(e){return(e=yu(e))&&X.test(e)?e.replace(G,rn):e},Ln.escapeRegExp=function(e){return(e=yu(e))&&re.test(e)?e.replace(ne,"\\$&"):e},Ln.every=function(e,t,r){var i=Wo(e)?Tt:hr;return r&&_a(e,t,r)&&(t=n),i(e,ua(t,3))},Ln.find=vo,Ln.findIndex=Ua,Ln.findKey=function(e,t){return Lt(e,ua(t,3),br)},Ln.findLast=mo,Ln.findLastIndex=Va,Ln.findLastKey=function(e,t){return Lt(e,ua(t,3),gr)},Ln.floor=bs,Ln.forEach=yo,Ln.forEachRight=_o,Ln.forIn=function(e,t){return null==e?e:yr(e,ua(t,3),Cu)},Ln.forInRight=function(e,t){return null==e?e:_r(e,ua(t,3),Cu)},Ln.forOwn=function(e,t){return e&&br(e,ua(t,3))},Ln.forOwnRight=function(e,t){return e&&gr(e,ua(t,3))},Ln.get=Au,Ln.gt=Ro,Ln.gte=Uo,Ln.has=function(e,t){return null!=e&&pa(e,t,Er)},Ln.hasIn=Eu,Ln.head=Ya,Ln.identity=ns,Ln.includes=function(e,t,n,r){e=Ho(e)?e:Lu(e),n=n&&!r?hu(n):0;var i=e.length;return n<0&&(n=yn(i+n,0)),ou(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&Ut(e,t,n)>-1},Ln.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:hu(n);return i<0&&(i=yn(r+i,0)),Ut(e,t,i)},Ln.inRange=function(e,t,r){return t=du(t),r===n?(r=t,t=0):r=du(r),function(e,t,n){return e>=_n(t,n)&&e<yn(t,n)}(e=vu(e),t,r)},Ln.invoke=Tu,Ln.isArguments=Vo,Ln.isArray=Wo,Ln.isArrayBuffer=Yo,Ln.isArrayLike=Ho,Ln.isArrayLikeObject=qo,Ln.isBoolean=function(e){return!0===e||!1===e||eu(e)&&Sr(e)==_},Ln.isBuffer=Go,Ln.isDate=$o,Ln.isElement=function(e){return eu(e)&&1===e.nodeType&&!ru(e)},Ln.isEmpty=function(e){if(null==e)return!0;if(Ho(e)&&(Wo(e)||"string"==typeof e||"function"==typeof e.splice||Go(e)||su(e)||Vo(e)))return!e.length;var t=ha(e);if(t==k||t==I)return!e.size;if(xa(e))return!Dr(e).length;for(var n in e)if(De.call(e,n))return!1;return!0},Ln.isEqual=function(e,t){return Cr(e,t)},Ln.isEqualWith=function(e,t,r){var i=(r="function"==typeof r?r:n)?r(e,t):n;return i===n?Cr(e,t,n,r):!!i},Ln.isError=Xo,Ln.isFinite=function(e){return"number"==typeof e&&Pt(e)},Ln.isFunction=Qo,Ln.isInteger=Ko,Ln.isLength=Zo,Ln.isMap=tu,Ln.isMatch=function(e,t){return e===t||Mr(e,t,la(t))},Ln.isMatchWith=function(e,t,r){return r="function"==typeof r?r:n,Mr(e,t,la(t),r)},Ln.isNaN=function(e){return nu(e)&&e!=+e},Ln.isNative=function(e){if(wa(e))throw new ke("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return zr(e)},Ln.isNil=function(e){return null==e},Ln.isNull=function(e){return null===e},Ln.isNumber=nu,Ln.isObject=Jo,Ln.isObjectLike=eu,Ln.isPlainObject=ru,Ln.isRegExp=iu,Ln.isSafeInteger=function(e){return Ko(e)&&e>=-9007199254740991&&e<=d},Ln.isSet=au,Ln.isString=ou,Ln.isSymbol=uu,Ln.isTypedArray=su,Ln.isUndefined=function(e){return e===n},Ln.isWeakMap=function(e){return eu(e)&&ha(e)==C},Ln.isWeakSet=function(e){return eu(e)&&"[object WeakSet]"==Sr(e)},Ln.join=function(e,t){return null==e?"":qt.call(e,t)},Ln.kebabCase=Wu,Ln.last=$a,Ln.lastIndexOf=function(e,t,r){var i=null==e?0:e.length;if(!i)return-1;var a=i;return r!==n&&(a=(a=hu(r))<0?yn(i+a,0):_n(a,i-1)),t===t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,a):Rt(e,Wt,a,!0)},Ln.lowerCase=Yu,Ln.lowerFirst=Hu,Ln.lt=lu,Ln.lte=cu,Ln.max=function(e){return e&&e.length?pr(e,ns,Ar):n},Ln.maxBy=function(e,t){return e&&e.length?pr(e,ua(t,2),Ar):n},Ln.mean=function(e){return Yt(e,ns)},Ln.meanBy=function(e,t){return Yt(e,ua(t,2))},Ln.min=function(e){return e&&e.length?pr(e,ns,Fr):n},Ln.minBy=function(e,t){return e&&e.length?pr(e,ua(t,2),Fr):n},Ln.stubArray=ps,Ln.stubFalse=vs,Ln.stubObject=function(){return{}},Ln.stubString=function(){return""},Ln.stubTrue=function(){return!0},Ln.multiply=gs,Ln.nth=function(e,t){return e&&e.length?Vr(e,hu(t)):n},Ln.noConflict=function(){return ht._===this&&(ht._=Re),this},Ln.noop=us,Ln.now=Ao,Ln.pad=function(e,t,n){e=yu(e);var r=(t=hu(t))?fn(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return Wi(vt(i),n)+e+Wi(pt(i),n)},Ln.padEnd=function(e,t,n){e=yu(e);var r=(t=hu(t))?fn(e):0;return t&&r<t?e+Wi(t-r,n):e},Ln.padStart=function(e,t,n){e=yu(e);var r=(t=hu(t))?fn(e):0;return t&&r<t?Wi(t-r,n)+e:e},Ln.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),gn(yu(e).replace(ie,""),t||0)},Ln.random=function(e,t,r){if(r&&"boolean"!=typeof r&&_a(e,t,r)&&(t=r=n),r===n&&("boolean"==typeof t?(r=t,t=n):"boolean"==typeof e&&(r=e,e=n)),e===n&&t===n?(e=0,t=1):(e=du(e),t===n?(t=e,e=0):t=du(t)),e>t){var i=e;e=t,t=i}if(r||e%1||t%1){var a=wn();return _n(e+a*(t-e+lt("1e-"+((a+"").length-1))),t)}return Gr(e,t)},Ln.reduce=function(e,t,n){var r=Wo(e)?Dt:Gt,i=arguments.length<3;return r(e,ua(t,4),n,i,fr)},Ln.reduceRight=function(e,t,n){var r=Wo(e)?Bt:Gt,i=arguments.length<3;return r(e,ua(t,4),n,i,dr)},Ln.repeat=function(e,t,r){return t=(r?_a(e,t,r):t===n)?1:hu(t),$r(yu(e),t)},Ln.replace=function(){var e=arguments,t=yu(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Ln.result=function(e,t,r){var i=-1,a=(t=_i(t,e)).length;for(a||(a=1,e=n);++i<a;){var o=null==e?n:e[Da(t[i])];o===n&&(i=a,o=r),e=Qo(o)?o.call(e):o}return e},Ln.round=ws,Ln.runInContext=e,Ln.sample=function(e){return(Wo(e)?Qn:Qr)(e)},Ln.size=function(e){if(null==e)return 0;if(Ho(e))return ou(e)?fn(e):e.length;var t=ha(e);return t==k||t==I?e.size:Dr(e).length},Ln.snakeCase=qu,Ln.some=function(e,t,r){var i=Wo(e)?Ft:ri;return r&&_a(e,t,r)&&(t=n),i(e,ua(t,3))},Ln.sortedIndex=function(e,t){return ii(e,t)},Ln.sortedIndexBy=function(e,t,n){return ai(e,t,ua(n,2))},Ln.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=ii(e,t);if(r<n&&Lo(e[r],t))return r}return-1},Ln.sortedLastIndex=function(e,t){return ii(e,t,!0)},Ln.sortedLastIndexBy=function(e,t,n){return ai(e,t,ua(n,2),!0)},Ln.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var n=ii(e,t,!0)-1;if(Lo(e[n],t))return n}return-1},Ln.startCase=Gu,Ln.startsWith=function(e,t,n){return e=yu(e),n=null==n?0:or(hu(n),0,e.length),t=si(t),e.slice(n,n+t.length)==t},Ln.subtract=xs,Ln.sum=function(e){return e&&e.length?$t(e,ns):0},Ln.sumBy=function(e,t){return e&&e.length?$t(e,ua(t,2)):0},Ln.template=function(e,t,r){var i=Ln.templateSettings;r&&_a(e,t,r)&&(t=n),e=yu(e),t=gu({},t,i,Ki);var a,o,u=gu({},t.imports,i.imports,Ki),s=ju(u),l=Zt(u,s),c=0,f=t.interpolate||ge,d="__p += '",h=Oe((t.escape||ge).source+"|"+f.source+"|"+(f===Z?de:ge).source+"|"+(t.evaluate||ge).source+"|$","g"),p="//# sourceURL="+(De.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++at+"]")+"\n";e.replace(h,(function(t,n,r,i,u,s){return r||(r=i),d+=e.slice(c,s).replace(we,an),n&&(a=!0,d+="' +\n__e("+n+") +\n'"),u&&(o=!0,d+="';\n"+u+";\n__p += '"),r&&(d+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),c=s+t.length,t})),d+="';\n";var v=De.call(t,"variable")&&t.variable;if(v){if(ce.test(v))throw new ke("Invalid `variable` option passed into `_.template`")}else d="with (obj) {\n"+d+"\n}\n";d=(o?d.replace(W,""):d).replace(Y,"$1").replace(H,"$1;"),d="function("+(v||"obj")+") {\n"+(v?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(a?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var m=Ku((function(){return Se(s,p+"return "+d).apply(n,l)}));if(m.source=d,Xo(m))throw m;return m},Ln.times=function(e,t){if((e=hu(e))<1||e>d)return[];var n=p,r=_n(e,p);t=ua(t),e-=p;for(var i=Xt(r,t);++n<e;)t(n);return i},Ln.toFinite=du,Ln.toInteger=hu,Ln.toLength=pu,Ln.toLower=function(e){return yu(e).toLowerCase()},Ln.toNumber=vu,Ln.toSafeInteger=function(e){return e?or(hu(e),-9007199254740991,d):0===e?e:0},Ln.toString=yu,Ln.toUpper=function(e){return yu(e).toUpperCase()},Ln.trim=function(e,t,r){if((e=yu(e))&&(r||t===n))return Qt(e);if(!e||!(t=si(t)))return e;var i=dn(e),a=dn(t);return gi(i,en(i,a),tn(i,a)+1).join("")},Ln.trimEnd=function(e,t,r){if((e=yu(e))&&(r||t===n))return e.slice(0,hn(e)+1);if(!e||!(t=si(t)))return e;var i=dn(e);return gi(i,0,tn(i,dn(t))+1).join("")},Ln.trimStart=function(e,t,r){if((e=yu(e))&&(r||t===n))return e.replace(ie,"");if(!e||!(t=si(t)))return e;var i=dn(e);return gi(i,en(i,dn(t))).join("")},Ln.truncate=function(e,t){var r=30,i="...";if(Jo(t)){var a="separator"in t?t.separator:a;r="length"in t?hu(t.length):r,i="omission"in t?si(t.omission):i}var o=(e=yu(e)).length;if(on(e)){var u=dn(e);o=u.length}if(r>=o)return e;var s=r-fn(i);if(s<1)return i;var l=u?gi(u,0,s).join(""):e.slice(0,s);if(a===n)return l+i;if(u&&(s+=l.length-s),iu(a)){if(e.slice(s).search(a)){var c,f=l;for(a.global||(a=Oe(a.source,yu(he.exec(a))+"g")),a.lastIndex=0;c=a.exec(f);)var d=c.index;l=l.slice(0,d===n?s:d)}}else if(e.indexOf(si(a),s)!=s){var h=l.lastIndexOf(a);h>-1&&(l=l.slice(0,h))}return l+i},Ln.unescape=function(e){return(e=yu(e))&&$.test(e)?e.replace(q,pn):e},Ln.uniqueId=function(e){var t=++Be;return yu(e)+t},Ln.upperCase=$u,Ln.upperFirst=Xu,Ln.each=yo,Ln.eachRight=_o,Ln.first=Ya,os(Ln,function(){var e={};return br(Ln,(function(t,n){De.call(Ln.prototype,n)||(e[n]=t)})),e}(),{chain:!1}),Ln.VERSION="4.17.21",Ot(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){Ln[e].placeholder=Ln})),Ot(["drop","take"],(function(e,t){Wn.prototype[e]=function(r){r=r===n?1:yn(hu(r),0);var i=this.__filtered__&&!t?new Wn(this):this.clone();return i.__filtered__?i.__takeCount__=_n(r,i.__takeCount__):i.__views__.push({size:_n(r,p),type:e+(i.__dir__<0?"Right":"")}),i},Wn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),Ot(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=1==n||3==n;Wn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:ua(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}})),Ot(["head","last"],(function(e,t){var n="take"+(t?"Right":"");Wn.prototype[e]=function(){return this[n](1).value()[0]}})),Ot(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");Wn.prototype[e]=function(){return this.__filtered__?new Wn(this):this[n](1)}})),Wn.prototype.compact=function(){return this.filter(ns)},Wn.prototype.find=function(e){return this.filter(e).head()},Wn.prototype.findLast=function(e){return this.reverse().find(e)},Wn.prototype.invokeMap=Xr((function(e,t){return"function"==typeof e?new Wn(this):this.map((function(n){return Tr(n,e,t)}))})),Wn.prototype.reject=function(e){return this.filter(No(ua(e)))},Wn.prototype.slice=function(e,t){e=hu(e);var r=this;return r.__filtered__&&(e>0||t<0)?new Wn(r):(e<0?r=r.takeRight(-e):e&&(r=r.drop(e)),t!==n&&(r=(t=hu(t))<0?r.dropRight(-t):r.take(t-e)),r)},Wn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Wn.prototype.toArray=function(){return this.take(p)},br(Wn.prototype,(function(e,t){var r=/^(?:filter|find|map|reject)|While$/.test(t),i=/^(?:head|last)$/.test(t),a=Ln[i?"take"+("last"==t?"Right":""):t],o=i||/^find/.test(t);a&&(Ln.prototype[t]=function(){var t=this.__wrapped__,u=i?[1]:arguments,s=t instanceof Wn,l=u[0],c=s||Wo(t),f=function(e){var t=a.apply(Ln,Nt([e],u));return i&&d?t[0]:t};c&&r&&"function"==typeof l&&1!=l.length&&(s=c=!1);var d=this.__chain__,h=!!this.__actions__.length,p=o&&!d,v=s&&!h;if(!o&&c){t=v?t:new Wn(this);var m=e.apply(t,u);return m.__actions__.push({func:fo,args:[f],thisArg:n}),new Vn(m,d)}return p&&v?e.apply(this,u):(m=this.thru(f),p?i?m.value()[0]:m.value():m)})})),Ot(["pop","push","shift","sort","splice","unshift"],(function(e){var t=je[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);Ln.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var i=this.value();return t.apply(Wo(i)?i:[],e)}return this[n]((function(n){return t.apply(Wo(n)?n:[],e)}))}})),br(Wn.prototype,(function(e,t){var n=Ln[t];if(n){var r=n.name+"";De.call(jn,r)||(jn[r]=[]),jn[r].push({name:t,func:n})}})),jn[Li(n,2).name]=[{name:"wrapper",func:n}],Wn.prototype.clone=function(){var e=new Wn(this.__wrapped__);return e.__actions__=Ii(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Ii(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Ii(this.__views__),e},Wn.prototype.reverse=function(){if(this.__filtered__){var e=new Wn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Wn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=Wo(e),r=t<0,i=n?e.length:0,a=function(e,t,n){var r=-1,i=n.length;for(;++r<i;){var a=n[r],o=a.size;switch(a.type){case"drop":e+=o;break;case"dropRight":t-=o;break;case"take":t=_n(t,e+o);break;case"takeRight":e=yn(e,t-o)}}return{start:e,end:t}}(0,i,this.__views__),o=a.start,u=a.end,s=u-o,l=r?u:o-1,c=this.__iteratees__,f=c.length,d=0,h=_n(s,this.__takeCount__);if(!n||!r&&i==s&&h==s)return hi(e,this.__actions__);var p=[];e:for(;s--&&d<h;){for(var v=-1,m=e[l+=t];++v<f;){var y=c[v],_=y.iteratee,b=y.type,g=_(m);if(2==b)m=g;else if(!g){if(1==b)continue e;break e}}p[d++]=m}return p},Ln.prototype.at=ho,Ln.prototype.chain=function(){return co(this)},Ln.prototype.commit=function(){return new Vn(this.value(),this.__chain__)},Ln.prototype.next=function(){this.__values__===n&&(this.__values__=fu(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?n:this.__values__[this.__index__++]}},Ln.prototype.plant=function(e){for(var t,r=this;r instanceof Un;){var i=Fa(r);i.__index__=0,i.__values__=n,t?a.__wrapped__=i:t=i;var a=i;r=r.__wrapped__}return a.__wrapped__=e,t},Ln.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Wn){var t=e;return this.__actions__.length&&(t=new Wn(this)),(t=t.reverse()).__actions__.push({func:fo,args:[Za],thisArg:n}),new Vn(t,this.__chain__)}return this.thru(Za)},Ln.prototype.toJSON=Ln.prototype.valueOf=Ln.prototype.value=function(){return hi(this.__wrapped__,this.__actions__)},Ln.prototype.first=Ln.prototype.head,Ke&&(Ln.prototype[Ke]=function(){return this}),Ln}();vt?((vt.exports=vn)._=vn,pt._=vn):ht._=vn}).call(Kn)}(ou,ou.exports);var uu={sqrt:function(){return Uo.apply(null,arguments).exponent(.5)},log:function e(){var t=Bo(co()).domain([1,10]);return t.copy=function(){return lo(t,e()).base(t.base())},Ja.apply(t,arguments),t},linear:To,literal:function e(t){var n;function r(e){return null==e||isNaN(e=+e)?n:e}return r.invert=r,r.domain=r.range=function(e){return arguments.length?(t=Array.from(e,ro),r):t.slice()},r.unknown=function(e){return arguments.length?(n=e,r):n},r.copy=function(){return e(t).unknown(n)},t=arguments.length?Array.from(t,ro):[0,1],Io(r)}},su=function(){function e(t,n,r,i){if(E(this,e),B(this,"_constant"),B(this,"_transform"),B(this,"scatterplot"),B(this,"field",null),B(this,"regl"),B(this,"_texture_buffer",null),B(this,"_domain"),B(this,"_range"),B(this,"_func"),B(this,"dataset"),B(this,"partner",null),B(this,"_textures",{}),B(this,"_scale"),B(this,"current_encoding",null),B(this,"aesthetic_map"),B(this,"id"),this.aesthetic_map=i,void 0===this.aesthetic_map)throw new Error("Aesthetic map is undefined");this.scatterplot=t,this.regl=n,this._range=[0,1],this.dataset=r,this.id=Math.random().toString()}return I(e,[{key:"apply",value:function(e){return void 0===this.scale?this.default_constant:this.scale(this.value_for(e))}},{key:"transform",get:function(){return this._transform?this._transform:this.default_transform},set:function(e){this._transform=e}},{key:"scale",get:function(){if(this._scale)return this._scale;if(this.is_dictionary()){console.warn("Dictionary scales only supported for colors");var e=no().domain(this.domain);return this._scale=e.range(this.range)}var t=uu[this.transform]();return t.domain(this.domain).range(this.range),this._scale=t}},{key:"column",get:function(){if(null===this.field)throw new Error("Can't retrieve column for aesthetic without a field");if(this.dataset.root_tile.record_batch){var e=this.dataset.root_tile.record_batch.getChild(this.field);if(void 0===e||null===e)throw new Error("Can't find column "+this.field);return e}throw new Error("Table is null")}},{key:"default_domain",get:function(){var e;if(void 0==this.field)return[1,1];if(!this.scatterplot._root._schema)return[1,1];var t=this.column;return t?void 0!==(null==(e=t.type)?void 0:e.dictionary)?[-2047,Math.floor(this.aesthetic_map.texture_size/2)-1]:(this.dataset.domain(this.field),this.dataset.domain(this.field)):[1,1]}},{key:"default_data",value:function(){var e=this.toGLType(this.default_constant);return Array(this.aesthetic_map.texture_size).fill(e)}},{key:"webGLDomain",get:function(){return this.is_dictionary()?[-2047,2047]:this.domain}},{key:"domain",get:function(){return void 0===this._domain&&(this._domain=this.default_domain),this._domain||this.default_domain}},{key:"range",get:function(){return this._range||this.default_range}},{key:"value_for",value:function(e){return this.field&&e[this.field]?e[this.field]:null}},{key:"map_position",get:function(){return 0===this.use_map_on_regl?0:this.aesthetic_map.get_position(this.id)}},{key:"texture_buffer",get:function(){return this._texture_buffer||(this._texture_buffer=new Float32Array(this.aesthetic_map.texture_size),this._texture_buffer.set(this.default_data())),this._texture_buffer}},{key:"post_to_regl_buffer",value:function(){this.aesthetic_map.set_one_d(this.id,this.texture_buffer)}},{key:"convert_string_encoding",value:function(e){return{field:e,domain:this.default_domain,range:this.default_range}}},{key:"complete_domain",value:function(e){return e.domain=e.domain||this.default_domain,e}},{key:"reset_to_defaults",value:function(){this._domain=this.default_domain,this._range=[0,1],this._transform=void 0,this._constant=this.default_constant,this.field=null,this.current_encoding=null,this._scale=void 0}},{key:"update",value:function(e){if(void 0!==e){if(null===e||"null"===e)return this.current_encoding=null,void this.reset_to_defaults();if(this._scale=void 0,"string"===typeof e&&(e=this.convert_string_encoding(e)),ou.exports.isNumber(e)){var t={constant:e};this.current_encoding=t}else{if(0===Object.keys(e).length)return console.warn("Resetting parameters with an empty object is deprecated: use 'null'"),void this.reset_to_defaults();if(this.current_encoding=e,!iu(e)&&(this.field=e.field,!nu(e)))if(ru(e)){var n=e,r=n.lambda,i=n.field;r&&(this.apply_function_for_textures(i,this.domain,r),this.post_to_regl_buffer())}else void 0===e.domain&&(e.domain=this.default_domain),e.range&&(this._domain=e.domain,this._range=e.range),this._transform=e.transform||void 0}}else console.warn("Should never be calling update with undefined.")}},{key:"encode_for_textures",value:function(e){for(var t=this.aesthetic_map.texture_size,n=Array(t),r=uu[this.transform]().range(e).domain([0,t-1]),i=0;i<t;i+=1)n[i]=r(i)}},{key:"arrow_column",value:function(){if(null===this.field)throw new Error("Can't retrieve column for aesthetic without a field");var e=this.dataset.root_tile.record_batch.getChild(this.field);if(null===e)throw"No column ".concat(this.field," on arrow table for aesthetic");return e}},{key:"is_dictionary",value:function(){var e,t;return null!==this.field&&void 0!==this.field&&void 0!==(null==(t=null==(e=this.arrow_column())?void 0:e.type)?void 0:t.dictionary)}},{key:"constant",get:function(){return null!==this.current_encoding&&iu(this.current_encoding)?this.toGLType(this.current_encoding.constant):this.toGLType(this.default_constant)}},{key:"use_map_on_regl",get:function(){return this.is_dictionary()?1:0}},{key:"materialize_function",value:function(e){var t="string"===typeof e?function(e){if("function"===typeof e.lambda)throw"Must pass a string to lambda, not a function.";var t=e.lambda;if(void 0===e.field)throw"Must pass a field to lambda.";var n=f(wu(t).lambda.split("=>",2).map((function(e){return e.trim()})),2),r=n[0],i=n[1],a=new Function(r,i);return a}(wu(e)):e;return this._func=t,t}},{key:"apply_function_for_textures",value:function(e,t,n){var r,i=this,a=this.aesthetic_map.texture_size,o=this.materialize_function(n),u=bt(a);if(void 0===e||void 0===this.dataset.root_tile.record_batch)return void 0===e&&console.warn("SETTING EMPTY FIELD"),void 0===this.dataset.root_tile.record_batch&&console.warn("SETTING EMPTY TABLE"),void this.texture_buffer.set(bt(a).map((function(e){return 1})));var s=this.column;if(!s)throw new Error("Column ".concat(e," does not exist on table."));if(null==(r=null==s?void 0:s.type)?void 0:r.dictionary){u.fill("");var l,c=T(s.data[0].dictionary.toArray().entries());try{for(c.s();!(l=c.n()).done;){var d=f(l.value,2),h=d[0],p=d[1];u[h]=p}}catch(m){c.e(m)}finally{c.f()}}else u=u.map((function(e){return i.scale(e)}));var v=u.map((function(e){return o(e)}));this.texture_buffer.set(v)}}]),e}(),lu=function(e){k(n,e);var t=S(n);function n(e,r,i,a){var o;return E(this,n),(o=t.call(this,e,r,i,a)).current_encoding=null,o}return I(n,[{key:"toGLType",value:function(e){return e}},{key:"default_domain",get:function(){return[0,1]}}],[{key:"get_default_domain",value:function(){return[0,1]}}]),n}(su),cu=function(e){k(n,e);var t=S(n);function n(){var e;return E(this,n),e=t.apply(this,arguments),B(g(e),"_constant",1),B(g(e),"default_constant",1),B(g(e),"default_transform","sqrt"),e}return I(n,[{key:"default_range",get:function(){return[0,1]}}],[{key:"default_constant",get:function(){return 1.5}}]),n}(lu),fu=function(e){k(n,e);var t=S(n);function n(e,r,i,a){var o;return E(this,n),o=t.call(this,e,r,i,a),B(g(o),"default_range",[-1,1]),B(g(o),"default_constant",0),B(g(o),"default_transform","literal"),B(g(o),"_constant",0),o._transform="literal",o}return I(n,[{key:"range",get:function(){return this._range?this._range:this.dataset.extent&&this.field&&this.dataset.extent[this.field]?this.dataset.extent[this.field]:this.default_range}}],[{key:"default_constant",get:function(){return 0}}]),n}(lu),du=function(e){k(n,e);var t=S(n);function n(){var e;return E(this,n),e=t.apply(this,arguments),B(g(e),"field","x"),e}return I(n)}(fu),hu=function(e){k(n,e);var t=S(n);function n(){return E(this,n),t.apply(this,arguments)}return I(n)}(du),pu=function(e){k(n,e);var t=S(n);function n(){var e;return E(this,n),e=t.apply(this,arguments),B(g(e),"field","y"),e}return I(n)}(fu),vu=function(e){k(n,e);var t=S(n);function n(){return E(this,n),t.apply(this,arguments)}return I(n)}(pu),mu=function(e){k(n,e);var t=S(n);function n(e,r,i,a){return E(this,n),t.call(this,e,r,i,a)}return I(n,[{key:"toGLType",value:function(e){return e?1:0}},{key:"update",value:function(e){x(w(n.prototype),"update",this).call(this,e),null!==this.current_encoding&&0===Object.keys(this.current_encoding).length&&(this.current_encoding=null)}},{key:"ops_to_array",value:function(){var e=this.current_encoding;return null===e||void 0===e?[0,0,0]:nu(e)?"within"===e.op?[4,e.a,e.b]:"between"===e.op?[4,(e.b-e.a)/2,(e.b+e.a)/2]:[[null,"lt","gt","eq"].indexOf(e.op),e.a,0]:[0,0,0]}},{key:"apply",value:function(e){var t=this.current_encoding;if(null===t||void 0===t)return!0;if(nu(t))return this.apply_op(e,t);if(iu(t))return 0!==t.constant;if(ru(t)){if(void 0===this._func)throw new Error("_func should have been bound"+JSON.stringify(this.current_encoding));var n=this.value_for(e);return null!==n&&!!this._func(n)}return!0}},{key:"apply_op",value:function(e,t){var n=t.op,r=t.a,i=this.value_for(e);if(null===i)return!1;if("eq"===n)return i==r;if("gt"===n)return i>r;if("lt"===n)return i<r;if("within"===n)return Math.abs(i-t.b)<r;if("between"===n){var a=(t.a+t.b)/2,o=Math.abs(t.a-t.b)/2;return Math.abs(i-a)<o}return!1}},{key:"default_domain",get:function(){return[0,1]}}]),n}(su),yu=function(e){k(n,e);var t=S(n);function n(){var e;return E(this,n),e=t.apply(this,arguments),B(g(e),"current_encoding",null),B(g(e),"_constant",1),B(g(e),"default_constant",1),B(g(e),"default_range",[0,1]),B(g(e),"default_transform","literal"),e}return I(n,[{key:"active",get:function(){return null!==this.current_encoding&&!iu(this.current_encoding)}}]),n}(mu),_u=function(e){k(n,e);var t=S(n);function n(){var e;return E(this,n),e=t.apply(this,arguments),B(g(e),"current_encoding",null),B(g(e),"_constant",1),B(g(e),"default_constant",1),B(g(e),"default_transform","literal"),B(g(e),"default_range",[0,1]),e}return I(n)}(mu),bu=function(e){k(n,e);var t=S(n);function n(){var e;return E(this,n),e=t.apply(this,arguments),B(g(e),"default_transform","linear"),B(g(e),"default_range",[0,1]),B(g(e),"default_constant",.5),B(g(e),"_constant",0),e}return I(n)}(lu);var gu=function(e){k(n,e);var t=S(n);function n(){var e;return E(this,n),e=t.apply(this,arguments),B(g(e),"_constant",0),B(g(e),"jitter_int_formatted",0),B(g(e),"default_transform","linear"),B(g(e),"_method","None"),e}return I(n,[{key:"toGLType",value:function(e){return e}},{key:"default_constant",get:function(){return 0}},{key:"default_range",get:function(){return[0,1]}},{key:"method",get:function(){var e,t;return null!=(t=null==(e=this.current_encoding)?void 0:e.method)?t:"None"},set:function(e){this._method=e}},{key:"jitter_int_format",get:function(){return"spiral"===(e=this.method)?1:"uniform"===e?2:"normal"===e?3:"circle"===e?4:"time"===e?5:0;var e}}]),n}(su);function wu(e){var t=f(e.split("=>").map((function(e){return e.trim()})),2),n=t[0],r=t[1];if(void 0===r)throw new Error("Couldn't parse ".concat(e," into a function"));return"{"!==r.slice(0,1)&&"return"!==r.slice(0,6)&&(r="return ".concat(r)),{field:n,lambda:"".concat(n," => ").concat(r)}}function xu(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(6*r,6*++r);return n}var ku=xu("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),Su=xu("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),Au=xu("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),Eu=xu("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),Ou=xu("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),Iu=xu("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),Tu=xu("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),ju=xu("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),Cu=xu("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),Mu=xu("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),zu=function(e){return Di(e[e.length-1])},Nu=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(xu),Du=zu(Nu),Bu=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(xu),Fu=zu(Bu),Pu=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(xu),Lu=zu(Pu),Ru=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(xu),Uu=zu(Ru),Vu=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(xu),Wu=zu(Vu),Yu=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(xu),Hu=zu(Yu),qu=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(xu),Gu=zu(qu),$u=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(xu),Xu=zu($u),Qu=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(xu),Ku=zu(Qu),Zu=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(xu),Ju=zu(Zu),es=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(xu),ts=zu(es),ns=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(xu),rs=zu(ns),is=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(xu),as=zu(is),os=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(xu),us=zu(os),ss=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(xu),ls=zu(ss),cs=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(xu),fs=zu(cs),ds=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(xu),hs=zu(ds),ps=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(xu),vs=zu(ps),ms=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(xu),ys=zu(ms),_s=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(xu),bs=zu(_s),gs=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(xu),ws=zu(gs),xs=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(xu),ks=zu(xs),Ss=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(xu),As=zu(Ss),Es=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(xu),Os=zu(Es),Is=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(xu),Ts=zu(Is),js=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(xu),Cs=zu(js),Ms=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(xu),zs=zu(Ms);var Ns=na(Oi(300,.5,0),Oi(-240,.5,1)),Ds=na(Oi(-100,.75,.35),Oi(80,1.5,.8)),Bs=na(Oi(260,.75,.35),Oi(80,1.5,.8)),Fs=Oi();var Ps=ii(),Ls=Math.PI/3,Rs=2*Math.PI/3;function Us(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}var Vs=Us(xu("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),Ws=Us(xu("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),Ys=Us(xu("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),Hs=Us(xu("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921")),qs=Object.freeze(Object.defineProperty({__proto__:null,schemeCategory10:ku,schemeAccent:Su,schemeDark2:Au,schemePaired:Eu,schemePastel1:Ou,schemePastel2:Iu,schemeSet1:Tu,schemeSet2:ju,schemeSet3:Cu,schemeTableau10:Mu,interpolateBrBG:Du,schemeBrBG:Nu,interpolatePRGn:Fu,schemePRGn:Bu,interpolatePiYG:Lu,schemePiYG:Pu,interpolatePuOr:Uu,schemePuOr:Ru,interpolateRdBu:Wu,schemeRdBu:Vu,interpolateRdGy:Hu,schemeRdGy:Yu,interpolateRdYlBu:Gu,schemeRdYlBu:qu,interpolateRdYlGn:Xu,schemeRdYlGn:$u,interpolateSpectral:Ku,schemeSpectral:Qu,interpolateBuGn:Ju,schemeBuGn:Zu,interpolateBuPu:ts,schemeBuPu:es,interpolateGnBu:rs,schemeGnBu:ns,interpolateOrRd:as,schemeOrRd:is,interpolatePuBuGn:us,schemePuBuGn:os,interpolatePuBu:ls,schemePuBu:ss,interpolatePuRd:fs,schemePuRd:cs,interpolateRdPu:hs,schemeRdPu:ds,interpolateYlGnBu:vs,schemeYlGnBu:ps,interpolateYlGn:ys,schemeYlGn:ms,interpolateYlOrBr:bs,schemeYlOrBr:_s,interpolateYlOrRd:ws,schemeYlOrRd:gs,interpolateBlues:ks,schemeBlues:xs,interpolateGreens:As,schemeGreens:Ss,interpolateGreys:Os,schemeGreys:Es,interpolatePurples:Ts,schemePurples:Is,interpolateReds:Cs,schemeReds:js,interpolateOranges:zs,schemeOranges:Ms,interpolateCividis:function(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-e*(35.34-e*(2381.73-e*(6402.7-e*(7024.72-2710.57*e)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+e*(170.73+e*(52.82-e*(131.46-e*(176.58-67.37*e)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+e*(442.36-e*(2482.43-e*(6167.24-e*(6614.94-2475.67*e)))))))+")"},interpolateCubehelixDefault:Ns,interpolateRainbow:function(e){(e<0||e>1)&&(e-=Math.floor(e));var t=Math.abs(e-.5);return Fs.h=360*e-100,Fs.s=1.5-1.5*t,Fs.l=.8-.9*t,Fs+""},interpolateWarm:Ds,interpolateCool:Bs,interpolateSinebow:function(e){var t;return e=(.5-e)*Math.PI,Ps.r=255*(t=Math.sin(e))*t,Ps.g=255*(t=Math.sin(e+Ls))*t,Ps.b=255*(t=Math.sin(e+Rs))*t,Ps+""},interpolateTurbo:function(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+e*(1172.33-e*(10793.56-e*(33300.12-e*(38394.49-14825.05*e)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+e*(557.33+e*(1225.33-e*(3574.96-e*(1073.77+707.56*e)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+e*(3211.1-e*(15327.97-e*(27814-e*(22569.18-6838.66*e)))))))+")"},interpolateViridis:Vs,interpolateMagma:Ws,interpolateInferno:Ys,interpolatePlasma:Hs},Symbol.toStringTag,{value:"Module"})),Gs=1/4294967296;function $s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Math.random(),t=0|(0<=e&&e<1?e/Gs:Math.abs(e));return function(){return Gs*((t=1664525*t+1013904223|0)>>>0)}}var Xs=4096;function Qs(e){var t=new Uint8Array(4*Xs);return bt(Xs).forEach((function(n){var r=ii(e(n/Xs));t.set([r.r,r.g,r.b,255],4*n)})),t}var Ks={white:new Uint8Array(4*Xs).fill(255)},Zs={};function Js(e){for(var t=e.map((function(e){var t=ii(e);return[t.r,t.g,t.b,255]})),n=new Uint8Array(4*Xs),r=0;r<Xs;r++)n.set(t[r%e.length],4*r);return n}for(var el=0,tl=["schemeAccent","schemeCategory10","schemeDark2","schemePaired","schemePastel1","schemePastel2","schemeSet1","schemeSet2","schemeSet3","schemeTableau10"];el<tl.length;el++){var nl=tl[el],rl=qs[nl],il=nl.replace("scheme","").toLowerCase();Ks[il]=Js(rl),Zs[il]=rl}for(var al=0,ol=["interpolateBlues","interpolateBrBG","interpolateBuGn","interpolateBuPu","interpolateCividis","interpolateCool","interpolateCubehelixDefault","interpolateGnBu","interpolateGreens","interpolateGreys","interpolateInferno","interpolateMagma","interpolateOrRd","interpolateOranges","interpolatePRGn","interpolatePiYG","interpolatePlasma","interpolatePuBu","interpolatePuBuGn","interpolatePuOr","interpolatePuRd","interpolatePurples","interpolateRainbow","interpolateRdBu","interpolateRdGy","interpolateRdPu","interpolateRdYlBu","interpolateRdYlGn","interpolateReds","interpolateSinebow","interpolateSpectral","interpolateTurbo","interpolateViridis","interpolateWarm","interpolateYlGn","interpolateYlGnBu","interpolateYlOrBr","interpolateYlOrRd"];al<ol.length;al++){var ul=ol[al],sl=ul.replace("interpolate","").toLowerCase(),ll=qs[ul];if(Ks[sl]=Qs(ll),"rainbow"===sl){var cl=gt($s(1));Ks.shufbow=cl(Ks[sl])}}!function(){var e=["#E69F00","#CC79A7","#56B4E9","#009E73","#0072B2","#D55E00","#F0E442"];Ks.okabe=Js(e),Zs.okabe=e}();var fl=function(e){k(n,e);var t=S(n);function n(){var e;return E(this,n),e=t.apply(this,arguments),B(g(e),"_constant","#CC5500"),B(g(e),"texture_type","uint8"),B(g(e),"default_constant","#CC5500"),B(g(e),"default_transform","linear"),B(g(e),"current_encoding",null),e}return I(n,[{key:"default_range",get:function(){return[0,1]}},{key:"default_data",value:function(){return Ks.viridis}},{key:"use_map_on_regl",get:function(){return 1}},{key:"scale",get:function(){if(this._scale)return this._scale;uu[this.transform]().domain(this.domain).range(this.range);var e,t=this.range;if(this.is_dictionary()){var n=no().domain(this.domain);if("string"===typeof t&&Zs[t]){if(null===this.column.data[0].dictionary)throw new Error("Dictionary is null");return this._scale=n.range(Zs[t]).domain(this.column.data[0].dictionary.toArray())}return this._scale=n.range(this.range)}if("string"==typeof t){var r=qs["interpolate"+(e=t,"ylorrd"===e?"YlOrRd":e.charAt(0).toUpperCase()+e.slice(1))];if(void 0!==r)return"sqrt"===this.transform?this._scale=qo(r).exponent(.5).domain(this.domain):"log"===this.transform?this._scale=Ho(r).domain(this.domain):this._scale=Yo(r).domain(this.domain)}}},{key:"texture_buffer",get:function(){return this._texture_buffer||(this._texture_buffer=new Uint8Array(4*this.aesthetic_map.texture_size),this._texture_buffer.set(this.default_data())),this._texture_buffer}},{key:"post_to_regl_buffer",value:function(){this.aesthetic_map.set_color(this.id,this.texture_buffer)}},{key:"update",value:function(e){x(w(n.prototype),"update",this).call(this,e),this.current_encoding=e,null===e&&(e={constant:this.default_constant}),iu(e)||(e.range&&"string"===typeof e.range[0]?(this.encode_for_textures(e.range),this.post_to_regl_buffer()):e.range&&this.post_to_regl_buffer())}},{key:"toGLType",value:function(e){var t=ii(e);return[t.r/255,t.g/255,t.b/255]}},{key:"encode_for_textures",value:function(e){if(Array.isArray(e)){var t,n=e.join("/");if(Ks[n])return void this.texture_buffer.set(Ks[n]);if(this.is_dictionary()){var r=this.column.data[0].dictionary.toArray(),i=Object.fromEntries(r.map((function(e,t){return[e,t]})));console.log({dict_values:i});for(var a=[],o=0;o<this.domain.length;o++){var u=this.domain[o],s=e[o];void 0!==i[u]&&(a[i[u]]=s)}for(var l=0;l<r.length;l++)void 0===a[l]&&(a[l]="gray");t=Js(a)}else t=Js(e);this.texture_buffer.set(t)}else Ks[e]?this.texture_buffer.set(Ks[e]):(e.length===4*this.aesthetic_map.texture_size&&(console.warn("SETTING FULL RANGE IS DEPRECATED,"),this.texture_buffer.set(e)),console.error("request range of ".concat(e," for color ").concat(this.field," unknown")))}}]),n}(su),dl={size:cu,jitter_speed:bu,jitter_radius:gu,color:fl,filter:_u,filter2:_u,x:du,y:pu,x0:hu,y0:vu,foreground:yu},hl=function(){function e(t,n,r,i,a){if(E(this,e),B(this,"states"),B(this,"dataset"),B(this,"regl"),B(this,"scatterplot"),B(this,"needs_transitions",!1),B(this,"aesthetic_map"),void 0===i)throw new Error("Aesthetic map is undefined.");this.scatterplot=t,this.regl=n,this.dataset=r,this.aesthetic_map=i,this.states=[new a(this.scatterplot,this.regl,this.dataset,this.aesthetic_map),new a(this.scatterplot,this.regl,this.dataset,this.aesthetic_map)]}return I(e,[{key:"current",get:function(){return this.states[0]}},{key:"last",get:function(){return this.states[1]}},{key:"update",value:function(e){JSON.stringify(e)===JSON.stringify(this.states[0].current_encoding)||void 0===e?(this.needs_transitions&&this.states[1].update(this.states[0].current_encoding),this.needs_transitions=!1):(this.states.reverse(),this.states[0].update(e),this.needs_transitions=!0)}}]),e}(),pl=function(e){function t(e,n,r){return E(this,t),B(this,"tileSet"),B(this,"scatterplot"),B(this,"regl"),B(this,"encoding",{}),B(this,"position_interpolation"),B(this,"store"),B(this,"aesthetic_map"),this.scatterplot=e,this.store={},this.regl=n,this.tileSet=r,this.position_interpolation=!1,this.aesthetic_map=new vl(this.regl),this}return I(t,[{key:"dim",value:function(e){if(this.store[e])return this.store[e];if(!dl[e])throw new Error("Unknown aesthetic ".concat(e));var t=dl[e],n=this.scatterplot,r=this.regl,i=this.aesthetic_map,a=new hl(n,r,this.tileSet,i,t);return this.store[e]=a,a}},{key:Symbol.iterator,value:o().mark((function e(){var t,n,r,i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=0,n=Object.entries(this.store);case 1:if(!(t<n.length)){e.next=8;break}return r=f(n[t],2),i=r[0],a=r[1],e.next=5,[i,a];case 5:t++,e.next=1;break;case 8:case"end":return e.stop()}}),e,this)}))},{key:"interpret_position",value:function(e){if(e){e.x0||e.position0?this.position_interpolation=!0:(e.x||e.position)&&(this.position_interpolation=!1);for(var t=0,n=["position","position0"];t<n.length;t++){var r=n[t],i=r.replace("position","");if(e[r]){if("literal"===e[r])e["x".concat(i)]={field:"x",transform:"literal"},e["y".concat(i)]={field:"y",transform:"literal"};else{var a=e[r];e["x".concat(i)]={field:"".concat(a,".x"),transform:"literal"},e["y".concat(i)]={field:"".concat(a,".y"),transform:"literal"}}delete e[r]}}}delete e.position,delete e.position0}},{key:"apply_encoding",value:function(e){if(void 0===e&&(e={}),e.filter1)throw new Error('filter1 is not supported; just say "filter"');this.interpret_position(e);for(var t=0,n=Object.keys(dl);t<n.length;t++){var r=n[t];this.dim(r).update(e[r])}}}]),t}(),vl=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4096;E(this,e),B(this,"_one_d_texture"),B(this,"_color_texture"),B(this,"texture_size"),B(this,"regl"),B(this,"id_locs",{}),B(this,"texture_widths"),B(this,"offsets",{}),B(this,"_one_d_position"),B(this,"_color_position"),this.texture_size=n,this.texture_widths=32,this.regl=t,this._one_d_position=1,this._color_position=-1}return I(e,[{key:"get_position",value:function(e){return this.offsets[e]||0}},{key:"set_one_d",value:function(e,t){var n,r=this.offsets;r[e]?n=r[e]:(n=this._one_d_position++,r[e]=n),this.one_d_texture.subimage({data:t,width:1,height:this.texture_size},n,0)}},{key:"set_color",value:function(e,t){var n,r=this.offsets;r[e]?n=r[e]:(n=this._color_position--,r[e]=n),this.color_texture.subimage({data:t,width:1,height:this.texture_size},-n-1,0)}},{key:"one_d_texture",get:function(){if(this._one_d_texture)return this._one_d_texture;var e=this.regl.hasExtension("OES_texture_float")?"float":this.regl.hasExtension("OES_texture_half_float")?"half float":"uint8",t="uint8"===e?"rgba":"alpha",n={width:this.texture_widths,height:this.texture_size,type:e,format:t};return this._one_d_texture=this.regl.texture(n),this._one_d_texture}},{key:"color_texture",get:function(){return this._color_texture||(this._color_texture=this.regl.texture({width:this.texture_widths,height:this.texture_size,type:"uint8",format:"rgba"})),this._color_texture}}]),e}(),ml=function(e){k(n,e);var t=S(n);function n(e,r,i){var a;E(this,n),a=t.call(this,e,r,i),B(g(a),"regl"),B(g(a),"aes"),B(g(a),"buffer_size",67108864),B(g(a),"_buffers"),B(g(a),"_initializations"),B(g(a),"tileSet"),B(g(a),"zoom"),B(g(a),"_zoom"),B(g(a),"_start"),B(g(a),"most_recent_restart"),B(g(a),"_default_webgl_scale"),B(g(a),"_webgl_scale_history"),B(g(a),"_renderer"),B(g(a),"_use_scale_to_download_tiles",!0),B(g(a),"sprites"),B(g(a),"fbos",{}),B(g(a),"textures",{}),B(g(a),"_fill_buffer"),B(g(a),"contour_vals"),B(g(a),"tick_num"),B(g(a),"reglframe"),B(g(a),"_integer_buffer"),B(g(a),"aes_to_buffer_num"),B(g(a),"variable_to_buffer_num"),B(g(a),"buffer_num_to_variable");var o=a.canvas;if(void 0===a.canvas)throw new Error("No canvas found");return a.regl=Xo({optionalExtensions:["OES_standard_derivatives","OES_element_index_uint","OES_texture_float","OES_texture_half_float"],canvas:o}),a.tileSet=r,a.aes=new pl(i,a.regl,r),a.initialize_textures(),a._initializations=[a.tileSet.promise.then((function(){a.remake_renderer(),a._webgl_scale_history=[a.default_webgl_scale,a.default_webgl_scale]}))],a.initialize(),a._buffers=new _l(a.regl,a.buffer_size),a}return I(n,[{key:"buffers",get:function(){return this._buffers=this._buffers||new _l(this.regl,this.buffer_size),this._buffers}},{key:"data",value:function(e){return void 0===e?this.tileSet:(this.tileSet=e,this)}},{key:"props",get:function(){this.allocate_aesthetic_buffers();var e=this.prefs,t=this.aes_to_buffer_num,n=this.buffer_num_to_variable,r=this.variable_to_buffer_num,i=this.zoom.transform,a={aes:{encoding:this.aes.encoding},colors_as_grid:0,corners:this.zoom.current_corners(),zoom_balance:e.zoom_balance,transform:i,max_ix:this.max_ix,point_size:this.point_size,alpha:this.optimal_alpha,time:Date.now()-this.zoom._start,update_time:Date.now()-this.most_recent_restart,relative_time:(Date.now()-this.most_recent_restart)/e.duration,string_index:0,prefs:JSON.parse(JSON.stringify(e)),color_type:void 0,start_time:this.most_recent_restart,webgl_scale:this._webgl_scale_history[0],last_webgl_scale:this._webgl_scale_history[1],use_scale_for_tiles:this._use_scale_to_download_tiles,grid_mode:0,buffer_num_to_variable:n,aes_to_buffer_num:t,variable_to_buffer_num:r,color_picker_mode:0,zoom_matrix:[[i.k,0,i.x],[0,i.k,i.y],[0,0,1]].flat()};return JSON.parse(JSON.stringify(a))}},{key:"default_webgl_scale",get:function(){return this._default_webgl_scale||(this._default_webgl_scale=this.zoom.webgl_scale()),this._default_webgl_scale}},{key:"render_points",value:function(e){var t,n=[],r=0,i=this.aes.store.foreground.states[0].active||this.aes.store.foreground.states[1].active,a=T(this.visible_tiles());try{for(a.s();!(t=a.n()).done;){var o=t.value;if(o._buffer_manager=o._buffer_manager||new yl(this.regl,o,this),o._buffer_manager.ready(e.block_for_buffers)){var u={manager:o._buffer_manager,number:r++,foreground:i?1:-1,tile_id:o.numeric_id,sprites:this.sprites};if(Object.assign(u,e),n.push(u),i){var s=b(b({},u),{},{foreground:0});n.push(s)}}}}catch(l){a.e(l)}finally{a.f()}n.sort((function(e,t){return 1e3*(3+e.foreground)-1e3*(3+t.foreground)+t.number-e.number})),this._renderer(n)}},{key:"tick",value:function(){var e=this.prefs,t=this.regl,n=this.tileSet,r=this.props;this.tick_num=this.tick_num||0,this.tick_num++,this._use_scale_to_download_tiles?n.download_most_needed_tiles(this.zoom.current_corners(),this.props.max_ix,5):n.download_most_needed_tiles(e.max_points,this.max_ix,5),t.clear({color:[.9,.9,.93,0],depth:1});var i=Date.now();function a(){return(a=s(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(Date.now()-i<10&&t.length>0)){e.next=14;break}if(void 0!==(n=t.shift())){e.next=4;break}return e.abrupt("continue",0);case 4:return e.prev=4,e.next=7,n();case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(4),console.warn(e.t0,n);case 12:e.next=0;break;case 14:case"end":return e.stop()}}),e,null,[[4,9]])})))).apply(this,arguments)}!function(e){a.apply(this,arguments)}(this.deferred_functions);try{this.render_all(r)}catch(u){throw console.warn("ERROR NOTED"),this.reglframe.cancel(),u}}},{key:"single_blur_pass",value:function(e,t,n){var r=this.regl;t.use((function(){r.clear({color:[0,0,0,0]}),r({frag:"precision mediump float;\n#define GLSLIFY 1\n\nvec4 blur13(sampler2D image, vec2 uv, vec2 resolution, vec2 direction) {\n  vec4 color = vec4(0.0);\n  vec2 off1 = vec2(1.411764705882353) * direction;\n  vec2 off2 = vec2(3.2941176470588234) * direction;\n  vec2 off3 = vec2(5.176470588235294) * direction;\n  color += texture2D(image, uv) * 0.1964825501511404;\n  color += texture2D(image, uv + (off1 / resolution)) * 0.2969069646728344;\n  color += texture2D(image, uv - (off1 / resolution)) * 0.2969069646728344;\n  color += texture2D(image, uv + (off2 / resolution)) * 0.09447039785044732;\n  color += texture2D(image, uv - (off2 / resolution)) * 0.09447039785044732;\n  color += texture2D(image, uv + (off3 / resolution)) * 0.010381362401148057;\n  color += texture2D(image, uv - (off3 / resolution)) * 0.010381362401148057;\n  return color;\n}\n\nuniform vec2 iResolution;\nuniform sampler2D iChannel0;\nuniform vec2 direction;\n\nvoid main() {\n  vec2 uv = vec2(gl_FragCoord.xy / iResolution.xy);\n  gl_FragColor = blur13(iChannel0, uv, iResolution.xy, direction);\n}\n",uniforms:{iResolution:function(e){return[e.viewportWidth,e.viewportHeight]},iChannel0:e,direction:n},vert:"\n        precision mediump float;\n        attribute vec2 position;\n        varying vec2 uv;\n        void main() {\n          uv = 0.5 * (position + 1.0);\n          gl_Position = vec4(position, 0, 1);\n        }",attributes:{position:[-4,-4,4,-4,0,4]},depth:{enable:!1},count:3})()}))}},{key:"blur",value:function(e,t){for(var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:3)-1;n>-1;)this.single_blur_pass(e,t,[Math.pow(2,n),0]),this.single_blur_pass(t,e,[0,Math.pow(2,n)]),n-=1}},{key:"render_all",value:function(e){var t=this,n=this.regl;this.fbos.points.use((function(){n.clear({color:[0,0,0,0]}),t.render_points(e)})),n.clear({color:[0,0,0,0]}),this.fbos.lines.use((function(){return n.clear({color:[0,0,0,0]})})),this.scatterplot.trimap&&this.fbos.lines.use((function(){t.scatterplot.trimap.zoom=t.zoom,t.scatterplot.trimap.tick("polygon")}));for(var r=function(){var e=a[i];n({profile:!0,blend:{enable:!0,func:{srcRGB:"one",srcAlpha:"one",dstRGB:"one minus src alpha",dstAlpha:"one minus src alpha"}},frag:"\n        precision mediump float;\n        varying vec2 uv;\n        uniform sampler2D tex;\n        uniform float wRcp, hRcp;\n        void main() {\n          gl_FragColor = texture2D(tex, uv);\n        }\n      ",vert:"\n        precision mediump float;\n        attribute vec2 position;\n        varying vec2 uv;\n        void main() {\n          uv = 0.5 * (position + 1.0);\n          gl_Position = vec4(position, 0., 1.);\n        }\n      ",attributes:{position:t.fill_buffer},depth:{enable:!1},count:3,uniforms:{tex:function(){return e},wRcp:function(e){return 1/e.viewportWidth},hRcp:function(e){return 1/e.viewportHeight}}})()},i=0,a=[this.fbos.lines,this.fbos.points];i<a.length;i++)r()}},{key:"initialize_textures",value:function(){var e=this.regl;this.fbos=this.fbos||{},this.textures=this.textures||{},this.textures.empty_texture=e.texture(bt(128).map((function(e){return bt(128).map((function(e){return[0,0,0]}))}))),this.fbos.minicounter=e.framebuffer({width:512,height:512,depth:!1}),this.fbos.lines=e.framebuffer({width:this.width,height:this.height,depth:!1}),this.fbos.points=e.framebuffer({width:this.width,height:this.height,depth:!1}),this.fbos.ping=e.framebuffer({width:this.width,height:this.height,depth:!1}),this.fbos.pong=e.framebuffer({width:this.width,height:this.height,depth:!1}),this.fbos.contour=this.fbos.contour||e.framebuffer({width:this.width,height:this.height,depth:!1}),this.fbos.colorpicker=this.fbos.colorpicker||e.framebuffer({width:this.width,height:this.height,depth:!1}),this.fbos.dummy=this.fbos.dummy||e.framebuffer({width:1,height:1,depth:!1})}},{key:"get_image_texture",value:function(e){var t=this,n=this.regl;if(this.textures=this.textures||{},this.textures[e])return this.textures[e];var r=new Image;return r.src=e,r.addEventListener("load",(function(){t.textures[e]=n.texture(r)})),this.textures[e]}},{key:"n_visible",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,n=this.width,r=this.height;n=Math.floor(n),r=Math.floor(r),void 0===this.contour_vals&&(this.contour_vals=new Uint8Array(n*r*4));var i,a=this.props;return a.only_color=t,this.fbos.contour.use((function(){e.regl.clear({color:[0,0,0,0]}),e.render_points(a),e.regl.read(e.contour_vals),i=wt(e.contour_vals)})),i}},{key:"integer_buffer",get:function(){if(void 0===this._integer_buffer){for(var e=new Float32Array(Math.pow(2,16)),t=0;t<Math.pow(2,16);t++)e[t]=t;this._integer_buffer=this.regl.buffer(e)}return this._integer_buffer}},{key:"color_pick",value:function(e,t){if(0===t)return null;var n=this.color_pick_single(e,t,"tile_id");if(-1==n)return null;var r=this.color_pick_single(e,t,"ix_in_tile");if(-1===r)return null;var i,a=T(this.visible_tiles());try{for(a.s();!(i=a.n()).done;){var o=i.value;if(o.numeric_id===n)return o.record_batch.get(r)}}catch(u){a.e(u)}finally{a.f()}return null}},{key:"color_pick_single",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"tile_id",i=this.props,a=this.height;i.color_picker_mode=["ix","tile_id","ix_in_tile"].indexOf(r)+1;var o=[0,0,0,0];this.fbos.colorpicker.use((function(){n.regl.clear({color:[0,0,0,0]}),n.render_points(i);try{o=n.regl.read({x:e,y:a-t,width:1,height:1})}catch(r){console.warn("Read bad data from",{x:e,y:t,height:a,attempted:a-t})}}));var u=Qo.apply(void 0,v(o))-1;return Math.round(u)}},{key:"fill_buffer",get:function(){if(!this._fill_buffer){var e=this.regl;this._fill_buffer=e.buffer({data:[-4,-4,4,-4,0,4]})}return this._fill_buffer}},{key:"draw_contour_buffer",value:function(e,t){var n=this,r=this.width,i=this.height;r=Math.floor(r),i=Math.floor(i),this.contour_vals=this.contour_vals||new Uint8Array(4*r*i),this.contour_alpha_vals=this.contour_alpha_vals||new Uint16Array(r*i);var a=this.props;a.aes.encoding.color={field:e},a.only_color=t,this.fbos.contour.use((function(){n.regl.clear({color:[0,0,0,0]}),n.render_points(a),n.regl.read(n.contour_vals)})),this.blur(this.fbos.contour,this.fbos.ping,3),this.fbos.contour.use((function(){n.regl.read(n.contour_vals)}));for(var o=0;o<r*i*4;)this.contour_alpha_vals[o/4]=255*this.contour_vals[o+3],o+=4;return this.contour_alpha_vals}},{key:"remake_renderer",value:function(){var e,t=this,n=this.regl,r={depth:{enable:!1},stencil:{enable:!1},blend:{enable:function(e,t){return t.color_picker_mode<.5},func:{srcRGB:"one",srcAlpha:"one",dstRGB:"one minus src alpha",dstAlpha:"one minus src alpha"}},primitive:"points",frag:"#ifdef GL_OES_standard_derivatives\n#extension GL_OES_standard_derivatives : enable\n#endif\n\nprecision mediump float;\n#define GLSLIFY 1\n\nvarying vec4 fill;\nvarying vec2 letter_pos;\nvarying float point_size;\n\nuniform float u_only_color;\nuniform float u_color_picker_mode;\n//uniform float u_use_glyphset;\n//uniform sampler2D u_glyphset;\n\nfloat delta = 0.0, alpha = 1.0;\n\nbool out_of_circle(in vec2 coord) {\n  vec2 cxy = 2.0 * coord - 1.0;\n  float r_sq = dot(cxy, cxy);\n  if (r_sq > 1.03) {return true;}\n  return false;\n}\n\nbool out_of_hollow_circle(in vec2 coord) {\n  vec2 cxy = 2.0 * coord - 1.0;\n  float r_sq = dot(cxy, cxy);\n  if (r_sq > 1.01) {return true;}\n  float distance_from_edge = (1.0 - r_sq) * point_size;\n  if (distance_from_edge > 4.0) {return true;}\n  return false;\n}\n\nbool out_of_triangle(in vec2 coord) {\n  if (coord.y > (2. * abs(coord.x - .5))) {\n    return false;\n  }\n  return true;\n}\n\nvoid main() {\n  if (u_only_color >= -1.5) {\n    gl_FragColor = vec4(0., 0., 0., 1./255.);\n    return;\n  }\n\n  float alpha = fill.a;\n//  if (u_use_glyphset == 0. || point_size < 5.0) {\n    if (out_of_circle(gl_PointCoord)) {\n      discard;\n      return;\n    }\n    vec2 cxy = 2.0 * gl_PointCoord - 1.0;\n    float r = dot(cxy, cxy);\n    #ifdef GL_OES_standard_derivatives\n      delta = fwidth(r);\n      alpha *= (1.0 - smoothstep(1.0 - delta, 1.0 + delta, r));\n    #endif\n/*  } else {\n    vec2 coords = letter_pos + gl_PointCoord/8.;\n//    vec2 coords = vec2(.2, .2);\n    vec4 sprite = texture2D(u_glyphset, coords);\n    alpha *= (sprite.a);  \n//    fill = vec4(1.0, 1.0, 1.0, alpha);  \n    if (alpha <= 0.03) discard;\n  }*/\n  // Pre-blend the alpha channel.\n  if (u_color_picker_mode >= 1.) {\n    // no alpha when color picking; we use all four channels for that.\n    gl_FragColor = fill;\n  } else {\n    gl_FragColor = vec4(fill.rgb * alpha, alpha);\n  }\n\n}\n",vert:'precision mediump float;\n#define GLSLIFY 1\n\nuniform float u_zoom_balance;\nuniform float u_tile_id;\nuniform float u_update_time;\nuniform float u_transition_duration;\n\n// Type of jitter.\nuniform float u_jitter;\nuniform float u_last_jitter;\n\n// Whether to plot only a single category.\nuniform float u_only_color;\nuniform float u_grid_mode;\n\nuniform vec3 u_filter_numeric; // An override for simple numeric operations.\nuniform vec3 u_last_filter_numeric; // An override for simple numeric operations.\n\nuniform vec3 u_filter2_numeric; // An override for simple numeric operations.\nuniform vec3 u_last_filter2_numeric; // An override for simple numeric operations.\n\nuniform vec3 u_foreground_numeric; // An override for simple numeric operations.\nuniform vec3 u_last_foreground_numeric; // An override for simple numeric operations.\n\n// Transform from data space to the open window.\nuniform mat3 u_window_scale;\nuniform mat3 u_last_window_scale;\n// Transform from the open window to the d3-zoom.\nuniform mat3 u_zoom;\n\nuniform float u_width;\nuniform float u_height;\nuniform float u_use_glyphset;\nvarying vec2 letter_pos; // store which letter to use.\n\nuniform float u_maxix;           // The maximum index to plot.\nuniform float u_time;            // The current time.\nuniform float u_k;               // The d3-scale factor.\nuniform float u_color_picker_mode;\nuniform float u_base_size;\nuniform float u_alpha;\nuniform float u_foreground_number; // -1 -- everything is foreground; 0 -- background; 1 -- foreground.\nuniform vec4 u_background_rgba;\nuniform float u_foreground_alpha;\nuniform float u_background_mouseover;\nuniform float u_foreground_size;\nuniform float u_background_size;\n\nuniform sampler2D u_one_d_aesthetic_map;\nuniform sampler2D u_color_aesthetic_map;\n\n// The same set of items for a variety of aesthetics.\n\n// whether to continuously interpolate between\n// x0 and x, y0 and y.\nuniform float u_position_interpolation_mode;\n\nfloat a_color;\nfloat a_last_color;\n\nuniform float u_color_buffer_num;\nuniform float u_last_color_buffer_num;\n\nuniform vec3 u_color_constant;\nuniform vec3 u_last_color_constant;\n\nuniform float u_color_transform;\nuniform float u_last_color_transform;\nuniform vec2 u_color_domain;\nuniform vec2 u_last_color_domain;\nuniform float u_last_color_map_position;\nuniform float u_color_map_position;\n\nbool a_color_is_constant;\nbool a_last_color_is_constant;\n\n/*\npython code to generate what follows.\ndef autogenerate_code():\n  ks = ["x", "y", "jitter_radius", "jitter_speed", "size", "filter", "filter2", "x0", "y0", "foreground"]\n  times = ["", "last_"]\n  print("""\n  //  BEGIN AUTOGENERATED. DO NOT EDIT. \n  // ------------------------------------------------    \n  """)\n  for k in ks:\n    for time in times:\n      timek = time + k\n      print(f"""\n  uniform float u_{timek}_buffer_num;\n  uniform float u_{timek}_constant;\n  uniform float u_{timek}_transform;\n  uniform vec2 u_{timek}_domain;\n  uniform vec2 u_{timek}_range;\n  uniform float u_{timek}_map_position;\n  float a_{timek};\n  bool a_{timek}_is_constant;\n      """)\n  for i in range(0, 16):\n    print(f"attribute float buffer_{i};")\n  for k in ks:\n    for time in times:\n      timek = time + k\n      print(f"""\n    if (u_{timek}_buffer_num > -0.5) {{\n      a_{timek} = get_buffer(u_{timek}_buffer_num);\n      a_{timek}_is_constant = false;\n    }} else {{\n      a_{timek} = u_{timek}_constant;\n      a_{timek}_is_constant = true;\n    }}""")\n  print("""\n//  END AUTOGENERATED. DO NOT EDIT ABOVE. \n// ------------------------------------------------    \n  """)\n\nautogenerate_code()\n*/\n\n  //  BEGIN AUTOGENERATED. DO NOT EDIT. \n  // ------------------------------------------------    \n  \n\n  uniform float u_x_buffer_num;\n  uniform float u_x_constant;\n  uniform float u_x_transform;\n  uniform vec2 u_x_domain;\n  uniform vec2 u_x_range;\n  uniform float u_x_map_position;\n  float a_x;\n  bool a_x_is_constant;\n      \n\n  uniform float u_last_x_buffer_num;\n  uniform float u_last_x_constant;\n  uniform float u_last_x_transform;\n  uniform vec2 u_last_x_domain;\n  uniform vec2 u_last_x_range;\n  uniform float u_last_x_map_position;\n  float a_last_x;\n  bool a_last_x_is_constant;\n      \n\n  uniform float u_y_buffer_num;\n  uniform float u_y_constant;\n  uniform float u_y_transform;\n  uniform vec2 u_y_domain;\n  uniform vec2 u_y_range;\n  uniform float u_y_map_position;\n  float a_y;\n  bool a_y_is_constant;\n      \n\n  uniform float u_last_y_buffer_num;\n  uniform float u_last_y_constant;\n  uniform float u_last_y_transform;\n  uniform vec2 u_last_y_domain;\n  uniform vec2 u_last_y_range;\n  uniform float u_last_y_map_position;\n  float a_last_y;\n  bool a_last_y_is_constant;\n      \n\n  uniform float u_jitter_radius_buffer_num;\n  uniform float u_jitter_radius_constant;\n  uniform float u_jitter_radius_transform;\n  uniform vec2 u_jitter_radius_domain;\n  uniform vec2 u_jitter_radius_range;\n  uniform float u_jitter_radius_map_position;\n  float a_jitter_radius;\n  bool a_jitter_radius_is_constant;\n      \n\n  uniform float u_last_jitter_radius_buffer_num;\n  uniform float u_last_jitter_radius_constant;\n  uniform float u_last_jitter_radius_transform;\n  uniform vec2 u_last_jitter_radius_domain;\n  uniform vec2 u_last_jitter_radius_range;\n  uniform float u_last_jitter_radius_map_position;\n  float a_last_jitter_radius;\n  bool a_last_jitter_radius_is_constant;\n      \n\n  uniform float u_jitter_speed_buffer_num;\n  uniform float u_jitter_speed_constant;\n  uniform float u_jitter_speed_transform;\n  uniform vec2 u_jitter_speed_domain;\n  uniform vec2 u_jitter_speed_range;\n  uniform float u_jitter_speed_map_position;\n  float a_jitter_speed;\n  bool a_jitter_speed_is_constant;\n      \n\n  uniform float u_last_jitter_speed_buffer_num;\n  uniform float u_last_jitter_speed_constant;\n  uniform float u_last_jitter_speed_transform;\n  uniform vec2 u_last_jitter_speed_domain;\n  uniform vec2 u_last_jitter_speed_range;\n  uniform float u_last_jitter_speed_map_position;\n  float a_last_jitter_speed;\n  bool a_last_jitter_speed_is_constant;\n      \n\n  uniform float u_size_buffer_num;\n  uniform float u_size_constant;\n  uniform float u_size_transform;\n  uniform vec2 u_size_domain;\n  uniform vec2 u_size_range;\n  uniform float u_size_map_position;\n  float a_size;\n  bool a_size_is_constant;\n      \n\n  uniform float u_last_size_buffer_num;\n  uniform float u_last_size_constant;\n  uniform float u_last_size_transform;\n  uniform vec2 u_last_size_domain;\n  uniform vec2 u_last_size_range;\n  uniform float u_last_size_map_position;\n  float a_last_size;\n  bool a_last_size_is_constant;\n      \n\n  uniform float u_filter_buffer_num;\n  uniform float u_filter_constant;\n  uniform float u_filter_transform;\n  uniform vec2 u_filter_domain;\n  uniform vec2 u_filter_range;\n  uniform float u_filter_map_position;\n  float a_filter;\n  bool a_filter_is_constant;\n      \n\n  uniform float u_last_filter_buffer_num;\n  uniform float u_last_filter_constant;\n  uniform float u_last_filter_transform;\n  uniform vec2 u_last_filter_domain;\n  uniform vec2 u_last_filter_range;\n  uniform float u_last_filter_map_position;\n  float a_last_filter;\n  bool a_last_filter_is_constant;\n      \n\n  uniform float u_filter2_buffer_num;\n  uniform float u_filter2_constant;\n  uniform float u_filter2_transform;\n  uniform vec2 u_filter2_domain;\n  uniform vec2 u_filter2_range;\n  uniform float u_filter2_map_position;\n  float a_filter2;\n  bool a_filter2_is_constant;\n      \n\n  uniform float u_last_filter2_buffer_num;\n  uniform float u_last_filter2_constant;\n  uniform float u_last_filter2_transform;\n  uniform vec2 u_last_filter2_domain;\n  uniform vec2 u_last_filter2_range;\n  uniform float u_last_filter2_map_position;\n  float a_last_filter2;\n  bool a_last_filter2_is_constant;\n      \n\n  uniform float u_x0_buffer_num;\n  uniform float u_x0_constant;\n  uniform float u_x0_transform;\n  uniform vec2 u_x0_domain;\n  uniform vec2 u_x0_range;\n  uniform float u_x0_map_position;\n  float a_x0;\n  bool a_x0_is_constant;\n      \n\n  uniform float u_last_x0_buffer_num;\n  uniform float u_last_x0_constant;\n  uniform float u_last_x0_transform;\n  uniform vec2 u_last_x0_domain;\n  uniform vec2 u_last_x0_range;\n  uniform float u_last_x0_map_position;\n  float a_last_x0;\n  bool a_last_x0_is_constant;\n      \n\n  uniform float u_y0_buffer_num;\n  uniform float u_y0_constant;\n  uniform float u_y0_transform;\n  uniform vec2 u_y0_domain;\n  uniform vec2 u_y0_range;\n  uniform float u_y0_map_position;\n  float a_y0;\n  bool a_y0_is_constant;\n      \n\n  uniform float u_last_y0_buffer_num;\n  uniform float u_last_y0_constant;\n  uniform float u_last_y0_transform;\n  uniform vec2 u_last_y0_domain;\n  uniform vec2 u_last_y0_range;\n  uniform float u_last_y0_map_position;\n  float a_last_y0;\n  bool a_last_y0_is_constant;\n      \n\n  uniform float u_foreground_buffer_num;\n  uniform float u_foreground_constant;\n  uniform float u_foreground_transform;\n  uniform vec2 u_foreground_domain;\n  uniform vec2 u_foreground_range;\n  uniform float u_foreground_map_position;\n  float a_foreground;\n  bool a_foreground_is_constant;\n      \n\n  uniform float u_last_foreground_buffer_num;\n  uniform float u_last_foreground_constant;\n  uniform float u_last_foreground_transform;\n  uniform vec2 u_last_foreground_domain;\n  uniform vec2 u_last_foreground_range;\n  uniform float u_last_foreground_map_position;\n  float a_last_foreground;\n  bool a_last_foreground_is_constant;\n      \nattribute float buffer_0;\nattribute float buffer_1;\nattribute float buffer_2;\nattribute float buffer_3;\nattribute float buffer_4;\nattribute float buffer_5;\nattribute float buffer_6;\nattribute float buffer_7;\nattribute float buffer_8;\nattribute float buffer_9;\nattribute float buffer_10;\nattribute float buffer_11;\nattribute float buffer_12;\nattribute float buffer_13;\nattribute float buffer_14;\nattribute float buffer_15;\n\n//  END AUTOGENERATED. DO NOT EDIT ABOVE. \n// ------------------------------------------------    \n\nhighp float ix_to_random(in float ix, in float seed) {\n  // For high numbers, taking the log avoids coincidence.\n  highp float seed2 = log(ix + 2.) + 1.;\n  vec2 co = vec2(seed2, seed);\n  highp float a = 12.9898;\n  highp float b = 78.233;\n  highp float c = 43758.5453;\n  highp float dt = dot(co.xy, vec2(a, b));\n  highp float sn = mod(dt, 3.14);\n  return fract(sin(sn) * c);\n}\n\n// The fill color.\nvarying vec4 fill;\nvarying float point_size;\n\nuniform float u_jitter_radius_lookup;\nuniform float u_jitter_radius_lookup_y_constant;\nuniform vec2 u_jitter_radius_lookup_x_domain;\nuniform vec2 u_jitter_radius_lookup_y_domain;\n\nfloat point_size_adjust;\n\n// A coordinate to throw away a vertex point.\nvec4 discard_me = vec4(100.0, 100.0, 1.0, 1.0);\n\n// Initialized in the main loop\n// mat3 from_coord_to_gl;\n\nconst float e = 1.618282;\n// I\'ve been convinced.\nconst float tau = 2. * 3.14159265359;\n\nfloat interpolate_raw(in float x, in float min, in float max) {\n  if (x < min) {return 0.;}\n  if (x > max) {return 1.;}\n  return (x - min)/(max - min);\n}\n\nfloat interpolate(in float x, in float min, in float max) {\n  if (max < min) {\n    return 1. - interpolate_raw(x, max, min);\n  } else {\n    return interpolate_raw(x, min, max);\n  }\n}\n\n/*\n\nThe following glsl code was written in python.\n\nbuffers = [*range(16)]\n\ndef write_buffs(buffs):\n    if len(buffs) == 1:\n        return[f"return buffer_{buffs[0]}"]\n    condition_1 = ["  " + line for line in write_buffs(buffs[:len(buffs)//2])]\n    condition_2 = ["" + line for line in write_buffs(buffs[len(buffs)//2:])]\n\n    args = [\n        f"if (i < {buffs[len(buffs) // 2 - 1]}.5) {{",\n        *condition_1,\n        "}",\n        *condition_2\n    ]\n    return args\n\nprint("\\n".join(write_buffs(buffers)))\n*/\n\nfloat get_buffer(in float i) {\n  //given an index, returns the appropriate buffer.\n  if (i < 7.5) {\n    if (i < 3.5) {\n      if (i < 1.5) {\n        if (i < 0.5) {\n          return buffer_0;\n        }\n        return buffer_1;\n      }\n      if (i < 2.5) {\n        return buffer_2;\n      }\n      return buffer_3;\n    }\n    if (i < 5.5) {\n      if (i < 4.5) {\n        return buffer_4;\n      }\n      return buffer_5;\n    }\n    if (i < 6.5) {\n      return buffer_6;\n    }\n    return buffer_7;\n  }\n  if (i < 11.5) {\n    if (i < 9.5) {\n      if (i < 8.5) {\n        return buffer_8;\n      }\n      return buffer_9;\n    }\n    if (i < 10.5) {\n      return buffer_10;\n    }\n    return buffer_11;\n  }\n  if (i < 13.5) {\n    if (i < 12.5) {\n      return buffer_12;\n    }\n    return buffer_13;\n  }\n  if (i < 14.5) {\n    return buffer_14;\n  }\n  return buffer_15;\n}\n\nfloat linstep(in vec2 range, in float x) {\n  return interpolate(x, range.x, range.y);\n  float scale_size = range.y - range.x;\n  float from_left = x - range.x;\n  return clamp(from_left / scale_size, 0.0, 1.0);\n}\n\nfloat linscale(in vec2 range, in float x) {\n  float scale_size = range.y - range.x;\n  float from_left = x - range.x;\n  return from_left / scale_size;\n}\n\nvec2 box_muller(in float ix, in float seed) {\n  // Box-Muller transform gives you two gaussian randoms for two uniforms.\n  highp float U = ix_to_random(ix, seed);\n  highp float V = ix_to_random(ix, seed + 17.123123);\n  return vec2(sqrt(-2. * log(U)) * cos(tau * V),\n              sqrt(-2. * log(U)) * sin(tau * V));\n}\n\n/*************** END COLOR SCALES *******************************/\n\nfloat domainify(in vec2 domain, in float transform, in float attr, in bool clamped) {\n\n  // Clamp an attribute into a domain, with an optional log or sqrt transform.\n  if (transform == 2.) {\n    domain = sqrt(domain);\n    attr = sqrt(attr);\n  }\n  if (transform == 3.) {\n    domain = log(domain);\n    attr = log(attr);\n  }\n  if (clamped) {\n    return linstep(domain, attr);\n  } else {\n    return linscale(domain, attr);\n  }\n}\n\nmat3 pixelspace_to_glspace;\n\nfloat run_numeric_filter (in float a_filter,\n  in float u_filter_op, in float u_filter_param_1,\n  in float u_filter_param_2) {\n  bool truthy;\n  if (u_filter_op < 1.5) {\n    truthy = a_filter < u_filter_param_1;\n  } else if (u_filter_op < 2.5) {\n    truthy = a_filter > u_filter_param_1;\n  } else if (u_filter_op < 3.5) {\n    truthy = a_filter == u_filter_param_1;\n  } else if (u_filter_op < 4.5) {\n    truthy = abs(a_filter - u_filter_param_2) < u_filter_param_1;\n  }\n  if (truthy) {return 1.;} else {return 0.;}\n}\n\nfloat choose_and_run_filter(\n  in vec3 u_filter_numeric,\n  in float a_filter,\n  in float map_location,\n  in bool filter_is_constant\n  ) {\n    if (filter_is_constant) {\n      return 1.;\n    }\n    if (u_filter_numeric.r < 0.5) {\n      // Must be on a dictionary. Unreasonable assumption, maybe?\n      float frac_filter = linstep(vec2(-2047., 2047), a_filter);\n      float map_coords = (map_location + .5) / 32.;\n      return texture2D(u_one_d_aesthetic_map, vec2(map_coords, frac_filter)).a;\n    } else {\n      return run_numeric_filter(a_filter,\n        u_filter_numeric.r, u_filter_numeric.g, u_filter_numeric.b);\n    }\n}\n\nconst float tau_0 = 2. * 3.14159265359;\n\nhighp float ix_to_random_1540259130(in float ix, in float seed) {\n  // For high numbers, taking the log avoids coincidence.\n  highp float seed2 = log(ix) + 1.;\n  vec2 co = vec2(seed2, seed);\n  highp float a = 12.9898;\n  highp float b = 78.233;\n  highp float c = 43758.5453;\n  highp float dt= dot(co.xy ,vec2(a,b));\n  highp float sn= mod(dt,3.14);\n  return fract(sin(sn) * c);\n}\n\nhighp vec2 box_muller_1540259130(in float ix, in float seed) {\n  // Box-Muller transform gives you two gaussian randoms for two uniforms.\n  highp float U = ix_to_random_1540259130(ix, seed);\n  highp float V = ix_to_random_1540259130(ix, seed + 17.123123);\n  return vec2(\n    sqrt(-2.*log(U))*cos(tau_0*V),\n    sqrt(-2.*log(U))*sin(tau_0*V)\n  );\n}\n\nvec2 logarithmic_spiral_jitter_1540259130(\n  in float ix, // a random seed.\n  in float a, // offset\n  in float angle_parameter_1540259130, // angle parameter\n  in float randomize_angle_1540259130, // sd radians\n  in float max_r_1540259130, // Maximum radius of spiral.\n  in float randomize_rotation_max_radians_1540259130, // in standard deviations to the log-multiplier.\n  in float randomize_radius_1540259130, // in standard deviation percentage points.\n  in float hole, // donut hole size.\n  in float speed_0, // webgl units per second.\n  in float time_0,// The time, in seconds, to plot at. Generally passed as a uniform or something.\n  in float acceleration,\n  in float n_spirals_1540259130,\n  in float shear,\n  in float aspect_ratio_1540259130\n  ) {\n  // Each point starts at a different place on the spiral.\n  vec2 two_gaussians_1540259130 = box_muller_1540259130(ix, 55.1);\n\n  highp float calculated_angle = angle_parameter_1540259130 + two_gaussians_1540259130.x * randomize_angle_1540259130;\n  float k = 1. / tan(calculated_angle);\n  if (k > 100000.) {\n    k = 0.;\n  }\n\n  // The length of the segment to be traversed.\n  float arc_length =  sqrt((1. + k*k)/k) * (max_r_1540259130 - a);\n  float period = arc_length / speed_0;\n\n  // Every point needs to start at a different place along the curve.\n  float stagger_time = ix_to_random_1540259130(ix, 3.);\n\n  // How long does a circuit take? Add some random noise.\n  float time_period = period * exp(box_muller_1540259130(ix, 0.031).x / 6.);\n\n  // Adjust u_time from the clock to our current spot.\n  float varying_time = time_0 + stagger_time * time_period;\n\n  // Adjust that time by raising to a power to set the speed along the curve.\n  // Not sure if this is the soundest way to parametrize.\n  float relative_time = pow(1. - mod(varying_time, time_period)/time_period, acceleration);\n\n  // Calculate the radius at this time point.\n  float radius = max_r_1540259130 * relative_time + a;\n\n  // The angle implied by that radius.\n  float theta  = 1./k * log(radius / a);\n\n  /* A different way to calculate radius from the theta. Not used\n  float max_theta = 1. / k * log(max_r / a);\n  float theta2 = max_theta * relative_time;\n  vec2 pos_theta_style = vec2(a * exp(k * theta2), theta2);\n  radius = pos_theta_style.x;\n  theta = pos_theta_style.y;\n  */\n\n  // If multiple spirals, the theta needs to be rotated for which spiral we\'re in.\n  // Choose it based on a new random seed.\n  float which_spiral = floor(ix_to_random_1540259130(ix, 13.13) * n_spirals_1540259130);\n  float which_spiral_adjust = which_spiral / n_spirals_1540259130 * tau_0;\n  theta = theta + which_spiral_adjust;\n\n  // Add some gaussian jitter to the polar coordinates.\n  vec2 polar_jitter = box_muller_1540259130(ix, 24.);\n\n  highp float radius_adjust = 1. + polar_jitter.x * randomize_radius_1540259130;\n  highp float theta_adjust = polar_jitter.y * randomize_rotation_max_radians_1540259130;\n\n  vec2 shear_adjust = box_muller_1540259130(ix, 59.1) * shear;\n\n  mat3 shear_mat = mat3(\n    1., shear_adjust.x, 0.,\n    shear_adjust.y, 1., 0.,\n    0., 0., 1.);\n  // into euclidean space.\n  vec3 pos_spiral = vec3(\n   cos(theta + theta_adjust)*(radius * radius_adjust + hole),\n   sin(theta + theta_adjust)*(radius * radius_adjust + hole),\n   0.\n  );\n  mat3 adjust_to_viewport =\n         mat3(\n            1./aspect_ratio_1540259130, 0., 0.,\n            0., 1., 0.,\n            0., 0., 1.);\n\n  pos_spiral = pos_spiral * shear_mat * \n               adjust_to_viewport;\n  return pos_spiral.xy;\n}\n\n#define FLOAT_MAX  1.70141184e38\n#define FLOAT_MIN  1.17549435e-38\n\nlowp vec4 encode_float_1604150559(highp float v) {\n  highp float av = abs(v);\n\n  //Handle special cases\n  if(av < FLOAT_MIN) {\n    return vec4(0.0, 0.0, 0.0, 0.0);\n  } else if(v > FLOAT_MAX) {\n    return vec4(127.0, 128.0, 0.0, 0.0) / 255.0;\n  } else if(v < -FLOAT_MAX) {\n    return vec4(255.0, 128.0, 0.0, 0.0) / 255.0;\n  }\n\n  highp vec4 c = vec4(0,0,0,0);\n\n  //Compute exponent and mantissa\n  highp float e = floor(log2(av));\n  highp float m = av * pow(2.0, -e) - 1.0;\n  \n  //Unpack mantissa\n  c[1] = floor(128.0 * m);\n  m -= c[1] / 128.0;\n  c[2] = floor(32768.0 * m);\n  m -= c[2] / 32768.0;\n  c[3] = floor(8388608.0 * m);\n  \n  //Unpack exponent\n  highp float ebias = e + 127.0;\n  c[0] = floor(ebias / 2.0);\n  ebias -= c[0] * 2.0;\n  c[1] += floor(ebias) * 128.0; \n\n  //Unpack sign bit\n  c[0] += 128.0 * step(0.0, -v);\n\n  //Scale back to range\n  return c / 255.0;\n}\n\n#ifndef PI\n#define PI 3.141592653589793\n#endif\n\nfloat sineInOut_0(float t) {\n  return -0.5 * (cos(PI * t) - 1.0);\n}\n\n#ifndef PI\n#define PI 3.141592653589793\n#endif\n\nvec2 bezier_interpolate(vec2 p1, vec2 p2, float frac, float ix) {\n  // Interpolates between two points on a Bezier curve around a jittered middle.\n  // Makes animations look cooler.\n    vec2 midpoint = box_muller(ix, 3.) * .05 *\n         dot(p2 - p1, p2 - p1)\n         + p2 / 2. + p1 / 2.;\n\n      return mix(\n        mix(p2, midpoint, frac),\n        mix(midpoint, p1, frac),\n      frac);\n}\n\nfloat sineInOut(float t) {\n  return -0.5 * (cos(PI * t) - 1.0);\n}\n\nconst vec4 decoder = vec4(1./256./256./256., 1. / 256. / 256., 1. / 256., 1.);\n\nfloat RGBAtoFloat(in vec4 floater) {\n  // Scale values up by 256.\n  return dot(floater, decoder);\n}\n\nfloat texture_float_lookup(in vec2 domain,\n                           in vec2 range,\n                           in float transform,\n                           in float attr,\n                           in float texture_position) {\n  if (transform == 4.0) {\n    // Literal transforms aren\'t looked up, just returned as is.\n    return attr;\n  }\n  float inrange = domainify(domain, transform, attr, true);\n  if (texture_position > 0.5) {\n    float y_pos = texture_position / 32. - 0.5 / 32.;\n    vec4 encoded = texture2D(u_one_d_aesthetic_map, vec2(y_pos, inrange));\n    return encoded.a;\n    return RGBAtoFloat(encoded); // unreachable.\n  } else {\n    return mix(range.x, range.y, inrange);\n  }\n}\n\nvec2 calculate_position(in vec2 position, in float x_scale_type,\n                        in vec2 x_domain, in vec2 x_range, in float y_scale_type,\n                        in vec2 y_domain, in vec2 y_range, in mat3 window_scale,\n                        in mat3 zoom, in float x_map_position,\n                        in float y_map_position\n                        ) {\n    float x;\n    float y;\n\n    if (x_scale_type < 4.0) {\n      float x_ = linscale(u_color_domain, a_color);\n      x = texture_float_lookup(x_domain, x_range,\n        x_scale_type,\n        position.x, 0. // ymap position 0 means never use a texture lookup.\n        );\n    } else {\n      x = position.x;\n    }\n\n    if (y_scale_type < 4.0) {\n      y = texture_float_lookup(y_domain, y_range, y_scale_type,\n        position.y, 0. // ymap position 0 means never use a texture lookup.\n        );\n    } else {\n      y = position.y;\n    }\n    vec3 pos2d = vec3(x, y, 1.0) * window_scale * zoom * pixelspace_to_glspace;\n    return pos2d.xy;\n}\n\nfloat cubicInOut(float t) {\n  return t < 0.5\n    ? 4.0 * t * t * t\n    : 1. - 4.0 * pow(1. - t, 3.0);\n}\n\nvec4 ixToRGBA(in float ix)  {\n  float min = fract(ix / 256.);\n  float mid = fract((ix - min) / 256.);\n  float high = fract((ix - min - mid * 256.) / (256.) / 256.);\n  return vec4(min, mid, high, 1.);\n}\n\nvec2 circle_jitter(in float ix, in float aspect_ratio, in float time,\n                   in float radius, in float speed) {\n  vec2 two_gaussians = box_muller(ix, 12.);\n\n  float stagger_time = two_gaussians.y * tau;\n\n  // How long does a circuit take?\n\n  float units_per_period = radius * tau;\n  float units_per_second = speed;\n  float seconds_per_period = units_per_period / units_per_second;\n  float time_period = seconds_per_period;\n  if (time_period > 1e4) {\n    return vec2(0., 0.);\n  }\n\n  // Adjust time from the clock to our current spot.\n  float varying_time = time + stagger_time * time_period;\n  // Where are we from 0 to 1 relative to the time period\n\n  float relative_time = 1. - mod(varying_time, time_period) / time_period;\n\n  float theta = relative_time * tau;\n  // Problem--should it lie on a disk, or on a circle?\n  float r_mult = 1.;//(sqrt(ix_to_random(ix, 7.)));\n\n  return vec2(cos(theta) * r_mult, aspect_ratio * sin(theta) * r_mult) *\n         radius;\n}\n\nvec2 calculate_jitter(\n  in float jitter_type,\n  in float ix, // distinguishing index\n  in vec2 jitter_radius_domain,\n  in vec2 jitter_radius_range,\n  in float jitter_radius_transform,\n  in float jitter_radius,\n  in float jitter_radius_map_position,\n  in bool jitter_radius_is_constant,\n  in vec2 jitter_speed_domain,\n  in vec2 jitter_speed_range,\n  in float jitter_speed_transform,\n  in float jitter_speed,\n  in float jitter_speed_map_position,\n  in bool jitter_speed_is_constant\n) {\n\n  // Jitter is calculated based on speed, so requires two full maps in.\n  if (jitter_type == 0.) {\n    // No jitter\n    return vec2(0., 0.);\n  }\n\n  if (jitter_type == 5.) {\n    // Temporal jitter--should be broken out into a separate channel/channels.\n    float time_period = 60.;\n    float share = 1./4.;\n    float offset = ix_to_random(ix, 12.);\n    float fractional = fract((offset * time_period + u_time)/time_period);\n    if (fractional > share) {\n      return vec2(0., 0.);\n    }\n    float size = 0.5 * (1. - cos(2. * 3.1415926 * min(fractional/share, 1. - fractional/share)));\n    size = clamp(size, 0., 1.);\n    return vec2(size, 0.);\n  }\n  float jitter_r;  \n  if (jitter_radius_is_constant) {\n    jitter_r = jitter_radius;\n  } else {\n    jitter_r = texture_float_lookup(\n    jitter_radius_domain,\n    jitter_radius_range,\n    jitter_radius_transform,\n    jitter_radius,\n    0.);\n  }\n  if (jitter_type == 3.) {\n    float r = box_muller(ix, 1.).r * jitter_r;\n    r = r * point_size_adjust;\n    float theta = ix_to_random(ix, 15.) * tau;\n    return vec2(cos(theta) * r, sin(theta) * r * u_width / u_height);\n  }\n\n  if (jitter_type == 2.) {\n    // uniform in the circle.\n    float theta = ix_to_random(ix, 15.) * tau;\n    float r = jitter_r * sqrt(ix_to_random(ix, 115.));\n    r = r * point_size_adjust;\n    return vec2(cos(theta) * r, sin(theta) * r * u_width / u_height);\n  }\n\n  /* Jittering that includes motion) */\n\n  float p_jitter_speed =\n      texture_float_lookup(jitter_speed_domain,\n                          jitter_speed_range,\n                          jitter_speed_transform, jitter_speed,\n                          jitter_speed_map_position);\n\n  if (jitter_type == 1.) {\n    return logarithmic_spiral_jitter_1540259130(\n                ix,\n                0.005 * jitter_r,                     // a\n                1.3302036,                       // angle parameter\n                0.005,                                 // angle random\n                jitter_r,                             // max radius\n                0.03,                                 // random_rotation\n                0.06,                                 // random radius\n                0.003 * point_size_adjust * jitter_r, // donut.\n                .5 * p_jitter_speed * jitter_r / point_size_adjust, // speed\n                u_time,                                           // time\n                0.8,                                              // acceleration\n                2.0,                                              // n_spirals\n                .09, //shear\n                u_width/u_height         // shear\n            );\n  }\n\n  if (jitter_type == 4.) {\n    // circle\n    return circle_jitter(ix, u_width/u_height, u_time, jitter_r, p_jitter_speed);\n  }\n}\n\nvoid run_color_fill(in float ease) {\n  float alpha = min(u_alpha, 1.0);\n  if (u_only_color >= -1.5) {\n    if (u_only_color > -.5 && a_color != u_only_color) {\n      gl_Position = discard_me;\n      return;\n    } else {\n      // -1 is a special value meaning \'plot everything\'.\n      fill = vec4(0., 0., 0., 1. / 255.);\n      gl_PointSize = 1.;\n    }\n  } else {\n    if (a_color_is_constant) {\n      fill = vec4(u_color_constant.rgb, alpha);\n    } else {\n      float fractional_color = linstep(u_color_domain, a_color);\n      float color_pos = (u_color_map_position * -1. - 1.) / 32. + 0.5 / 32.;\n      fractional_color = domainify(u_color_domain, u_color_transform, a_color, true);\n      fill = texture2D(u_color_aesthetic_map , vec2(color_pos, fractional_color));\n      fill = vec4(fill.rgb, alpha);\n    }\n    if (ease < 1.) {\n      vec4 last_fill;\n      if (a_last_color_is_constant) {\n        last_fill = vec4(u_last_color_constant.rgb, alpha);\n      } else {\n        float last_fractional = linstep(u_last_color_domain, a_last_color);\n        float color_pos = (u_last_color_map_position * -1. - 1.) / 32. + 0.5 / 32.;\n        last_fractional = domainify(u_last_color_domain, u_last_color_transform, a_last_color, true);\n        last_fill = texture2D(u_color_aesthetic_map, vec2(color_pos, last_fractional));\n        // Alpha channel interpolation already happened.\n        last_fill = vec4(last_fill.rgb, alpha);\n      }\n      // RGB blending is bad--maybe use https://www.shadertoy.com/view/lsdGzN\n      // instead?\n      fill = mix(last_fill, fill, ease);\n    }\n  }\n}\n\nvec2 calc_and_interpolate_positions(\n  inout vec2 old_position,\n  in float u_last_x_transform,\n  in vec2 u_last_x_domain,\n  in vec2 u_last_x_range,\n  in float u_last_y_transform,\n  in vec2 u_last_y_domain,\n  in vec2 u_last_y_range,\n  in mat3 u_last_window_scale,\n  in mat3 u_zoom,\n  in float u_last_x_map_position,\n  in float u_last_y_map_position,\n  inout vec2 position,\n  in float u_x_transform,\n  in vec2 u_x_domain,\n  in vec2 u_x_range,\n  in float u_y_transform,\n  in vec2 u_y_domain,\n  in vec2 u_y_range,\n  in mat3 u_window_scale,\n  in float u_x_map_position,\n  in float u_y_map_position,\n  in float interpolation,\n  in float u_grid_mode, \n  in float ix) {\n\n  old_position = calculate_position(old_position, u_last_x_transform,\n    u_last_x_domain, u_last_x_range,\n    u_last_y_transform, u_last_y_domain, u_last_y_range,\n    u_last_window_scale,\n    u_zoom, u_last_x_map_position,      \n    u_last_y_map_position);\n    \n  bool plot_actual_position = u_grid_mode < .5;\n\n  if (plot_actual_position) {\n    position = calculate_position(position, \n      u_x_transform,\n      u_x_domain, u_x_range,\n      u_y_transform, u_y_domain, \n      u_y_range, u_window_scale, u_zoom, \n      u_x_map_position, u_y_map_position);\n    float xpos = clamp((1. + position.x) / 2., 0., 1.);\n    float randy = ix_to_random(ix, 13.76);\n    float delay = xpos + randy * .1;\n    delay = delay * 3.;\n\n    float frac = interpolate(\n      u_update_time,\n      delay,\n      u_transition_duration + delay\n    );\n\n    frac = sineInOut_0(frac);\n\n    if (frac <= 0.) {\n      position = old_position;\n    } else if (frac < 1.) {\n      frac = fract(frac);\n      position = bezier_interpolate(position, old_position, frac, ix);\n    }\n  } else {\n    position.x = -1. + 2. * linscale(u_x_domain, position.x);\n    //position.y = -1.0;\n    vec2 jitterspec = vec2(\n      (ix_to_random(ix, 3.) * a_jitter_radius ) * 2.,\n      (ix_to_random(ix, 1.5) * a_jitter_speed ) * 2.\n    );\n    position = position + jitterspec;\n  }\n  return position;\n}\n\nvoid main() {\n  float debug_mode = 0.;\n  float ix = buffer_0;\n  float ix_in_tile = buffer_1;\n  if (ix > u_maxix) {\n    // throw away points that are too low.\n    gl_Position = discard_me;\n    return;\n  }\n\n  if (debug_mode > 1.5) {\n    // Debug mode.\n    gl_PointSize = 2.;\n    gl_Position = vec4(box_muller(ix, 2.).xy * .33, 0., 1.);\n    return;\n  }\n\n // Autogenerated below this point\n\n    if (u_x_buffer_num > -0.5) {\n      a_x = get_buffer(u_x_buffer_num);\n      a_x_is_constant = false;\n    } else {\n      a_x = u_x_constant;\n      a_x_is_constant = true;\n    }\n\n    if (u_last_x_buffer_num > -0.5) {\n      a_last_x = get_buffer(u_last_x_buffer_num);\n      a_last_x_is_constant = false;\n    } else {\n      a_last_x = u_last_x_constant;\n      a_last_x_is_constant = true;\n    }\n\n    if (u_y_buffer_num > -0.5) {\n      a_y = get_buffer(u_y_buffer_num);\n      a_y_is_constant = false;\n    } else {\n      a_y = u_y_constant;\n      a_y_is_constant = true;\n    }\n\n    if (u_last_y_buffer_num > -0.5) {\n      a_last_y = get_buffer(u_last_y_buffer_num);\n      a_last_y_is_constant = false;\n    } else {\n      a_last_y = u_last_y_constant;\n      a_last_y_is_constant = true;\n    }\n\n    if (u_jitter_radius_buffer_num > -0.5) {\n      a_jitter_radius = get_buffer(u_jitter_radius_buffer_num);\n      a_jitter_radius_is_constant = false;\n    } else {\n      a_jitter_radius = u_jitter_radius_constant;\n      a_jitter_radius_is_constant = true;\n    }\n\n    if (u_last_jitter_radius_buffer_num > -0.5) {\n      a_last_jitter_radius = get_buffer(u_last_jitter_radius_buffer_num);\n      a_last_jitter_radius_is_constant = false;\n    } else {\n      a_last_jitter_radius = u_last_jitter_radius_constant;\n      a_last_jitter_radius_is_constant = true;\n    }\n\n    if (u_jitter_speed_buffer_num > -0.5) {\n      a_jitter_speed = get_buffer(u_jitter_speed_buffer_num);\n      a_jitter_speed_is_constant = false;\n    } else {\n      a_jitter_speed = u_jitter_speed_constant;\n      a_jitter_speed_is_constant = true;\n    }\n\n    if (u_last_jitter_speed_buffer_num > -0.5) {\n      a_last_jitter_speed = get_buffer(u_last_jitter_speed_buffer_num);\n      a_last_jitter_speed_is_constant = false;\n    } else {\n      a_last_jitter_speed = u_last_jitter_speed_constant;\n      a_last_jitter_speed_is_constant = true;\n    }\n\n    if (u_size_buffer_num > -0.5) {\n      a_size = get_buffer(u_size_buffer_num);\n      a_size_is_constant = false;\n    } else {\n      a_size = u_size_constant;\n      a_size_is_constant = true;\n    }\n\n    if (u_last_size_buffer_num > -0.5) {\n      a_last_size = get_buffer(u_last_size_buffer_num);\n      a_last_size_is_constant = false;\n    } else {\n      a_last_size = u_last_size_constant;\n      a_last_size_is_constant = true;\n    }\n\n    if (u_filter_buffer_num > -0.5) {\n      a_filter = get_buffer(u_filter_buffer_num);\n      a_filter_is_constant = false;\n    } else {\n      a_filter = u_filter_constant;\n      a_filter_is_constant = true;\n    }\n\n    if (u_last_filter_buffer_num > -0.5) {\n      a_last_filter = get_buffer(u_last_filter_buffer_num);\n      a_last_filter_is_constant = false;\n    } else {\n      a_last_filter = u_last_filter_constant;\n      a_last_filter_is_constant = true;\n    }\n\n    if (u_filter2_buffer_num > -0.5) {\n      a_filter2 = get_buffer(u_filter2_buffer_num);\n      a_filter2_is_constant = false;\n    } else {\n      a_filter2 = u_filter2_constant;\n      a_filter2_is_constant = true;\n    }\n\n    if (u_last_filter2_buffer_num > -0.5) {\n      a_last_filter2 = get_buffer(u_last_filter2_buffer_num);\n      a_last_filter2_is_constant = false;\n    } else {\n      a_last_filter2 = u_last_filter2_constant;\n      a_last_filter2_is_constant = true;\n    }\n\n    if (u_x0_buffer_num > -0.5) {\n      a_x0 = get_buffer(u_x0_buffer_num);\n      a_x0_is_constant = false;\n    } else {\n      a_x0 = u_x0_constant;\n      a_x0_is_constant = true;\n    }\n\n    if (u_last_x0_buffer_num > -0.5) {\n      a_last_x0 = get_buffer(u_last_x0_buffer_num);\n      a_last_x0_is_constant = false;\n    } else {\n      a_last_x0 = u_last_x0_constant;\n      a_last_x0_is_constant = true;\n    }\n\n    if (u_y0_buffer_num > -0.5) {\n      a_y0 = get_buffer(u_y0_buffer_num);\n      a_y0_is_constant = false;\n    } else {\n      a_y0 = u_y0_constant;\n      a_y0_is_constant = true;\n    }\n\n    if (u_last_y0_buffer_num > -0.5) {\n      a_last_y0 = get_buffer(u_last_y0_buffer_num);\n      a_last_y0_is_constant = false;\n    } else {\n      a_last_y0 = u_last_y0_constant;\n      a_last_y0_is_constant = true;\n    }\n\n    if (u_foreground_buffer_num > -0.5) {\n      a_foreground = get_buffer(u_foreground_buffer_num);\n      a_foreground_is_constant = false;\n    } else {\n      a_foreground = u_foreground_constant;\n      a_foreground_is_constant = true;\n    }\n\n    if (u_last_foreground_buffer_num > -0.5) {\n      a_last_foreground = get_buffer(u_last_foreground_buffer_num);\n      a_last_foreground_is_constant = false;\n    } else {\n      a_last_foreground = u_last_foreground_constant;\n      a_last_foreground_is_constant = true;\n    }\n\n//  END AUTOGENERATED. DO NOT EDIT ABOVE. \n// ------------------------------------------------    \n  gl_PointSize = 1.;\n\n  if (u_color_buffer_num > -0.5) {\n    a_color = get_buffer(u_color_buffer_num);\n    a_color_is_constant = false;\n  } else {\n    a_color = ix;\n    a_color_is_constant = true;\n  }\n\n  if (u_last_color_buffer_num > -0.5) {\n    a_last_color = get_buffer(u_last_color_buffer_num);\n    a_last_color_is_constant = false;\n  } else {\n    a_last_color = ix;\n    a_last_color_is_constant = true;\n  }\n\n  pixelspace_to_glspace = mat3(\n      2. / u_width, 0., -1.,\n      0., - 2. / u_height, 1.,\n      0., 0., 1.\n  );\n\n  float interpolation =\n    interpolate(u_update_time, 0., u_transition_duration);\n    \n  float ease = interpolation;\n\n  // I set this sometimes.\n\n  vec2 position = vec2(a_x, a_y);\n  vec2 old_position = vec2(a_last_x, a_last_y);\n\n  position = calc_and_interpolate_positions(\n    old_position,\n    u_last_x_transform,\n    u_last_x_domain, u_last_x_range,\n    u_last_y_transform,\n    u_last_y_domain, u_last_y_range,\n    u_last_window_scale,\n    u_zoom,\n    u_last_x_map_position,\n    u_last_y_map_position,\n    position,\n    u_x_transform,\n    u_x_domain, u_x_range,\n    u_y_transform,\n    u_y_domain, u_y_range,\n    u_window_scale,\n    u_x_map_position,\n    u_y_map_position,\n    interpolation,\n    u_grid_mode,\n    ix\n  );\n\n  if (u_x0_buffer_num > 0.) {\n    vec2 position0 = vec2(a_x0, a_y0);\n    vec2 old_position0 = vec2(a_last_x0, a_last_y0);\n\n    position0 = calc_and_interpolate_positions(\n      old_position0,\n      u_last_x0_transform,\n      u_last_x0_domain, u_last_x0_range,\n      u_last_y0_transform,\n      u_last_y0_domain, u_last_y0_range,\n      u_last_window_scale,\n      u_zoom,\n      u_last_x0_map_position,\n      u_last_y0_map_position,\n      position0,\n      u_x0_transform,\n      u_x0_domain, u_x0_range,\n      u_y0_transform,\n      u_y0_domain, u_y0_range,\n      u_window_scale,\n      u_x0_map_position,\n      u_y0_map_position,\n      interpolation,\n      u_grid_mode,\n      ix\n    );\n\n    if (u_position_interpolation_mode > 0.) {\n      float rand2 = ix_to_random(ix, 11.76);\n\n      // If it\'s a continuous loop, just choose a random point along that loop.\n      float rand_offset = fract(u_update_time/u_transition_duration / 10. + rand2);\n      position = mix(position0, position, rand_offset);\n    }\n  }\n\n  bool plot_actual_position = u_grid_mode < .5;\n\n  if (u_position_interpolation_mode > 0.) {\n    float rand2 = ix_to_random(ix, 11.76);\n\n    // If it\'s a continuous loop, just choose a random point along that loop.\n    float rand_offset = fract(u_update_time/u_transition_duration + rand2);\n    \n  }\n\n/*  position = vec2(\n    ix_to_random(ix, .1),\n    ix_to_random(ix, .2)\n  );*/\n  /* FILTERING */\n\n  float filter_status = choose_and_run_filter(\n    u_filter_numeric,\n    a_filter,\n    u_filter_map_position,\n    a_filter_is_constant\n  );\n\n  float last_filter_status = choose_and_run_filter(\n    u_last_filter_numeric,\n    a_last_filter,\n    u_last_filter_map_position,\n    a_last_filter_is_constant\n  );\n\n  float filter2_status = choose_and_run_filter(\n    u_filter2_numeric,\n    a_filter2,\n    u_filter2_map_position,\n    a_filter2_is_constant\n  );\n\n  float last_filter2_status = choose_and_run_filter(\n    u_last_filter2_numeric,\n    a_last_filter2,\n    u_last_filter2_map_position,\n    a_last_filter2_is_constant\n  );\n\n  float foreground_status = choose_and_run_filter(\n    u_foreground_numeric,\n    a_foreground,\n    u_foreground_map_position,\n    a_foreground_is_constant\n  );\n\n  float last_foreground_status = choose_and_run_filter(\n    u_last_foreground_numeric,\n    a_last_foreground,\n    u_last_foreground_map_position,\n    a_last_foreground_is_constant\n  );\n  float fg_ease = mix(last_foreground_status, foreground_status, ease);\n  if (ease < ix_to_random(ix, 1.)) {\n    foreground_status = last_foreground_status;\n  }\n\n  /*if (a_foreground_is_constant) {\n    foreground_status = 1.;\n  }*/\n\n  bool was_filtered = last_filter2_status < .5 || last_filter_status < .5;\n  bool will_be_filtered = filter2_status < .5 || filter_status < .5;\n\n  bool overall_filter_status = will_be_filtered;\n\n  if (ease < ix_to_random(ix, 1.)) {\n    overall_filter_status = was_filtered;\n  }\n\n  if (overall_filter_status == true) {\n    gl_Position = discard_me;\n    return;\n  }\n\n  float size_multiplier = texture_float_lookup(\n    u_size_domain,\n    u_size_range,\n    u_size_transform, a_size,\n    u_size_map_position);\n\n  float last_size_multiplier = texture_float_lookup(\n    u_last_size_domain, u_last_size_range, u_last_size_transform, a_last_size,\n    u_last_size_map_position);\n\n  size_multiplier = u_base_size * \n     mix(last_size_multiplier, size_multiplier, ease);\n  \n  float depth_size_adjust = (1.0 - ix / (u_maxix));\n\n  // It\'s ugly on new macs when it jumps straight from one to two for a bunch of points at once.\n  float size_fuzz = exp(ix_to_random(ix, 3.1) * .5 - .25);\n\n  point_size_adjust = exp(log(u_k) * u_zoom_balance) * size_fuzz;// * depth_size_adjust;\n//  point_size_adjust = exp(log(u_k) * u_zoom_balance);\n  gl_PointSize = point_size_adjust * size_multiplier;\n  if (gl_PointSize <= 0.01) {\n    gl_Position = discard_me;\n    return;\n  }\n  vec2 jitter = vec2(0., 0.);\n//  \n\n  if (plot_actual_position && (u_jitter > 0. || u_last_jitter > 0.)) {\n    /* JITTER */\n    jitter = vec2(ix_to_random(ix, 2. + u_time), ix_to_random(ix, 3. + u_time)) * .01;\n    float jitter_radius_fraction;\n      jitter = calculate_jitter(\n        u_jitter, ix,\n        u_jitter_radius_domain,        u_jitter_radius_range,\n        u_jitter_radius_transform,        a_jitter_radius,\n        u_jitter_radius_map_position,        a_jitter_radius_is_constant,\n        u_jitter_speed_domain,\n        u_jitter_speed_range,\n        u_jitter_speed_transform, a_jitter_speed,\n        u_jitter_speed_map_position, a_jitter_speed_is_constant\n      );\n    vec2 last_jitter;\n    if (ease < 1.) {\n      last_jitter = calculate_jitter(\n        u_last_jitter, ix,\n        u_last_jitter_radius_domain,       \n        u_last_jitter_radius_range,\n        u_last_jitter_radius_transform,        \n        a_last_jitter_radius,\n        u_last_jitter_radius_map_position,\n        a_last_jitter_radius_is_constant,\n        u_last_jitter_speed_domain,\n        u_last_jitter_speed_range,\n        u_last_jitter_speed_transform,\n        a_last_jitter_speed,\n        u_last_jitter_speed_map_position,\n        a_last_jitter_speed_is_constant\n      );\n      jitter = mix(last_jitter, jitter, ease);\n    }\n    if (u_jitter == 5.) {\n      // temporal jitter: rescale the point from the first dimension\n      gl_PointSize *= jitter.x;\n      jitter = vec2(0., 0.);\n      if (gl_PointSize < 0.05) {\n        gl_Position = discard_me;\n        return;\n      }\n    }\n    gl_Position = vec4(position + jitter, 0., 1.);\n  } else {\n    gl_Position = vec4(position + jitter, 0., 1.);\n  }  \n  if (u_color_picker_mode == 1.) {\n    // Add one so the first element is distinguishable.\n    fill = encode_float_1604150559(ix + 1.);\n  } else if (u_color_picker_mode == 2.) {\n    fill = encode_float_1604150559(u_tile_id + 1.);\n  } else if (u_color_picker_mode == 3.) {\n    fill = encode_float_1604150559(ix_in_tile + 1.);\n  } else {\n    run_color_fill(ease);\n  }\n\n  // Are we in a mode where we need to plot foreground and background?\n  if (u_foreground_number > -1.) {\n    // In that case, throw away points from the other half of the set.\n    if (u_foreground_number != foreground_status) {\n      gl_Position = discard_me;\n      return;\n    }\n    if (u_foreground_number == 1.) {\n      gl_PointSize *= u_foreground_size;\n      fill = vec4(fill.rgb, min(1., fill.a * u_foreground_alpha));\n    }\n    // If we\'re in background mode, got to change the points a bit.\n    if (u_foreground_number == 0.) { \n      gl_PointSize *= u_background_size;\n      // Should the color piker run?\n      if (u_color_picker_mode >= 1.) {\n        if (u_background_mouseover == 1.) {\n          // pass--keep the colors as are.\n        } else {\n          gl_Position = discard_me;\n          return;\n        }\n      } else {\n       float alpha = min(u_alpha * u_background_rgba.a, 1.);\n        if (alpha < 1./255.) {\n          // Very light alphas must be quantized. Only show an appropriate sample.\n          float seed = ix_to_random(ix, 38.6);\n          if (alpha * 255. < seed) {\n            gl_Position = discard_me;\n            return;\n          } else {\n            alpha = 1. / 255.;\n          }\n        }\n        fill = vec4(u_background_rgba.rgb, alpha);\n      }\n    }\n  }\n    \n  point_size = gl_PointSize;\n\n/*  if (u_use_glyphset > 0. && point_size > 5.0) {\n    float random_letter = floor(64. * ix_to_random(ix, 1.3));\n    letter_pos = vec2(\n      // start at a number between 0 and 7.\n      mod(random_letter, 8.) / 8.,\n      floor(random_letter / 8.) / 8.\n    );\n    gl_PointSize *= 3.0;\n  }*/\n}\n',count:function(e,t){return t.manager.count},attributes:{},uniforms:{u_update_time:n.prop("update_time"),u_transition_duration:function(e,t){return t.prefs.duration},u_only_color:function(e,t){return void 0!==t.only_color?t.only_color:-2},u_use_glyphset:function(e,t){return t.prefs.glyph_set?1:0},u_glyphset:function(e,n){var r=n.prefs;return r.glyph_set?t.get_image_texture(r.glyph_set):t.textures.empty_texture},u_color_picker_mode:n.prop("color_picker_mode"),u_position_interpolation_mode:function(){return this.aes.position_interpolation?1:0},u_grid_mode:function(e,t){return t.grid_mode},u_colors_as_grid:n.prop("colors_as_grid"),u_tile_id:function(e,t){return t.tile_id},u_width:function(e){return e.viewportWidth},u_height:function(e){return e.viewportHeight},u_one_d_aesthetic_map:this.aes.aesthetic_map.one_d_texture,u_color_aesthetic_map:this.aes.aesthetic_map.color_texture,u_aspect_ratio:function(e){return e.viewportWidth/e.viewportHeight},u_zoom_balance:n.prop("zoom_balance"),u_base_size:function(e,t){return t.point_size},u_maxix:function(e,t){return t.max_ix},u_alpha:function(e,t){return t.alpha},u_foreground_number:function(e,t){return t.foreground},u_foreground_alpha:function(){return t.render_props.foreground_opacity},u_background_rgba:function(){var e=ii(t.prefs.background_options.color);return[e.r/255,e.g/255,e.b/255,t.prefs.background_options.opacity]},u_background_mouseover:function(){return t.prefs.background_options.mouseover?1:0},u_background_size:function(){return t.render_props.background_size},u_foreground_size:function(){return t.render_props.foreground_size},u_k:function(e,t){return t.transform.k},u_window_scale:n.prop("webgl_scale"),u_last_window_scale:n.prop("last_webgl_scale"),u_time:function(e){return e.time},u_filter_numeric:function(){return this.aes.dim("filter").current.ops_to_array()},u_last_filter_numeric:function(){return this.aes.dim("filter").last.ops_to_array()},u_filter2_numeric:function(){return this.aes.dim("filter2").current.ops_to_array()},u_last_filter2_numeric:function(){return this.aes.dim("filter2").last.ops_to_array()},u_foreground_numeric:function(){return this.aes.dim("foreground").current.ops_to_array()},u_last_foreground_numeric:function(){return this.aes.dim("foreground").last.ops_to_array()},u_jitter:function(){return t.aes.dim("jitter_radius").current.jitter_int_format},u_last_jitter:function(){return t.aes.dim("jitter_radius").last.jitter_int_format},u_zoom:function(e,t){return t.zoom_matrix}}},i=T(bt(0,16));try{var a=function(){var t=e.value;r.attributes["buffer_".concat(t)]=function(e,n){var r=n.manager,i=n.buffer_num_to_variable;return r.regl_elements.get(i[t])||{constant:0}}};for(i.s();!(e=i.n()).done;)a()}catch(l){i.e(l)}finally{i.f()}for(var o=function(){for(var e=s[u],n=function(){var n=a[i],o="current"===n?"":"last_";r.uniforms["u_".concat(o).concat(e,"_map_position")]=function(){return t.aes.dim(e)[n].map_position},r.uniforms["u_".concat(o).concat(e,"_buffer_num")]=function(t,r){var i=r.aes_to_buffer_num["".concat(e,"--").concat(n)];return void 0===i?-1:i},r.uniforms["u_".concat(o).concat(e,"_domain")]=function(){return t.aes.dim(e)[n].webGLDomain},r.uniforms["u_".concat(o).concat(e,"_range")]=function(){return t.aes.dim(e)[n].range},r.uniforms["u_".concat(o).concat(e,"_transform")]=function(){var r=t.aes.dim(e)[n].transform;if("linear"===r)return 1;if("sqrt"===r)return 2;if("log"===r)return 3;if("literal"===r)return 4;throw"Invalid transform"},r.uniforms["u_".concat(o).concat(e,"_constant")]=function(){return t.aes.dim(e)[n].constant}},i=0,a=["current","last"];i<a.length;i++)n()},u=0,s=["x","y","color","jitter_radius","x0","y0","jitter_speed","size","filter","filter2","foreground"];u<s.length;u++)o();return this._renderer=n(r),this._renderer}},{key:"allocate_aesthetic_buffers",value:function(){for(var e=[],t=["x","y","color","x0","y0","size","jitter_radius","jitter_speed","filter","filter2","foreground"],n=0,r=t;n<r.length;n++)for(var i=r[n],a=0,o=["current","last"];a<o.length;a++){var u=o[a];try{this.aes.dim(i)[u].field&&e.push({aesthetic:i,time:u,field:this.aes.dim(i)[u].field})}catch(g){throw this.reglframe=void 0,g}}e.sort((function(e,n){return e.time<n.time?-1:n.time<e.time?1:t.indexOf(e.aesthetic)-t.indexOf(n.aesthetic)}));for(var s={},l={ix:0,ix_in_tile:1},c=1,f=0,d=e;f<d.length;f++){var h=d[f],p=h.aesthetic,m=h.time,y=h.field,_="".concat(p,"--").concat(m);void 0===l[y]?c++<16?(s[_]=c,l[y]=c):s[_]=s["".concat(p,"--current")]:s[_]=l[y]}var b=v(Object.keys(l));this.aes_to_buffer_num=s,this.variable_to_buffer_num=l,this.buffer_num_to_variable=b}},{key:"discard_share",get:function(){return 0}}]),n}(tu),yl=function(){function e(t,n,r){E(this,e),B(this,"tile"),B(this,"regl"),B(this,"renderer"),B(this,"regl_elements"),this.tile=n,this.regl=t,this.renderer=r,this.regl_elements=new Map([["ix_in_tile",{offset:0,stride:4,buffer:r.integer_buffer,byte_size:4*Math.pow(2,16)}]])}return I(e,[{key:"ready",value:function(){var e,t=this.renderer,n=new Set,r=T(t.aes);try{for(r.s();!(e=r.n()).done;){var i,a=f(e.value,2),o=(a[0],T(a[1].states));try{for(o.s();!(i=o.n()).done;){var u=i.value;u.field&&n.add(u.field)}}catch(d){o.e(d)}finally{o.f()}}}catch(d){r.e(d)}finally{r.f()}for(var s=0,l=["ix","ix_in_tile"].concat(v(n));s<l.length;s++){var c=l[s];if(!this.ready_or_not_here_it_comes(c).ready)return!1}return!0}},{key:"ready_or_not_here_it_comes",value:function(e){var t=this,n=this.renderer,r=this.regl_elements,i=this.regl_elements.get(e);return null===i?{ready:!1,promise:null}:void 0===i?this.tile.ready?(r.set(e,null),{ready:!1,promise:new Promise((function(r){n.deferred_functions.push(s(o().mark((function n(){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.create_regl_buffer(e);case 2:r();case 3:case"end":return n.stop()}}),n)}))))}))}):{ready:!1,promise:null}:{ready:!0,promise:Promise.resolve()}}},{key:"release",value:function(e){var t;(t=this.regl_elements.get(e))&&this.renderer.buffers.free_block(t)}},{key:"count",get:function(){return this.tile.record_batch.numRows}},{key:"create_buffer_data",value:function(){var e=s(o().mark((function e(t){var n,r,i,a,u,s,l,c,f,d,h,p,v;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=this.tile).ready){e.next=3;break}throw new Error("Tile table not present.");case 3:if(i=r.record_batch.getChild(t)){e.next=18;break}return e.next=7,r.dataset.transformations[t];case 7:if(void 0===e.sent){e.next=16;break}return e.next=11,r.apply_transformation(t);case 11:if(i=r.record_batch.getChild(t)){e.next=14;break}throw new Error("".concat(t," was not created."));case 14:e.next=18;break;case 16:throw a=r.record_batch.schema.fields.map((function(e){return e.name})),new Error("Requested ".concat(t,' but table only has columns ["').concat(a.join('", "'),']"'));case 18:if(3===i.type.typeId){e.next=37;break}if(u=new Float32Array(r.record_batch.numRows),s=i.data[0],!i.type.dictionary){e.next=25;break}for(l=0;l<r.record_batch.numRows;l++)u[l]=s.values[l]-2047;e.next=36;break;case 25:if(2!==s.stride||10!==i.type.typeId){e.next=35;break}if(c=new Int32Array(s.values).buffer,f=new BigInt64Array(c),d=null==(n=null==i?void 0:i.type)?void 0:n.unit,42!==(h=0===d?.001:1===d?1:2===d?1e3:3===d?1e6:42)){e.next=32;break}throw new Error("Unknown time type ".concat(d));case 32:for(p=0;p<r.record_batch.numRows;p++)u[p]=Number(f[p])/h;e.next=36;break;case 35:for(v=0;v<r.record_batch.numRows;v++)u[v]=Number(s.values[v]);case 36:return e.abrupt("return",u);case 37:if(i.data[0].values.constructor!==Float64Array){e.next=39;break}return e.abrupt("return",new Float32Array(i.data[0].values));case 39:return e.abrupt("return",i.data[0].values);case 40:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"create_regl_buffer",value:function(){var e=s(o().mark((function e(t){var n,r,i,a,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.regl_elements,r=this.renderer,e.next=3,this.create_buffer_data(t);case 3:if((i=e.sent).constructor===Float32Array){e.next=7;break}throw console.warn(typeof i,i),new Error("Buffer data must be a Float32Array");case 7:4,a=i.length,u=r.buffers.allocate_block(a,4),n.set(t,u),u.buffer.subdata(i,u.offset);case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),_l=function(){function e(t,n){E(this,e),B(this,"regl"),B(this,"buffers"),B(this,"buffer_size"),B(this,"pointer"),B(this,"freed_buffers",[]),this.regl=t,this.buffer_size=n,this.buffers=[],this.pointer=0,this.generate_new_buffer()}return I(e,[{key:"generate_new_buffer",value:function(){this.buffers.length&&this.buffer_size-this.pointer>128&&this.freed_buffers.push({buffer:this.buffers[0],offset:this.pointer,stride:4,byte_size:this.buffer_size-this.pointer}),this.pointer=0,this.buffers.unshift(this.regl.buffer({type:"float",length:this.buffer_size,usage:"dynamic"}))}},{key:"free_block",value:function(e){this.freed_buffers.push(e)}},{key:"allocate_block",value:function(e,t){var n,r=e*t,i=0,a=T(this.freed_buffers);try{for(a.s();!(n=a.n()).done;){var o=n.value;if(o.byte_size===r)return this.freed_buffers.splice(i,1),{buffer:o.buffer,offset:o.offset,stride:t,byte_size:r};i+=1}}catch(s){a.e(s)}finally{a.f()}this.pointer+e*t>this.buffer_size&&this.generate_new_buffer();var u={buffer:this.buffers[0],offset:this.pointer,stride:t,byte_size:e*t};return this.pointer+=e*t,u}}]),e}();function bl(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{s(r.next(e))}catch(t){a(t)}}function u(e){try{s(r.throw(e))}catch(t){a(t)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}s((r=r.apply(e,t||[])).next())}))}function gl(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function wl(e){return this instanceof wl?(this.v=e,this):new wl(e)}function xl(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),a=[];return r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r;function o(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){a.push([e,t,n,r])>1||u(e,t)}))})}function u(e,t){try{(n=i[e](t)).value instanceof wl?Promise.resolve(n.value.v).then(s,l):c(a[0][2],n)}catch(r){c(a[0][3],r)}var n}function s(e){u("next",e)}function l(e){u("throw",e)}function c(e,t){e(t),a.shift(),a.length&&u(a[0][0],a[0][1])}}function kl(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:wl(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function Sl(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=gl(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,i,(t=e[n](t)).done,t.value)}))}}}var Al=new TextDecoder("utf-8"),El=function(e){return Al.decode(e)},Ol=new TextEncoder,Il=function(e){return Ol.encode(e)},Tl=f(function(){var e=function(){throw new Error("BigInt is not available in this environment")};function t(){throw e()}return t.asIntN=function(){throw e()},t.asUintN=function(){throw e()},"undefined"!==typeof BigInt?[BigInt,!0]:[t,!1]}(),2),jl=(Tl[0],Tl[1]),Cl=f(function(){var e=function(){throw new Error("BigInt64Array is not available in this environment")};return"undefined"!==typeof BigInt64Array?[BigInt64Array,!0]:[function(){function t(){throw E(this,t),e()}return I(t,null,[{key:"BYTES_PER_ELEMENT",get:function(){return 8}},{key:"of",value:function(){throw e()}},{key:"from",value:function(){throw e()}}]),t}(),!1]}(),2),Ml=Cl[0],zl=(Cl[1],f(function(){var e=function(){throw new Error("BigUint64Array is not available in this environment")};return"undefined"!==typeof BigUint64Array?[BigUint64Array,!0]:[function(){function t(){throw E(this,t),e()}return I(t,null,[{key:"BYTES_PER_ELEMENT",get:function(){return 8}},{key:"of",value:function(){throw e()}},{key:"from",value:function(){throw e()}}]),t}(),!1]}(),2)),Nl=zl[0],Dl=(zl[1],function(e){return"function"===typeof e}),Bl=function(e){return null!=e&&Object(e)===e},Fl=function(e){return Bl(e)&&Dl(e.then)},Pl=function(e){return Bl(e)&&Dl(e[Symbol.iterator])},Ll=function(e){return Bl(e)&&Dl(e[Symbol.asyncIterator])},Rl=function(e){return Bl(e)&&Bl(e.schema)},Ul=function(e){return Bl(e)&&"done"in e&&"value"in e},Vl=function(e){return Bl(e)&&Dl(e.stat)&&function(e){return"number"===typeof e}(e.fd)},Wl=function(e){return Bl(e)&&Hl(e.body)},Yl=function(e){return"_getDOMStream"in e&&"_getNodeStream"in e},Hl=function(e){return Bl(e)&&Dl(e.cancel)&&Dl(e.getReader)&&!Yl(e)},ql=function(e){return Bl(e)&&Dl(e.read)&&Dl(e.pipe)&&function(e){return"boolean"===typeof e}(e.readable)&&!Yl(e)},Gl=function(e){return Bl(e)&&Dl(e.clear)&&Dl(e.bytes)&&Dl(e.position)&&Dl(e.setPosition)&&Dl(e.capacity)&&Dl(e.getBufferIdentifier)&&Dl(e.createLong)},$l="undefined"!==typeof SharedArrayBuffer?SharedArrayBuffer:ArrayBuffer;function Xl(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.byteLength,i=e.byteLength,a=new Uint8Array(e.buffer,e.byteOffset,i),o=new Uint8Array(t.buffer,t.byteOffset,Math.min(r,i));return a.set(o,n),e}function Ql(e,t){for(var n,r,i,a=function(e){for(var t,n,r,i,a,o,u=e[0]?[e[0]]:[],s=0,l=0,c=e.length;++s<c;)if(a=u[l],o=e[s],!a||!o||a.buffer!==o.buffer||o.byteOffset<a.byteOffset)o&&(u[++l]=o);else{var f=a;t=f.byteOffset,r=f.byteLength;var d=o;n=d.byteOffset,i=d.byteLength,t+r<n||n+i<t?o&&(u[++l]=o):u[l]=new Uint8Array(a.buffer,t,n-t+i)}return u}(e),o=a.reduce((function(e,t){return e+t.byteLength}),0),u=0,s=-1,l=Math.min(t||Number.POSITIVE_INFINITY,o),c=a.length;++s<c;){if(l<=u+(r=(n=a[s]).subarray(0,Math.min(n.length,l-u))).length){r.length<n.length?a[s]=n.subarray(r.length):r.length===n.length&&s++,i?Xl(i,r,u):i=r;break}Xl(i||(i=new Uint8Array(l)),r,u),u+=r.length}return[i||new Uint8Array(0),a.slice(s),o-(i?i.byteLength:0)]}function Kl(e,t){var n=Ul(t)?t.value:t;return n instanceof e?e===Uint8Array?new e(n.buffer,n.byteOffset,n.byteLength):n:n?("string"===typeof n&&(n=Il(n)),n instanceof ArrayBuffer||n instanceof $l?new e(n):Gl(n)?Kl(e,n.bytes()):ArrayBuffer.isView(n)?n.byteLength<=0?new e(0):new e(n.buffer,n.byteOffset,n.byteLength/e.BYTES_PER_ELEMENT):e.from(n)):new e(0)}var Zl=function(e){return Kl(Int32Array,e)},Jl=function(e){return Kl(Uint8Array,e)},ec=function(e){return e.next(),e};function tc(e,t){var n,r;return o().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return n=o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:case"end":return e.stop()}}),e)})),r="string"===typeof t||ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof $l?n(t):Pl(t)?t:n(t),i.delegateYield(ec(o().mark((function t(n){var r;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=null;case 1:return t.t0=n,t.next=4,Kl(e,r);case 4:t.t1=t.sent,r=t.t0.next.call(t.t0,t.t1);case 6:if(!r.done){t.next=1;break}case 7:case"end":return t.stop()}}),t)}))(r[Symbol.iterator]())),"t0",3);case 3:return i.abrupt("return",new e);case 4:case"end":return i.stop()}}),M)}var nc=function(e){return tc(Uint8Array,e)};function rc(e,t){return xl(this,arguments,o().mark((function n(){var r,i,a;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!Fl(t)){n.next=20;break}return n.t0=wl,n.t1=wl,n.t2=kl,n.t3=Sl,n.t4=rc,n.t5=e,n.next=9,wl(t);case 9:return n.t6=n.sent,n.t7=(0,n.t4)(n.t5,n.t6),n.t8=(0,n.t3)(n.t7),n.delegateYield((0,n.t2)(n.t8),"t9",13);case 13:return n.t10=n.t9,n.next=16,(0,n.t1)(n.t10);case 16:return n.t11=n.sent,n.next=19,(0,n.t0)(n.t11);case 19:case 30:return n.abrupt("return",n.sent);case 20:return r=function(e){return xl(this,arguments,o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=wl,t.next=3,wl(e);case 3:return t.t1=t.sent,t.next=6,(0,t.t0)(t.t1);case 6:return t.next=8,t.sent;case 8:case"end":return t.stop()}}),t)})))},i=function(e){return xl(this,arguments,o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=wl,t.delegateYield(kl(Sl(ec(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=null;case 1:return e.t0=t,e.next=4,null===n||void 0===n?void 0:n.value;case 4:e.t1=e.sent,n=e.t0.next.call(e.t0,e.t1);case 6:if(!n.done){e.next=1;break}case 7:case"end":return e.stop()}}),e)}))(e[Symbol.iterator]())))),"t1",2);case 2:return t.t2=t.t1,t.next=5,(0,t.t0)(t.t2);case 5:case"end":return t.stop()}}),t)})))},a="string"===typeof t||ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof $l?r(t):Pl(t)?i(t):Ll(t)?t:r(t),n.t12=wl,n.delegateYield(kl(Sl(ec(function(t){return xl(this,arguments,o().mark((function n(){var r;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r=null;case 1:return n.t0=wl,n.t1=t,n.next=5,wl(Kl(e,r));case 5:return n.next=7,n.sent;case 7:return n.t2=n.sent,n.t3=n.t1.next.call(n.t1,n.t2),n.next=11,(0,n.t0)(n.t3);case 11:r=n.sent;case 12:if(!r.done){n.next=1;break}case 13:case"end":return n.stop()}}),n)})))}(a[Symbol.asyncIterator]())))),"t13",25);case 25:return n.t14=n.t13,n.next=28,(0,n.t12)(n.t14);case 28:return n.next=30,wl(new e);case 31:case"end":return n.stop()}}),n)})))}var ic=function(e){return rc(Uint8Array,e)};var ac=function(e){return fc(dc(e))},oc=function(e){return fc(function(e){return xl(this,arguments,o().mark((function t(){var n,r,i,a,u,s,l,c,d,h,p,v;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=function(){if("peek"===u)return Ql(i,s)[0];var e=f(Ql(i,s),3);return a=e[0],i=e[1],l=e[2],a},r=!1,i=[],l=0,t.next=6,wl(null);case 6:return t.next=8,t.sent;case 8:d=t.sent,u=d.cmd,s=d.size,h=ic(e)[Symbol.asyncIterator](),t.prev=12;case 13:if(!Number.isNaN(s-l)){t.next=19;break}return t.next=16,wl(h.next());case 16:t.t0=t.sent,t.next=22;break;case 19:return t.next=21,wl(h.next(s-l));case 21:t.t0=t.sent;case 22:if(p=t.t0,n=p.done,a=p.value,!n&&a.byteLength>0&&(i.push(a),l+=a.byteLength),!(n||s<=l)){t.next=35;break}case 27:return t.next=29,wl(c());case 29:return t.next=31,t.sent;case 31:v=t.sent,u=v.cmd,s=v.size;case 34:if(s<l){t.next=27;break}case 35:if(!n){t.next=13;break}case 36:t.next=44;break;case 38:if(t.prev=38,t.t1=t.catch(12),t.t2=(r=!0)&&"function"===typeof h.throw,!t.t2){t.next=44;break}return t.next=44,wl(h.throw(t.t1));case 44:if(t.prev=44,t.t3=!1===r&&"function"===typeof h.return,!t.t3){t.next=49;break}return t.next=49,wl(h.return(new Uint8Array(0)));case 49:return t.finish(44);case 50:return t.next=52,wl(null);case 52:return t.abrupt("return",t.sent);case 53:case"end":return t.stop()}}),t,null,[[12,38,44,50]])})))}(e))},uc=function(e){return fc(function(e){return xl(this,arguments,o().mark((function t(){var n,r,i,a,u,s,l,c,d,h,p,v;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=function(){if("peek"===u)return Ql(i,s)[0];var e=f(Ql(i,s),3);return a=e[0],i=e[1],l=e[2],a},n=!1,r=!1,i=[],l=0,t.next=6,wl(null);case 6:return t.next=8,t.sent;case 8:d=t.sent,u=d.cmd,s=d.size,h=new Cc(e),t.prev=12;case 13:if(!Number.isNaN(s-l)){t.next=19;break}return t.next=16,wl(h.read());case 16:t.t0=t.sent,t.next=22;break;case 19:return t.next=21,wl(h.read(s-l));case 21:t.t0=t.sent;case 22:if(p=t.t0,n=p.done,a=p.value,!n&&a.byteLength>0&&(i.push(Jl(a)),l+=a.byteLength),!(n||s<=l)){t.next=35;break}case 27:return t.next=29,wl(c());case 29:return t.next=31,t.sent;case 31:v=t.sent,u=v.cmd,s=v.size;case 34:if(s<l){t.next=27;break}case 35:if(!n){t.next=13;break}case 36:t.next=44;break;case 38:if(t.prev=38,t.t1=t.catch(12),t.t2=r=!0,!t.t2){t.next=44;break}return t.next=44,wl(h.cancel(t.t1));case 44:if(t.prev=44,!1!==r){t.next=50;break}return t.next=48,wl(h.cancel());case 48:t.next=51;break;case 50:e.locked&&h.releaseLock();case 51:return t.finish(44);case 52:return t.next=54,wl(null);case 54:return t.abrupt("return",t.sent);case 55:case"end":return t.stop()}}),t,null,[[12,38,44,52]])})))}(e))},sc=function(e){return fc(function(e){return xl(this,arguments,o().mark((function t(){var n,r,i,a,u,s,l,c,d,h,p,v,m,y,_;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return _=function(t,n){return d=c=null,new Promise((function(r,i){var o,u=T(t);try{for(u.s();!(o=u.n()).done;){var s=f(o.value,2),l=s[0],c=s[1];e.off(l,c)}}catch(a){u.e(a)}finally{u.f()}try{var d=e.destroy;d&&d.call(e,n),n=void 0}catch(h){n=h||n}finally{null!=n?i(n):r()}}))},h=function(){if("peek"===u)return Ql(c,s)[0];var e=f(Ql(c,s),3);return d=e[0],c=e[1],l=e[2],d},n=[],r="error",i=!1,a=null,l=0,c=[],t.next=9,wl(null);case 9:return t.next=11,t.sent;case 11:if(p=t.sent,u=p.cmd,s=p.size,!e.isTTY){t.next=22;break}return t.next=17,wl(new Uint8Array(0));case 17:return t.next=19,t.sent;case 19:return t.next=21,wl(null);case 21:return t.abrupt("return",t.sent);case 22:t.prev=22,n[0]=Mc(e,"end"),n[1]=Mc(e,"error");case 25:return n[2]=Mc(e,"readable"),t.next=28,wl(Promise.race(n.map((function(e){return e[2]}))));case 28:if(v=t.sent,m=f(v,2),r=m[0],a=m[1],"error"!==r){t.next=34;break}return t.abrupt("break",45);case 34:if((i="end"===r)||(Number.isFinite(s-l)?(d=Jl(e.read(s-l))).byteLength<s-l&&(d=Jl(e.read())):d=Jl(e.read()),d.byteLength>0&&(c.push(d),l+=d.byteLength)),!(i||s<=l)){t.next=44;break}case 36:return t.next=38,wl(h());case 38:return t.next=40,t.sent;case 40:y=t.sent,u=y.cmd,s=y.size;case 43:if(s<l){t.next=36;break}case 44:if(!i){t.next=25;break}case 45:return t.prev=45,t.next=48,wl(_(n,"error"===r?a:null));case 48:return t.finish(45);case 49:return t.next=51,wl(null);case 51:return t.abrupt("return",t.sent);case 52:case"end":return t.stop()}}),t,null,[[22,,45,49]])})))}(e))},lc=function(e,t){throw new Error('"toDOMStream" not available in this environment')},cc=function(e,t){throw new Error('"toNodeStream" not available in this environment')},fc=function(e){return e.next(),e};function dc(e){var t,n,r,i,a,u,s,l,c,d,h,p;return o().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return l=function(){if("peek"===a)return Ql(r,u)[0];var e=f(Ql(r,u),3);return i=e[0],r=e[1],s=e[2],i},n=!1,r=[],s=0,o.next=6,null;case 6:c=o.sent,a=c.cmd,u=c.size,d=nc(e)[Symbol.iterator](),o.prev=10;case 11:if(h=Number.isNaN(u-s)?d.next():d.next(u-s),t=h.done,i=h.value,!t&&i.byteLength>0&&(r.push(i),s+=i.byteLength),!(t||u<=s)){o.next=22;break}case 16:return o.next=18,l();case 18:p=o.sent,a=p.cmd,u=p.size;case 21:if(u<s){o.next=16;break}case 22:if(!t){o.next=11;break}case 23:o.next=28;break;case 25:o.prev=25,o.t0=o.catch(10),(n=!0)&&"function"===typeof d.throw&&d.throw(o.t0);case 28:return o.prev=28,!1===n&&"function"===typeof d.return&&d.return(null),o.finish(28);case 31:return o.abrupt("return",null);case 32:case"end":return o.stop()}}),z,null,[[10,25,28,31]])}var hc,pc,vc,mc,yc,_c,bc,gc,wc,xc,kc,Sc,Ac,Ec,Oc,Ic,Tc,jc,Cc=function(){function e(t){E(this,e),this.source=t,this.reader=null,this.reader=this.source.getReader(),this.reader.closed.catch((function(){}))}return I(e,[{key:"closed",get:function(){return this.reader?this.reader.closed.catch((function(){})):Promise.resolve()}},{key:"releaseLock",value:function(){this.reader&&this.reader.releaseLock(),this.reader=null}},{key:"cancel",value:function(e){return bl(this,void 0,void 0,o().mark((function t(){var n,r;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=this.reader,r=this.source,t.t0=n,!t.t0){t.next=5;break}return t.next=5,n.cancel(e).catch((function(){}));case 5:r&&r.locked&&this.releaseLock();case 6:case"end":return t.stop()}}),t,this)})))}},{key:"read",value:function(e){return bl(this,void 0,void 0,o().mark((function t(){var n;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==e){t.next=2;break}return t.abrupt("return",{done:null==this.reader,value:new Uint8Array(0)});case 2:return t.next=4,this.reader.read();case 4:return!(n=t.sent).done&&(n.value=Jl(n)),t.abrupt("return",n);case 7:case"end":return t.stop()}}),t,this)})))}}]),e}(),Mc=function(e,t){var n,r=function(e){return n([t,e])};return[t,r,new Promise((function(i){return(n=i)&&e.once(t,r)}))]};(pc=hc||(hc={}))[pc.V1=0]="V1",pc[pc.V2=1]="V2",pc[pc.V3=2]="V3",pc[pc.V4=3]="V4",pc[pc.V5=4]="V5",(mc=vc||(vc={}))[mc.Sparse=0]="Sparse",mc[mc.Dense=1]="Dense",(_c=yc||(yc={}))[_c.HALF=0]="HALF",_c[_c.SINGLE=1]="SINGLE",_c[_c.DOUBLE=2]="DOUBLE",(gc=bc||(bc={}))[gc.DAY=0]="DAY",gc[gc.MILLISECOND=1]="MILLISECOND",(xc=wc||(wc={}))[xc.SECOND=0]="SECOND",xc[xc.MILLISECOND=1]="MILLISECOND",xc[xc.MICROSECOND=2]="MICROSECOND",xc[xc.NANOSECOND=3]="NANOSECOND",(Sc=kc||(kc={}))[Sc.YEAR_MONTH=0]="YEAR_MONTH",Sc[Sc.DAY_TIME=1]="DAY_TIME",Sc[Sc.MONTH_DAY_NANO=2]="MONTH_DAY_NANO",(Ec=Ac||(Ac={}))[Ec.NONE=0]="NONE",Ec[Ec.Schema=1]="Schema",Ec[Ec.DictionaryBatch=2]="DictionaryBatch",Ec[Ec.RecordBatch=3]="RecordBatch",Ec[Ec.Tensor=4]="Tensor",Ec[Ec.SparseTensor=5]="SparseTensor",(Ic=Oc||(Oc={}))[Ic.NONE=0]="NONE",Ic[Ic.Null=1]="Null",Ic[Ic.Int=2]="Int",Ic[Ic.Float=3]="Float",Ic[Ic.Binary=4]="Binary",Ic[Ic.Utf8=5]="Utf8",Ic[Ic.Bool=6]="Bool",Ic[Ic.Decimal=7]="Decimal",Ic[Ic.Date=8]="Date",Ic[Ic.Time=9]="Time",Ic[Ic.Timestamp=10]="Timestamp",Ic[Ic.Interval=11]="Interval",Ic[Ic.List=12]="List",Ic[Ic.Struct=13]="Struct",Ic[Ic.Union=14]="Union",Ic[Ic.FixedSizeBinary=15]="FixedSizeBinary",Ic[Ic.FixedSizeList=16]="FixedSizeList",Ic[Ic.Map=17]="Map",Ic[Ic.Dictionary=-1]="Dictionary",Ic[Ic.Int8=-2]="Int8",Ic[Ic.Int16=-3]="Int16",Ic[Ic.Int32=-4]="Int32",Ic[Ic.Int64=-5]="Int64",Ic[Ic.Uint8=-6]="Uint8",Ic[Ic.Uint16=-7]="Uint16",Ic[Ic.Uint32=-8]="Uint32",Ic[Ic.Uint64=-9]="Uint64",Ic[Ic.Float16=-10]="Float16",Ic[Ic.Float32=-11]="Float32",Ic[Ic.Float64=-12]="Float64",Ic[Ic.DateDay=-13]="DateDay",Ic[Ic.DateMillisecond=-14]="DateMillisecond",Ic[Ic.TimestampSecond=-15]="TimestampSecond",Ic[Ic.TimestampMillisecond=-16]="TimestampMillisecond",Ic[Ic.TimestampMicrosecond=-17]="TimestampMicrosecond",Ic[Ic.TimestampNanosecond=-18]="TimestampNanosecond",Ic[Ic.TimeSecond=-19]="TimeSecond",Ic[Ic.TimeMillisecond=-20]="TimeMillisecond",Ic[Ic.TimeMicrosecond=-21]="TimeMicrosecond",Ic[Ic.TimeNanosecond=-22]="TimeNanosecond",Ic[Ic.DenseUnion=-23]="DenseUnion",Ic[Ic.SparseUnion=-24]="SparseUnion",Ic[Ic.IntervalDayTime=-25]="IntervalDayTime",Ic[Ic.IntervalYearMonth=-26]="IntervalYearMonth",(jc=Tc||(Tc={}))[jc.OFFSET=0]="OFFSET",jc[jc.DATA=1]="DATA",jc[jc.VALIDITY=2]="VALIDITY",jc[jc.TYPE=3]="TYPE";function zc(e){if(null===e)return"null";if(undefined===e)return"undefined";switch(typeof e){case"number":case"bigint":return"".concat(e);case"string":return'"'.concat(e,'"')}return"function"===typeof e[Symbol.toPrimitive]?e[Symbol.toPrimitive]("string"):ArrayBuffer.isView(e)?e instanceof BigInt64Array||e instanceof BigUint64Array?"[".concat(v(e).map((function(e){return zc(e)})),"]"):"[".concat(e,"]"):ArrayBuffer.isView(e)?"[".concat(e,"]"):JSON.stringify(e,(function(e,t){return"bigint"===typeof t?"".concat(t):t}))}var Nc,Dc,Bc=Symbol.for("isArrowBigNum");function Fc(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return 0===n.length?Object.setPrototypeOf(Kl(this.TypedArray,e),this.constructor.prototype):Object.setPrototypeOf(p(this.TypedArray,[e].concat(n)),this.constructor.prototype)}function Pc(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Fc.apply(this,t)}function Lc(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Fc.apply(this,t)}function Rc(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Fc.apply(this,t)}function Uc(e){var t=e.buffer,n=e.byteOffset,r=e.length,i=e.signed,a=new Nl(t,n,r),o=i&&a[a.length-1]&BigInt(1)<<BigInt(63),u=o?BigInt(1):BigInt(0),s=BigInt(0);if(o){var l,c=T(a);try{for(c.s();!(l=c.n()).done;){u+=~l.value*(BigInt(1)<<BigInt(32)*s++)}}catch(h){c.e(h)}finally{c.f()}u*=BigInt(-1)}else{var f,d=T(a);try{for(d.s();!(f=d.n()).done;){u+=f.value*(BigInt(1)<<BigInt(32)*s++)}}catch(h){d.e(h)}finally{d.f()}}return u}function Vc(e){var t="",n=new Uint32Array(2),r=new Uint16Array(e.buffer,e.byteOffset,e.byteLength/2),i=new Uint32Array((r=new Uint16Array(r).reverse()).buffer),a=-1,o=r.length-1;do{for(n[0]=r[a=0];a<o;)r[a++]=n[1]=n[0]/10,n[0]=(n[0]-10*n[1]<<16)+r[a];r[a]=n[1]=n[0]/10,n[0]=n[0]-10*n[1],t="".concat(n[0]).concat(t)}while(i[0]||i[1]||i[2]||i[3]);return null!==t&&void 0!==t?t:"0"}Fc.prototype[Bc]=!0,Fc.prototype.toJSON=function(){return'"'.concat(Nc(this),'"')},Fc.prototype.valueOf=function(){return Uc(this)},Fc.prototype.toString=function(){return Nc(this)},Fc.prototype[Symbol.toPrimitive]=function(){switch(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default"){case"number":return Uc(this);case"string":return Nc(this);case"default":return Dc(this)}return Nc(this)},Object.setPrototypeOf(Pc.prototype,Object.create(Int32Array.prototype)),Object.setPrototypeOf(Lc.prototype,Object.create(Uint32Array.prototype)),Object.setPrototypeOf(Rc.prototype,Object.create(Uint32Array.prototype)),Object.assign(Pc.prototype,Fc.prototype,{constructor:Pc,signed:!0,TypedArray:Int32Array,BigIntArray:Ml}),Object.assign(Lc.prototype,Fc.prototype,{constructor:Lc,signed:!1,TypedArray:Uint32Array,BigIntArray:Nl}),Object.assign(Rc.prototype,Fc.prototype,{constructor:Rc,signed:!0,TypedArray:Uint32Array,BigIntArray:Nl}),jl?(Dc=function(e){return 8===e.byteLength?new e.BigIntArray(e.buffer,e.byteOffset,1)[0]:Vc(e)},Nc=function(e){return 8===e.byteLength?"".concat(new e.BigIntArray(e.buffer,e.byteOffset,1)[0]):Vc(e)}):Dc=Nc=Vc;var Wc,Yc,Hc,qc,Gc,$c,Xc,Qc,Kc,Zc,Jc,ef,tf,nf,rf,af,of,uf,sf,lf,cf=function(){function e(t,n){return E(this,e),e.new(t,n)}return I(e,null,[{key:"new",value:function(e,t){switch(t){case!0:return new Pc(e);case!1:return new Lc(e)}switch(e.constructor){case Int8Array:case Int16Array:case Int32Array:case Ml:return new Pc(e)}return 16===e.byteLength?new Rc(e):new Lc(e)}},{key:"signed",value:function(e){return new Pc(e)}},{key:"unsigned",value:function(e){return new Lc(e)}},{key:"decimal",value:function(e){return new Rc(e)}}]),e}(),ff=function(){function e(){E(this,e)}return I(e,[{key:"typeId",get:function(){return Oc.NONE}}],[{key:"isNull",value:function(e){return(null===e||void 0===e?void 0:e.typeId)===Oc.Null}},{key:"isInt",value:function(e){return(null===e||void 0===e?void 0:e.typeId)===Oc.Int}},{key:"isFloat",value:function(e){return(null===e||void 0===e?void 0:e.typeId)===Oc.Float}},{key:"isBinary",value:function(e){return(null===e||void 0===e?void 0:e.typeId)===Oc.Binary}},{key:"isUtf8",value:function(e){return(null===e||void 0===e?void 0:e.typeId)===Oc.Utf8}},{key:"isBool",value:function(e){return(null===e||void 0===e?void 0:e.typeId)===Oc.Bool}},{key:"isDecimal",value:function(e){return(null===e||void 0===e?void 0:e.typeId)===Oc.Decimal}},{key:"isDate",value:function(e){return(null===e||void 0===e?void 0:e.typeId)===Oc.Date}},{key:"isTime",value:function(e){return(null===e||void 0===e?void 0:e.typeId)===Oc.Time}},{key:"isTimestamp",value:function(e){return(null===e||void 0===e?void 0:e.typeId)===Oc.Timestamp}},{key:"isInterval",value:function(e){return(null===e||void 0===e?void 0:e.typeId)===Oc.Interval}},{key:"isList",value:function(e){return(null===e||void 0===e?void 0:e.typeId)===Oc.List}},{key:"isStruct",value:function(e){return(null===e||void 0===e?void 0:e.typeId)===Oc.Struct}},{key:"isUnion",value:function(e){return(null===e||void 0===e?void 0:e.typeId)===Oc.Union}},{key:"isFixedSizeBinary",value:function(e){return(null===e||void 0===e?void 0:e.typeId)===Oc.FixedSizeBinary}},{key:"isFixedSizeList",value:function(e){return(null===e||void 0===e?void 0:e.typeId)===Oc.FixedSizeList}},{key:"isMap",value:function(e){return(null===e||void 0===e?void 0:e.typeId)===Oc.Map}},{key:"isDictionary",value:function(e){return(null===e||void 0===e?void 0:e.typeId)===Oc.Dictionary}},{key:"isDenseUnion",value:function(t){return e.isUnion(t)&&t.mode===vc.Dense}},{key:"isSparseUnion",value:function(t){return e.isUnion(t)&&t.mode===vc.Sparse}}]),e}();Wc=Symbol.toStringTag,ff[Wc]=((lf=ff.prototype).children=null,lf.ArrayType=Array,lf[Symbol.toStringTag]="DataType");var df=function(e){k(n,e);var t=S(n);function n(){return E(this,n),t.apply(this,arguments)}return I(n,[{key:"toString",value:function(){return"Null"}},{key:"typeId",get:function(){return Oc.Null}}]),n}(ff);Yc=Symbol.toStringTag,df[Yc]=function(e){return e[Symbol.toStringTag]="Null"}(df.prototype);var hf=function(e){k(n,e);var t=S(n);function n(e,r){var i;return E(this,n),(i=t.call(this)).isSigned=e,i.bitWidth=r,i}return I(n,[{key:"typeId",get:function(){return Oc.Int}},{key:"ArrayType",get:function(){switch(this.bitWidth){case 8:return this.isSigned?Int8Array:Uint8Array;case 16:return this.isSigned?Int16Array:Uint16Array;case 32:return this.isSigned?Int32Array:Uint32Array;case 64:return this.isSigned?BigInt64Array:BigUint64Array}throw new Error("Unrecognized ".concat(this[Symbol.toStringTag]," type"))}},{key:"toString",value:function(){return"".concat(this.isSigned?"I":"Ui","nt").concat(this.bitWidth)}}]),n}(ff);Hc=Symbol.toStringTag,hf[Hc]=function(e){return e.isSigned=null,e.bitWidth=null,e[Symbol.toStringTag]="Int"}(hf.prototype);var pf=function(e){k(n,e);var t=S(n);function n(){return E(this,n),t.call(this,!0,8)}return I(n,[{key:"ArrayType",get:function(){return Int8Array}}]),n}(hf),vf=function(e){k(n,e);var t=S(n);function n(){return E(this,n),t.call(this,!0,16)}return I(n,[{key:"ArrayType",get:function(){return Int16Array}}]),n}(hf),mf=function(e){k(n,e);var t=S(n);function n(){return E(this,n),t.call(this,!0,32)}return I(n,[{key:"ArrayType",get:function(){return Int32Array}}]),n}(hf),yf=function(e){k(n,e);var t=S(n);function n(){return E(this,n),t.call(this,!0,64)}return I(n,[{key:"ArrayType",get:function(){return BigInt64Array}}]),n}(hf),_f=function(e){k(n,e);var t=S(n);function n(){return E(this,n),t.call(this,!1,8)}return I(n,[{key:"ArrayType",get:function(){return Uint8Array}}]),n}(hf),bf=function(e){k(n,e);var t=S(n);function n(){return E(this,n),t.call(this,!1,16)}return I(n,[{key:"ArrayType",get:function(){return Uint16Array}}]),n}(hf),gf=function(e){k(n,e);var t=S(n);function n(){return E(this,n),t.call(this,!1,32)}return I(n,[{key:"ArrayType",get:function(){return Uint32Array}}]),n}(hf),wf=function(e){k(n,e);var t=S(n);function n(){return E(this,n),t.call(this,!1,64)}return I(n,[{key:"ArrayType",get:function(){return BigUint64Array}}]),n}(hf);Object.defineProperty(pf.prototype,"ArrayType",{value:Int8Array}),Object.defineProperty(vf.prototype,"ArrayType",{value:Int16Array}),Object.defineProperty(mf.prototype,"ArrayType",{value:Int32Array}),Object.defineProperty(yf.prototype,"ArrayType",{value:BigInt64Array}),Object.defineProperty(_f.prototype,"ArrayType",{value:Uint8Array}),Object.defineProperty(bf.prototype,"ArrayType",{value:Uint16Array}),Object.defineProperty(gf.prototype,"ArrayType",{value:Uint32Array}),Object.defineProperty(wf.prototype,"ArrayType",{value:BigUint64Array});var xf=function(e){k(n,e);var t=S(n);function n(e){var r;return E(this,n),(r=t.call(this)).precision=e,r}return I(n,[{key:"typeId",get:function(){return Oc.Float}},{key:"ArrayType",get:function(){switch(this.precision){case yc.HALF:return Uint16Array;case yc.SINGLE:return Float32Array;case yc.DOUBLE:return Float64Array}throw new Error("Unrecognized ".concat(this[Symbol.toStringTag]," type"))}},{key:"toString",value:function(){return"Float".concat(this.precision<<5||16)}}]),n}(ff);qc=Symbol.toStringTag,xf[qc]=function(e){return e.precision=null,e[Symbol.toStringTag]="Float"}(xf.prototype);var kf=function(e){k(n,e);var t=S(n);function n(){return E(this,n),t.call(this,yc.SINGLE)}return I(n)}(xf),Sf=function(e){k(n,e);var t=S(n);function n(){return E(this,n),t.call(this,yc.DOUBLE)}return I(n)}(xf);Object.defineProperty(kf.prototype,"ArrayType",{value:Float32Array}),Object.defineProperty(Sf.prototype,"ArrayType",{value:Float64Array});var Af=function(e){k(n,e);var t=S(n);function n(){return E(this,n),t.call(this)}return I(n,[{key:"typeId",get:function(){return Oc.Binary}},{key:"toString",value:function(){return"Binary"}}]),n}(ff);Gc=Symbol.toStringTag,Af[Gc]=function(e){return e.ArrayType=Uint8Array,e[Symbol.toStringTag]="Binary"}(Af.prototype);var Ef=function(e){k(n,e);var t=S(n);function n(){return E(this,n),t.call(this)}return I(n,[{key:"typeId",get:function(){return Oc.Utf8}},{key:"toString",value:function(){return"Utf8"}}]),n}(ff);$c=Symbol.toStringTag,Ef[$c]=function(e){return e.ArrayType=Uint8Array,e[Symbol.toStringTag]="Utf8"}(Ef.prototype);var Of=function(e){k(n,e);var t=S(n);function n(){return E(this,n),t.call(this)}return I(n,[{key:"typeId",get:function(){return Oc.Bool}},{key:"toString",value:function(){return"Bool"}}]),n}(ff);Xc=Symbol.toStringTag,Of[Xc]=function(e){return e.ArrayType=Uint8Array,e[Symbol.toStringTag]="Bool"}(Of.prototype);var If=function(e){k(n,e);var t=S(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:128;return E(this,n),(i=t.call(this)).scale=e,i.precision=r,i.bitWidth=a,i}return I(n,[{key:"typeId",get:function(){return Oc.Decimal}},{key:"toString",value:function(){return"Decimal[".concat(this.precision,"e").concat(this.scale>0?"+":"").concat(this.scale,"]")}}]),n}(ff);Qc=Symbol.toStringTag,If[Qc]=function(e){return e.scale=null,e.precision=null,e.ArrayType=Uint32Array,e[Symbol.toStringTag]="Decimal"}(If.prototype);var Tf=function(e){k(n,e);var t=S(n);function n(e){var r;return E(this,n),(r=t.call(this)).unit=e,r}return I(n,[{key:"typeId",get:function(){return Oc.Date}},{key:"toString",value:function(){return"Date".concat(32*(this.unit+1),"<").concat(bc[this.unit],">")}}]),n}(ff);Kc=Symbol.toStringTag,Tf[Kc]=function(e){return e.unit=null,e.ArrayType=Int32Array,e[Symbol.toStringTag]="Date"}(Tf.prototype);var jf=function(e){k(n,e);var t=S(n);function n(e,r){var i;return E(this,n),(i=t.call(this)).unit=e,i.bitWidth=r,i}return I(n,[{key:"typeId",get:function(){return Oc.Time}},{key:"toString",value:function(){return"Time".concat(this.bitWidth,"<").concat(wc[this.unit],">")}},{key:"ArrayType",get:function(){switch(this.bitWidth){case 32:return Int32Array;case 64:return BigInt64Array}throw new Error("Unrecognized ".concat(this[Symbol.toStringTag]," type"))}}]),n}(ff);Zc=Symbol.toStringTag,jf[Zc]=function(e){return e.unit=null,e.bitWidth=null,e[Symbol.toStringTag]="Time"}(jf.prototype);var Cf=function(e){k(n,e);var t=S(n);function n(e,r){var i;return E(this,n),(i=t.call(this)).unit=e,i.timezone=r,i}return I(n,[{key:"typeId",get:function(){return Oc.Timestamp}},{key:"toString",value:function(){return"Timestamp<".concat(wc[this.unit]).concat(this.timezone?", ".concat(this.timezone):"",">")}}]),n}(ff);Jc=Symbol.toStringTag,Cf[Jc]=function(e){return e.unit=null,e.timezone=null,e.ArrayType=Int32Array,e[Symbol.toStringTag]="Timestamp"}(Cf.prototype);var Mf=function(e){k(n,e);var t=S(n);function n(e){var r;return E(this,n),(r=t.call(this)).unit=e,r}return I(n,[{key:"typeId",get:function(){return Oc.Interval}},{key:"toString",value:function(){return"Interval<".concat(kc[this.unit],">")}}]),n}(ff);ef=Symbol.toStringTag,Mf[ef]=function(e){return e.unit=null,e.ArrayType=Int32Array,e[Symbol.toStringTag]="Interval"}(Mf.prototype);var zf=function(e){k(n,e);var t=S(n);function n(e){var r;return E(this,n),(r=t.call(this)).children=[e],r}return I(n,[{key:"typeId",get:function(){return Oc.List}},{key:"toString",value:function(){return"List<".concat(this.valueType,">")}},{key:"valueType",get:function(){return this.children[0].type}},{key:"valueField",get:function(){return this.children[0]}},{key:"ArrayType",get:function(){return this.valueType.ArrayType}}]),n}(ff);tf=Symbol.toStringTag,zf[tf]=function(e){return e.children=null,e[Symbol.toStringTag]="List"}(zf.prototype);var Nf=function(e){k(n,e);var t=S(n);function n(e){var r;return E(this,n),(r=t.call(this)).children=e,r}return I(n,[{key:"typeId",get:function(){return Oc.Struct}},{key:"toString",value:function(){return"Struct<{".concat(this.children.map((function(e){return"".concat(e.name,":").concat(e.type)})).join(", "),"}>")}}]),n}(ff);nf=Symbol.toStringTag,Nf[nf]=function(e){return e.children=null,e[Symbol.toStringTag]="Struct"}(Nf.prototype);var Df=function(e){k(n,e);var t=S(n);function n(e,r,i){var a;return E(this,n),(a=t.call(this)).mode=e,a.children=i,a.typeIds=r=Int32Array.from(r),a.typeIdToChildIndex=r.reduce((function(e,t,n){return(e[t]=n)&&e||e}),Object.create(null)),a}return I(n,[{key:"typeId",get:function(){return Oc.Union}},{key:"toString",value:function(){return"".concat(this[Symbol.toStringTag],"<").concat(this.children.map((function(e){return"".concat(e.type)})).join(" | "),">")}}]),n}(ff);rf=Symbol.toStringTag,Df[rf]=function(e){return e.mode=null,e.typeIds=null,e.children=null,e.typeIdToChildIndex=null,e.ArrayType=Int8Array,e[Symbol.toStringTag]="Union"}(Df.prototype);var Bf=function(e){k(n,e);var t=S(n);function n(e){var r;return E(this,n),(r=t.call(this)).byteWidth=e,r}return I(n,[{key:"typeId",get:function(){return Oc.FixedSizeBinary}},{key:"toString",value:function(){return"FixedSizeBinary[".concat(this.byteWidth,"]")}}]),n}(ff);af=Symbol.toStringTag,Bf[af]=function(e){return e.byteWidth=null,e.ArrayType=Uint8Array,e[Symbol.toStringTag]="FixedSizeBinary"}(Bf.prototype);var Ff=function(e){k(n,e);var t=S(n);function n(e,r){var i;return E(this,n),(i=t.call(this)).listSize=e,i.children=[r],i}return I(n,[{key:"typeId",get:function(){return Oc.FixedSizeList}},{key:"valueType",get:function(){return this.children[0].type}},{key:"valueField",get:function(){return this.children[0]}},{key:"ArrayType",get:function(){return this.valueType.ArrayType}},{key:"toString",value:function(){return"FixedSizeList[".concat(this.listSize,"]<").concat(this.valueType,">")}}]),n}(ff);of=Symbol.toStringTag,Ff[of]=function(e){return e.children=null,e.listSize=null,e[Symbol.toStringTag]="FixedSizeList"}(Ff.prototype);var Pf=function(e){k(n,e);var t=S(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return E(this,n),(r=t.call(this)).children=[e],r.keysSorted=i,r}return I(n,[{key:"typeId",get:function(){return Oc.Map}},{key:"keyType",get:function(){return this.children[0].type.children[0].type}},{key:"valueType",get:function(){return this.children[0].type.children[1].type}},{key:"childType",get:function(){return this.children[0].type}},{key:"toString",value:function(){return"Map<{".concat(this.children[0].type.children.map((function(e){return"".concat(e.name,":").concat(e.type)})).join(", "),"}>")}}]),n}(ff);uf=Symbol.toStringTag,Pf[uf]=function(e){return e.children=null,e.keysSorted=null,e[Symbol.toStringTag]="Map_"}(Pf.prototype);var Lf,Rf=(Lf=-1,function(){return++Lf}),Uf=function(e){k(n,e);var t=S(n);function n(e,r,i,a){var o;return E(this,n),(o=t.call(this)).indices=r,o.dictionary=e,o.isOrdered=a||!1,o.id=null==i?Rf():"number"===typeof i?i:i.low,o}return I(n,[{key:"typeId",get:function(){return Oc.Dictionary}},{key:"children",get:function(){return this.dictionary.children}},{key:"valueType",get:function(){return this.dictionary}},{key:"ArrayType",get:function(){return this.dictionary.ArrayType}},{key:"toString",value:function(){return"Dictionary<".concat(this.indices,", ").concat(this.dictionary,">")}}]),n}(ff);function Vf(e){var t=e;switch(e.typeId){case Oc.Decimal:return e.bitWidth/32;case Oc.Timestamp:return 2;case Oc.Date:case Oc.Interval:return 1+t.unit;case Oc.FixedSizeList:return t.listSize;case Oc.FixedSizeBinary:return t.byteWidth;default:return 1}}sf=Symbol.toStringTag,Uf[sf]=function(e){return e.id=null,e.indices=null,e.isOrdered=null,e.dictionary=null,e[Symbol.toStringTag]="Dictionary"}(Uf.prototype);var Wf=function(){function e(){E(this,e)}return I(e,[{key:"visitMany",value:function(e){for(var t=this,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return e.map((function(e,n){return t.visit.apply(t,[e].concat(v(r.map((function(e){return e[n]})))))}))}},{key:"visit",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.getVisitFn(t[0],!1).apply(this,t)}},{key:"getVisitFn",value:function(e){return function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if("number"===typeof t)return Yf(e,t,n);if("string"===typeof t&&t in Oc)return Yf(e,Oc[t],n);if(t&&t instanceof ff)return Yf(e,Hf(t),n);if((null===t||void 0===t?void 0:t.type)&&t.type instanceof ff)return Yf(e,Hf(t.type),n);return Yf(e,Oc.NONE,n)}(this,e,!(arguments.length>1&&void 0!==arguments[1])||arguments[1])}},{key:"getVisitFnByTypeId",value:function(e){return Yf(this,e,!(arguments.length>1&&void 0!==arguments[1])||arguments[1])}},{key:"visitNull",value:function(e){return null}},{key:"visitBool",value:function(e){return null}},{key:"visitInt",value:function(e){return null}},{key:"visitFloat",value:function(e){return null}},{key:"visitUtf8",value:function(e){return null}},{key:"visitBinary",value:function(e){return null}},{key:"visitFixedSizeBinary",value:function(e){return null}},{key:"visitDate",value:function(e){return null}},{key:"visitTimestamp",value:function(e){return null}},{key:"visitTime",value:function(e){return null}},{key:"visitDecimal",value:function(e){return null}},{key:"visitList",value:function(e){return null}},{key:"visitStruct",value:function(e){return null}},{key:"visitUnion",value:function(e){return null}},{key:"visitDictionary",value:function(e){return null}},{key:"visitInterval",value:function(e){return null}},{key:"visitFixedSizeList",value:function(e){return null}},{key:"visitMap",value:function(e){return null}}]),e}();function Yf(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=null;switch(t){case Oc.Null:r=e.visitNull;break;case Oc.Bool:r=e.visitBool;break;case Oc.Int:r=e.visitInt;break;case Oc.Int8:r=e.visitInt8||e.visitInt;break;case Oc.Int16:r=e.visitInt16||e.visitInt;break;case Oc.Int32:r=e.visitInt32||e.visitInt;break;case Oc.Int64:r=e.visitInt64||e.visitInt;break;case Oc.Uint8:r=e.visitUint8||e.visitInt;break;case Oc.Uint16:r=e.visitUint16||e.visitInt;break;case Oc.Uint32:r=e.visitUint32||e.visitInt;break;case Oc.Uint64:r=e.visitUint64||e.visitInt;break;case Oc.Float:r=e.visitFloat;break;case Oc.Float16:r=e.visitFloat16||e.visitFloat;break;case Oc.Float32:r=e.visitFloat32||e.visitFloat;break;case Oc.Float64:r=e.visitFloat64||e.visitFloat;break;case Oc.Utf8:r=e.visitUtf8;break;case Oc.Binary:r=e.visitBinary;break;case Oc.FixedSizeBinary:r=e.visitFixedSizeBinary;break;case Oc.Date:r=e.visitDate;break;case Oc.DateDay:r=e.visitDateDay||e.visitDate;break;case Oc.DateMillisecond:r=e.visitDateMillisecond||e.visitDate;break;case Oc.Timestamp:r=e.visitTimestamp;break;case Oc.TimestampSecond:r=e.visitTimestampSecond||e.visitTimestamp;break;case Oc.TimestampMillisecond:r=e.visitTimestampMillisecond||e.visitTimestamp;break;case Oc.TimestampMicrosecond:r=e.visitTimestampMicrosecond||e.visitTimestamp;break;case Oc.TimestampNanosecond:r=e.visitTimestampNanosecond||e.visitTimestamp;break;case Oc.Time:r=e.visitTime;break;case Oc.TimeSecond:r=e.visitTimeSecond||e.visitTime;break;case Oc.TimeMillisecond:r=e.visitTimeMillisecond||e.visitTime;break;case Oc.TimeMicrosecond:r=e.visitTimeMicrosecond||e.visitTime;break;case Oc.TimeNanosecond:r=e.visitTimeNanosecond||e.visitTime;break;case Oc.Decimal:r=e.visitDecimal;break;case Oc.List:r=e.visitList;break;case Oc.Struct:r=e.visitStruct;break;case Oc.Union:r=e.visitUnion;break;case Oc.DenseUnion:r=e.visitDenseUnion||e.visitUnion;break;case Oc.SparseUnion:r=e.visitSparseUnion||e.visitUnion;break;case Oc.Dictionary:r=e.visitDictionary;break;case Oc.Interval:r=e.visitInterval;break;case Oc.IntervalDayTime:r=e.visitIntervalDayTime||e.visitInterval;break;case Oc.IntervalYearMonth:r=e.visitIntervalYearMonth||e.visitInterval;break;case Oc.FixedSizeList:r=e.visitFixedSizeList;break;case Oc.Map:r=e.visitMap}if("function"===typeof r)return r;if(!n)return function(){return null};throw new Error("Unrecognized type '".concat(Oc[t],"'"))}function Hf(e){switch(e.typeId){case Oc.Null:return Oc.Null;case Oc.Int:var t=e.bitWidth,n=e.isSigned;switch(t){case 8:return n?Oc.Int8:Oc.Uint8;case 16:return n?Oc.Int16:Oc.Uint16;case 32:return n?Oc.Int32:Oc.Uint32;case 64:return n?Oc.Int64:Oc.Uint64}return Oc.Int;case Oc.Float:switch(e.precision){case yc.HALF:return Oc.Float16;case yc.SINGLE:return Oc.Float32;case yc.DOUBLE:return Oc.Float64}return Oc.Float;case Oc.Binary:return Oc.Binary;case Oc.Utf8:return Oc.Utf8;case Oc.Bool:return Oc.Bool;case Oc.Decimal:return Oc.Decimal;case Oc.Time:switch(e.unit){case wc.SECOND:return Oc.TimeSecond;case wc.MILLISECOND:return Oc.TimeMillisecond;case wc.MICROSECOND:return Oc.TimeMicrosecond;case wc.NANOSECOND:return Oc.TimeNanosecond}return Oc.Time;case Oc.Timestamp:switch(e.unit){case wc.SECOND:return Oc.TimestampSecond;case wc.MILLISECOND:return Oc.TimestampMillisecond;case wc.MICROSECOND:return Oc.TimestampMicrosecond;case wc.NANOSECOND:return Oc.TimestampNanosecond}return Oc.Timestamp;case Oc.Date:switch(e.unit){case bc.DAY:return Oc.DateDay;case bc.MILLISECOND:return Oc.DateMillisecond}return Oc.Date;case Oc.Interval:switch(e.unit){case kc.DAY_TIME:return Oc.IntervalDayTime;case kc.YEAR_MONTH:return Oc.IntervalYearMonth}return Oc.Interval;case Oc.Map:return Oc.Map;case Oc.List:return Oc.List;case Oc.Struct:return Oc.Struct;case Oc.Union:switch(e.mode){case vc.Dense:return Oc.DenseUnion;case vc.Sparse:return Oc.SparseUnion}return Oc.Union;case Oc.FixedSizeBinary:return Oc.FixedSizeBinary;case Oc.FixedSizeList:return Oc.FixedSizeList;case Oc.Dictionary:return Oc.Dictionary}throw new Error("Unrecognized type '".concat(Oc[e.typeId],"'"))}Wf.prototype.visitInt8=null,Wf.prototype.visitInt16=null,Wf.prototype.visitInt32=null,Wf.prototype.visitInt64=null,Wf.prototype.visitUint8=null,Wf.prototype.visitUint16=null,Wf.prototype.visitUint32=null,Wf.prototype.visitUint64=null,Wf.prototype.visitFloat16=null,Wf.prototype.visitFloat32=null,Wf.prototype.visitFloat64=null,Wf.prototype.visitDateDay=null,Wf.prototype.visitDateMillisecond=null,Wf.prototype.visitTimestampSecond=null,Wf.prototype.visitTimestampMillisecond=null,Wf.prototype.visitTimestampMicrosecond=null,Wf.prototype.visitTimestampNanosecond=null,Wf.prototype.visitTimeSecond=null,Wf.prototype.visitTimeMillisecond=null,Wf.prototype.visitTimeMicrosecond=null,Wf.prototype.visitTimeNanosecond=null,Wf.prototype.visitDenseUnion=null,Wf.prototype.visitSparseUnion=null,Wf.prototype.visitIntervalDayTime=null,Wf.prototype.visitIntervalYearMonth=null;var qf=new Float64Array(1),Gf=new Uint32Array(qf.buffer);function $f(e){var t=(31744&e)>>10,n=(1023&e)/1024,r=Math.pow(-1,(32768&e)>>15);switch(t){case 31:return r*(n?Number.NaN:1/0);case 0:return r*(n?6103515625e-14*n:0)}return r*Math.pow(2,t-15)*(1+n)}var Xf=function(e){k(n,e);var t=S(n);function n(){return E(this,n),t.apply(this,arguments)}return I(n)}(Wf);function Qf(e){return function(t,n,r){if(t.setValid(n,null!=r))return e(t,n,r)}}var Kf=function(e,t,n){e[t]=Math.trunc(n%4294967296),e[t+1]=Math.trunc(n/4294967296)},Zf=function(e,t,n,r){if(n+1<t.length){var i=t[n],a=t[n+1];e.set(r.subarray(0,a-i),i)}},Jf=function(e,t,n){e.values[t]=n},ed=function(e,t,n){e.values[t]=n},td=function(e,t,n){e.values[t]=function(e){if(e!==e)return 32256;qf[0]=e;var t=(2147483648&Gf[1])>>16&65535,n=2146435072&Gf[1],r=0;return n>=1089470464?Gf[0]>0?n=31744:(n=(2080374784&n)>>16,r=(1048575&Gf[1])>>10):n<=1056964608?(r=1048576+((r=1048576+(1048575&Gf[1]))<<(n>>20)-998)>>21,n=0):(n=n-1056964608>>10,r=512+(1048575&Gf[1])>>10),t|n|65535&r}(n)},nd=function(e,t,n){!function(e,t,n){e[t]=Math.trunc(n/864e5)}(e.values,t,n.valueOf())},rd=function(e,t,n){var r=e.values;Kf(r,2*t,n.valueOf())},id=function(e,t,n){var r=e.values;return Kf(r,2*t,n/1e3)},ad=function(e,t,n){var r=e.values;return Kf(r,2*t,n)},od=function(e,t,n){return function(e,t,n){e[t]=Math.trunc(1e3*n%4294967296),e[t+1]=Math.trunc(1e3*n/4294967296)}(e.values,2*t,n)},ud=function(e,t,n){return function(e,t,n){e[t]=Math.trunc(1e6*n%4294967296),e[t+1]=Math.trunc(1e6*n/4294967296)}(e.values,2*t,n)},sd=function(e,t,n){e.values[t]=n},ld=function(e,t,n){e.values[t]=n},cd=function(e,t,n){e.values[t]=n},fd=function(e,t,n){e.values[t]=n},dd=function(e,t,n){var r=e.type.typeIdToChildIndex[e.typeIds[t]],i=e.children[r];md.visit(i,e.valueOffsets[t],n)},hd=function(e,t,n){var r=e.type.typeIdToChildIndex[e.typeIds[t]],i=e.children[r];md.visit(i,t,n)},pd=function(e,t,n){e.values.set(n.subarray(0,2),2*t)},vd=function(e,t,n){e.values[t]=12*n[0]+n[1]%12};Xf.prototype.visitBool=Qf((function(e,t,n){var r=e.offset,i=e.values,a=r+t;n?i[a>>3]|=1<<a%8:i[a>>3]&=~(1<<a%8)})),Xf.prototype.visitInt=Qf(Jf),Xf.prototype.visitInt8=Qf(Jf),Xf.prototype.visitInt16=Qf(Jf),Xf.prototype.visitInt32=Qf(Jf),Xf.prototype.visitInt64=Qf(Jf),Xf.prototype.visitUint8=Qf(Jf),Xf.prototype.visitUint16=Qf(Jf),Xf.prototype.visitUint32=Qf(Jf),Xf.prototype.visitUint64=Qf(Jf),Xf.prototype.visitFloat=Qf((function(e,t,n){switch(e.type.precision){case yc.HALF:return td(e,t,n);case yc.SINGLE:case yc.DOUBLE:return ed(e,t,n)}})),Xf.prototype.visitFloat16=Qf(td),Xf.prototype.visitFloat32=Qf(ed),Xf.prototype.visitFloat64=Qf(ed),Xf.prototype.visitUtf8=Qf((function(e,t,n){var r=e.values,i=e.valueOffsets;Zf(r,i,t,Il(n))})),Xf.prototype.visitBinary=Qf((function(e,t,n){var r=e.values,i=e.valueOffsets;return Zf(r,i,t,n)})),Xf.prototype.visitFixedSizeBinary=Qf((function(e,t,n){var r=e.stride;e.values.set(n.subarray(0,r),r*t)})),Xf.prototype.visitDate=Qf((function(e,t,n){e.type.unit===bc.DAY?nd(e,t,n):rd(e,t,n)})),Xf.prototype.visitDateDay=Qf(nd),Xf.prototype.visitDateMillisecond=Qf(rd),Xf.prototype.visitTimestamp=Qf((function(e,t,n){switch(e.type.unit){case wc.SECOND:return id(e,t,n);case wc.MILLISECOND:return ad(e,t,n);case wc.MICROSECOND:return od(e,t,n);case wc.NANOSECOND:return ud(e,t,n)}})),Xf.prototype.visitTimestampSecond=Qf(id),Xf.prototype.visitTimestampMillisecond=Qf(ad),Xf.prototype.visitTimestampMicrosecond=Qf(od),Xf.prototype.visitTimestampNanosecond=Qf(ud),Xf.prototype.visitTime=Qf((function(e,t,n){switch(e.type.unit){case wc.SECOND:return sd(e,t,n);case wc.MILLISECOND:return ld(e,t,n);case wc.MICROSECOND:return cd(e,t,n);case wc.NANOSECOND:return fd(e,t,n)}})),Xf.prototype.visitTimeSecond=Qf(sd),Xf.prototype.visitTimeMillisecond=Qf(ld),Xf.prototype.visitTimeMicrosecond=Qf(cd),Xf.prototype.visitTimeNanosecond=Qf(fd),Xf.prototype.visitDecimal=Qf((function(e,t,n){var r=e.values,i=e.stride;r.set(n.subarray(0,i),i*t)})),Xf.prototype.visitList=Qf((function(e,t,n){var r=e.children[0],i=e.valueOffsets,a=md.getVisitFn(r);if(Array.isArray(n))for(var o=-1,u=i[t],s=i[t+1];u<s;)a(r,u++,n[++o]);else for(var l=-1,c=i[t],f=i[t+1];c<f;)a(r,c++,n.get(++l))})),Xf.prototype.visitStruct=Qf((function(e,t,n){var r=e.type.children.map((function(e){return md.getVisitFn(e.type)})),i=n instanceof Map?function(e,t){return function(n,r,i,a){return r&&n(r,e,t.get(i.name))}}(t,n):n instanceof Dh?function(e,t){return function(n,r,i,a){return r&&n(r,e,t.get(a))}}(t,n):Array.isArray(n)?function(e,t){return function(n,r,i,a){return r&&n(r,e,t[a])}}(t,n):function(e,t){return function(n,r,i,a){return r&&n(r,e,t[i.name])}}(t,n);e.type.children.forEach((function(t,n){return i(r[n],e.children[n],t,n)}))})),Xf.prototype.visitUnion=Qf((function(e,t,n){e.type.mode===vc.Dense?dd(e,t,n):hd(e,t,n)})),Xf.prototype.visitDenseUnion=Qf(dd),Xf.prototype.visitSparseUnion=Qf(hd),Xf.prototype.visitDictionary=Qf((function(e,t,n){var r;null===(r=e.dictionary)||void 0===r||r.set(e.values[t],n)})),Xf.prototype.visitInterval=Qf((function(e,t,n){e.type.unit===kc.DAY_TIME?pd(e,t,n):vd(e,t,n)})),Xf.prototype.visitIntervalDayTime=Qf(pd),Xf.prototype.visitIntervalYearMonth=Qf(vd),Xf.prototype.visitFixedSizeList=Qf((function(e,t,n){var r=e.stride,i=e.children[0],a=md.getVisitFn(i);if(Array.isArray(n))for(var o=-1,u=t*r;++o<r;)a(i,u+o,n[o]);else for(var s=-1,l=t*r;++s<r;)a(i,l+s,n.get(s))})),Xf.prototype.visitMap=Qf((function(e,t,n){var r,i=e.children[0],a=e.valueOffsets,o=md.getVisitFn(i),u=a[t],s=a[t+1],l=T(n instanceof Map?n.entries():Object.entries(n));try{for(l.s();!(r=l.n()).done;){if(o(i,u,r.value),++u>=s)break}}catch(c){l.e(c)}finally{l.f()}}));var md=new Xf,yd=Symbol.for("parent"),_d=Symbol.for("rowIndex"),bd=function(e,t){function n(e,t){return E(this,n),this[yd]=e,this[_d]=t,new Proxy(this,new wd)}return I(n,[{key:"toArray",value:function(){return Object.values(this.toJSON())}},{key:"toJSON",value:function(){for(var e=this[_d],t=this[yd],n=t.type.children,r={},i=-1,a=n.length;++i<a;)r[n[i].name]=Yd.visit(t.children[i],e);return r}},{key:"toString",value:function(){return"{".concat(v(this).map((function(e){var t=f(e,2),n=t[0],r=t[1];return"".concat(zc(n),": ").concat(zc(r))})).join(", "),"}")}},{key:Symbol.for("nodejs.util.inspect.custom"),value:function(){return this.toString()}},{key:Symbol.iterator,value:function(){return new gd(this[yd],this[_d])}}]),n}(),gd=function(e){function t(e,n){E(this,t),this.childIndex=0,this.children=e.children,this.rowIndex=n,this.childFields=e.type.children,this.numChildren=this.childFields.length}return I(t,[{key:Symbol.iterator,value:function(){return this}},{key:"next",value:function(){var e=this.childIndex;return e<this.numChildren?(this.childIndex=e+1,{done:!1,value:[this.childFields[e].name,Yd.visit(this.children[e],this.rowIndex)]}):{done:!0,value:null}}}]),t}();Object.defineProperties(bd.prototype,(y(e={},Symbol.toStringTag,{enumerable:!1,configurable:!1,value:"Row"}),y(e,yd,{writable:!0,enumerable:!1,configurable:!1,value:null}),y(e,_d,{writable:!0,enumerable:!1,configurable:!1,value:-1}),e));var wd=function(){function e(){E(this,e)}return I(e,[{key:"isExtensible",value:function(){return!1}},{key:"deleteProperty",value:function(){return!1}},{key:"preventExtensions",value:function(){return!0}},{key:"ownKeys",value:function(e){return e[yd].type.children.map((function(e){return e.name}))}},{key:"has",value:function(e,t){return-1!==e[yd].type.children.findIndex((function(e){return e.name===t}))}},{key:"getOwnPropertyDescriptor",value:function(e,t){if(-1!==e[yd].type.children.findIndex((function(e){return e.name===t})))return{writable:!0,enumerable:!0,configurable:!0}}},{key:"get",value:function(e,t){if(Reflect.has(e,t))return e[t];var n=e[yd].type.children.findIndex((function(e){return e.name===t}));if(-1!==n){var r=Yd.visit(e[yd].children[n],e[_d]);return Reflect.set(e,t,r),r}}},{key:"set",value:function(e,t,n){var r=e[yd].type.children.findIndex((function(e){return e.name===t}));return-1!==r?(md.visit(e[yd].children[r],e[_d],n),Reflect.set(e,t,n)):!(!Reflect.has(e,t)&&"symbol"!==typeof t)&&Reflect.set(e,t,n)}}]),e}(),xd=function(e){k(n,e);var t=S(n);function n(){return E(this,n),t.apply(this,arguments)}return I(n)}(Wf);function kd(e){return function(t,n){return t.getValid(n)?e(t,n):null}}var Sd=function(e,t){return 4294967296*e[t+1]+(e[t]>>>0)},Ad=function(e){return new Date(e)},Ed=function(e,t,n){if(n+1>=t.length)return null;var r=t[n],i=t[n+1];return e.subarray(r,i)},Od=function(e,t){return function(e,t){return Ad(function(e,t){return 864e5*e[t]}(e,t))}(e.values,t)},Id=function(e,t){return function(e,t){return Ad(Sd(e,t))}(e.values,2*t)},Td=function(e,t){var n=e.stride;return e.values[n*t]},jd=function(e,t){return e.values[t]},Cd=function(e,t){var n=e.values;return 1e3*Sd(n,2*t)},Md=function(e,t){var n=e.values;return Sd(n,2*t)},zd=function(e,t){return function(e,t){return e[t+1]/1e3*4294967296+(e[t]>>>0)/1e3}(e.values,2*t)},Nd=function(e,t){return function(e,t){return e[t+1]/1e6*4294967296+(e[t]>>>0)/1e6}(e.values,2*t)},Dd=function(e,t){return e.values[t]},Bd=function(e,t){return e.values[t]},Fd=function(e,t){return e.values[t]},Pd=function(e,t){return e.values[t]},Ld=function(e,t){var n=e.type.typeIdToChildIndex[e.typeIds[t]],r=e.children[n];return Yd.visit(r,e.valueOffsets[t])},Rd=function(e,t){var n=e.type.typeIdToChildIndex[e.typeIds[t]],r=e.children[n];return Yd.visit(r,t)},Ud=function(e,t){return e.values.subarray(2*t,2*(t+1))},Vd=function(e,t){var n=e.values[t],r=new Int32Array(2);return r[0]=Math.trunc(n/12),r[1]=Math.trunc(n%12),r};xd.prototype.visitNull=kd((function(e,t){return null})),xd.prototype.visitBool=kd((function(e,t){var n=e.offset+t;return 0!==(e.values[n>>3]&1<<n%8)})),xd.prototype.visitInt=kd((function(e,t){return e.values[t]})),xd.prototype.visitInt8=kd(Td),xd.prototype.visitInt16=kd(Td),xd.prototype.visitInt32=kd(Td),xd.prototype.visitInt64=kd(jd),xd.prototype.visitUint8=kd(Td),xd.prototype.visitUint16=kd(Td),xd.prototype.visitUint32=kd(Td),xd.prototype.visitUint64=kd(jd),xd.prototype.visitFloat=kd((function(e,t){var n=e.type,r=e.values;return n.precision!==yc.HALF?r[t]:$f(r[t])})),xd.prototype.visitFloat16=kd((function(e,t){var n=e.stride;return $f(e.values[n*t])})),xd.prototype.visitFloat32=kd(Td),xd.prototype.visitFloat64=kd(Td),xd.prototype.visitUtf8=kd((function(e,t){var n=e.values,r=e.valueOffsets,i=Ed(n,r,t);return null!==i?El(i):null})),xd.prototype.visitBinary=kd((function(e,t){var n=e.values,r=e.valueOffsets;return Ed(n,r,t)})),xd.prototype.visitFixedSizeBinary=kd((function(e,t){var n=e.stride;return e.values.subarray(n*t,n*(t+1))})),xd.prototype.visitDate=kd((function(e,t){return e.type.unit===bc.DAY?Od(e,t):Id(e,t)})),xd.prototype.visitDateDay=kd(Od),xd.prototype.visitDateMillisecond=kd(Id),xd.prototype.visitTimestamp=kd((function(e,t){switch(e.type.unit){case wc.SECOND:return Cd(e,t);case wc.MILLISECOND:return Md(e,t);case wc.MICROSECOND:return zd(e,t);case wc.NANOSECOND:return Nd(e,t)}})),xd.prototype.visitTimestampSecond=kd(Cd),xd.prototype.visitTimestampMillisecond=kd(Md),xd.prototype.visitTimestampMicrosecond=kd(zd),xd.prototype.visitTimestampNanosecond=kd(Nd),xd.prototype.visitTime=kd((function(e,t){switch(e.type.unit){case wc.SECOND:return Dd(e,t);case wc.MILLISECOND:return Bd(e,t);case wc.MICROSECOND:return Fd(e,t);case wc.NANOSECOND:return Pd(e,t)}})),xd.prototype.visitTimeSecond=kd(Dd),xd.prototype.visitTimeMillisecond=kd(Bd),xd.prototype.visitTimeMicrosecond=kd(Fd),xd.prototype.visitTimeNanosecond=kd(Pd),xd.prototype.visitDecimal=kd((function(e,t){var n=e.values,r=e.stride;return cf.decimal(n.subarray(r*t,r*(t+1)))})),xd.prototype.visitList=kd((function(e,t){var n=e.valueOffsets,r=e.stride,i=e.children,a=n[t*r],o=n[t*r+1],u=i[0].slice(a,o-a);return new Dh([u])})),xd.prototype.visitStruct=kd((function(e,t){return new bd(e,t)})),xd.prototype.visitUnion=kd((function(e,t){return e.type.mode===vc.Dense?Ld(e,t):Rd(e,t)})),xd.prototype.visitDenseUnion=kd(Ld),xd.prototype.visitSparseUnion=kd(Rd),xd.prototype.visitDictionary=kd((function(e,t){var n;return null===(n=e.dictionary)||void 0===n?void 0:n.get(e.values[t])})),xd.prototype.visitInterval=kd((function(e,t){return e.type.unit===kc.DAY_TIME?Ud(e,t):Vd(e,t)})),xd.prototype.visitIntervalDayTime=kd(Ud),xd.prototype.visitIntervalYearMonth=kd(Vd),xd.prototype.visitFixedSizeList=kd((function(e,t){var n=e.stride,r=e.children[0].slice(t*n,n);return new Dh([r])})),xd.prototype.visitMap=kd((function(e,t){var n=e.valueOffsets,r=e.children,i=n[t],a=n[t+1],o=r[0];return new Gd(o.slice(i,a-i))}));var Wd,Yd=new xd,Hd=Symbol.for("keys"),qd=Symbol.for("vals"),Gd=function(e,t){function n(e){return E(this,n),this[Hd]=new Dh([e.children[0]]).memoize(),this[qd]=e.children[1],new Proxy(this,new Xd)}return I(n,[{key:Symbol.iterator,value:function(){return new $d(this[Hd],this[qd])}},{key:"size",get:function(){return this[Hd].length}},{key:"toArray",value:function(){return Object.values(this.toJSON())}},{key:"toJSON",value:function(){for(var e=this[Hd],t=this[qd],n={},r=-1,i=e.length;++r<i;)n[e.get(r)]=Yd.visit(t,r);return n}},{key:"toString",value:function(){return"{".concat(v(this).map((function(e){var t=f(e,2),n=t[0],r=t[1];return"".concat(zc(n),": ").concat(zc(r))})).join(", "),"}")}},{key:Symbol.for("nodejs.util.inspect.custom"),value:function(){return this.toString()}}]),n}(),$d=function(e){function t(e,n){E(this,t),this.keys=e,this.vals=n,this.keyIndex=0,this.numKeys=e.length}return I(t,[{key:Symbol.iterator,value:function(){return this}},{key:"next",value:function(){var e=this.keyIndex;return e===this.numKeys?{done:!0,value:null}:(this.keyIndex++,{done:!1,value:[this.keys.get(e),Yd.visit(this.vals,e)]})}}]),t}(),Xd=function(){function e(){E(this,e)}return I(e,[{key:"isExtensible",value:function(){return!1}},{key:"deleteProperty",value:function(){return!1}},{key:"preventExtensions",value:function(){return!0}},{key:"ownKeys",value:function(e){return e[Hd].toArray().map(String)}},{key:"has",value:function(e,t){return e[Hd].includes(t)}},{key:"getOwnPropertyDescriptor",value:function(e,t){if(-1!==e[Hd].indexOf(t))return{writable:!0,enumerable:!0,configurable:!0}}},{key:"get",value:function(e,t){if(Reflect.has(e,t))return e[t];var n=e[Hd].indexOf(t);if(-1!==n){var r=Yd.visit(Reflect.get(e,qd),n);return Reflect.set(e,t,r),r}}},{key:"set",value:function(e,t,n){var r=e[Hd].indexOf(t);return-1!==r?(md.visit(Reflect.get(e,qd),r,n),Reflect.set(e,t,n)):!!Reflect.has(e,t)&&Reflect.set(e,t,n)}}]),e}();function Qd(e,t,n,r){var i=e.length,a=void 0===i?0:i,o="number"!==typeof t?0:t,u="number"!==typeof n?a:n;return o<0&&(o=(o%a+a)%a),u<0&&(u=(u%a+a)%a),u<o&&(Wd=o,o=u,u=Wd),u>a&&(u=a),r?r(e,o,u):[o,u]}Object.defineProperties(Gd.prototype,(y(t={},Symbol.toStringTag,{enumerable:!1,configurable:!1,value:"Row"}),y(t,Hd,{writable:!0,enumerable:!1,configurable:!1,value:null}),y(t,qd,{writable:!0,enumerable:!1,configurable:!1,value:null}),t));var Kd=function(e){return e!==e};function Zd(e){if("object"!==typeof e||null===e)return Kd(e)?Kd:function(t){return t===e};if(e instanceof Date){var t=e.valueOf();return function(e){return e instanceof Date&&e.valueOf()===t}}return ArrayBuffer.isView(e)?function(t){return!!t&&function(e,t){var n=0,r=e.length;if(r!==t.length)return!1;if(r>0)do{if(e[n]!==t[n])return!1}while(++n<r);return!0}(e,t)}:e instanceof Map?function(e){var t,n=-1,r=[],i=T(e.values());try{for(i.s();!(t=i.n()).done;){var a=t.value;r[++n]=Zd(a)}}catch(o){i.e(o)}finally{i.f()}return Jd(r)}(e):Array.isArray(e)?function(e){for(var t=[],n=-1,r=e.length;++n<r;)t[n]=Zd(e[n]);return Jd(t)}(e):e instanceof Dh?function(e){for(var t=[],n=-1,r=e.length;++n<r;)t[n]=Zd(e.get(n));return Jd(t)}(e):function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Object.keys(e);if(!t&&0===n.length)return function(){return!1};for(var r=[],i=-1,a=n.length;++i<a;)r[i]=Zd(e[n[i]]);return Jd(r,n)}(e,!0)}function Jd(e,t){return function(n){if(!n||"object"!==typeof n)return!1;switch(n.constructor){case Array:return function(e,t){var n=e.length;if(t.length!==n)return!1;for(var r=-1;++r<n;)if(!e[r](t[r]))return!1;return!0}(e,n);case Map:return eh(e,n,n.keys());case Gd:case bd:case Object:case void 0:return eh(e,n,t||Object.keys(n))}return n instanceof Dh&&function(e,t){var n=e.length;if(t.length!==n)return!1;for(var r=-1;++r<n;)if(!e[r](t.get(r)))return!1;return!0}(e,n)}}function eh(e,t,n){for(var r=n[Symbol.iterator](),i=t instanceof Map?t.keys():Object.keys(t)[Symbol.iterator](),a=t instanceof Map?t.values():Object.values(t)[Symbol.iterator](),o=0,u=e.length,s=a.next(),l=r.next(),c=i.next();o<u&&!l.done&&!c.done&&!s.done&&(l.value===c.value&&e[o](s.value));++o,l=r.next(),c=i.next(),s=a.next());return!!(o===u&&l.done&&c.done&&s.done)||(r.return&&r.return(),i.return&&i.return(),a.return&&a.return(),!1)}function th(e,t,n,r){return 0!==(n&1<<r)}function nh(e,t,n,r){return(n&1<<r)>>r}function rh(e){var t,n=[],r=0,i=0,a=0,o=T(e);try{for(o.s();!(t=o.n()).done;){t.value&&(a|=1<<i),8===++i&&(n[r++]=a,a=i=0)}}catch(s){o.e(s)}finally{o.f()}(0===r||i>0)&&(n[r++]=a);var u=new Uint8Array(n.length+7&-8);return u.set(n),u}var ih=function(e){function t(e,n,r,i,a){E(this,t),this.bytes=e,this.length=r,this.context=i,this.get=a,this.bit=n%8,this.byteIndex=n>>3,this.byte=e[this.byteIndex++],this.index=0}return I(t,[{key:"next",value:function(){return this.index<this.length?(8===this.bit&&(this.bit=0,this.byte=this.bytes[this.byteIndex++]),{value:this.get(this.context,this.index++,this.byte,this.bit++)}):{done:!0,value:null}}},{key:Symbol.iterator,value:function(){return this}}]),t}();function ah(e,t,n){if(n-t<=0)return 0;if(n-t<8){var r,i=0,a=T(new ih(e,t,n-t,e,nh));try{for(a.s();!(r=a.n()).done;){i+=r.value}}catch(s){a.e(s)}finally{a.f()}return i}var o=n>>3<<3,u=t+(t%8===0?0:8-t%8);return ah(e,t,u)+ah(e,o,n)+function(e,t,n){var r=0,i=Math.trunc(t),a=new DataView(e.buffer,e.byteOffset,e.byteLength),o=void 0===n?e.byteLength:i+n;for(;o-i>=4;)r+=oh(a.getUint32(i)),i+=4;for(;o-i>=2;)r+=oh(a.getUint16(i)),i+=2;for(;o-i>=1;)r+=oh(a.getUint8(i)),i+=1;return r}(e,u>>3,o-u>>3)}function oh(e){var t=Math.trunc(e);return 16843009*((t=(858993459&(t-=t>>>1&1431655765))+(t>>>2&858993459))+(t>>>4)&252645135)>>>24}var uh=function(){function e(t,n,r,i,a){var o,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],s=arguments.length>6?arguments[6]:void 0;E(this,e),this.type=t,this.children=u,this.dictionary=s,this.offset=Math.floor(Math.max(n||0,0)),this.length=Math.floor(Math.max(r||0,0)),this._nullCount=Math.floor(Math.max(i||0,-1)),a instanceof e?(this.stride=a.stride,this.values=a.values,this.typeIds=a.typeIds,this.nullBitmap=a.nullBitmap,this.valueOffsets=a.valueOffsets):(this.stride=Vf(t),a&&((o=a[0])&&(this.valueOffsets=o),(o=a[1])&&(this.values=o),(o=a[2])&&(this.nullBitmap=o),(o=a[3])&&(this.typeIds=o))),this.nullable=0!==this._nullCount&&this.nullBitmap&&this.nullBitmap.byteLength>0}return I(e,[{key:"typeId",get:function(){return this.type.typeId}},{key:"ArrayType",get:function(){return this.type.ArrayType}},{key:"buffers",get:function(){return[this.valueOffsets,this.values,this.nullBitmap,this.typeIds]}},{key:"byteLength",get:function(){var e=0,t=this.valueOffsets,n=this.values,r=this.nullBitmap,i=this.typeIds;return t&&(e+=t.byteLength),n&&(e+=n.byteLength),r&&(e+=r.byteLength),i&&(e+=i.byteLength),this.children.reduce((function(e,t){return e+t.byteLength}),e)}},{key:"nullCount",get:function(){var e,t=this._nullCount;return t<=-1&&(e=this.nullBitmap)&&(this._nullCount=t=this.length-ah(e,this.offset,this.offset+this.length)),t}},{key:"getValid",value:function(e){if(this.nullable&&this.nullCount>0){var t=this.offset+e;return 0!==(this.nullBitmap[t>>3]&1<<t%8)}return!0}},{key:"setValid",value:function(e,t){if(!this.nullable)return t;if(!this.nullBitmap||this.nullBitmap.byteLength<=e>>3){var n=this._changeLengthAndBackfillNullBitmap(this.length).nullBitmap;Object.assign(this,{nullBitmap:n,_nullCount:0})}var r=this.nullBitmap,i=this.offset,a=i+e>>3,o=(i+e)%8,u=r[a]>>o&1;return t?0===u&&(r[a]|=1<<o,this._nullCount=this.nullCount+1):1===u&&(r[a]&=~(1<<o),this._nullCount=this.nullCount-1),t}},{key:"clone",value:function(){return new e(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.type,arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.offset,arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.length,arguments.length>3&&void 0!==arguments[3]?arguments[3]:this._nullCount,arguments.length>4&&void 0!==arguments[4]?arguments[4]:this,arguments.length>5&&void 0!==arguments[5]?arguments[5]:this.children,this.dictionary)}},{key:"slice",value:function(e,t){var n=this.stride,r=this.typeId,i=this.children,a=+(0===this._nullCount)-1,o=16===r?n:1,u=this._sliceBuffers(e,t,n,r);return this.clone(this.type,this.offset+e,t,a,u,0===i.length||this.valueOffsets?i:this._sliceChildren(i,o*e,o*t))}},{key:"_changeLengthAndBackfillNullBitmap",value:function(e){if(this.typeId===Oc.Null)return this.clone(this.type,0,e,0);var t=this.length,n=this.nullCount,r=new Uint8Array((e+63&-64)>>3).fill(255,0,t>>3);r[t>>3]=(1<<t-(-8&t))-1,n>0&&r.set(function(e,t,n){var r=n.byteLength+7&-8;if(e>0||n.byteLength<r){var i=new Uint8Array(r);return i.set(e%8===0?n.subarray(e>>3):rh(new ih(n,e,t,null,th)).subarray(0,r)),i}return n}(this.offset,t,this.nullBitmap),0);var i=this.buffers;return i[Tc.VALIDITY]=r,this.clone(this.type,0,e,n+(e-t),i)}},{key:"_sliceBuffers",value:function(e,t,n,r){var i,a=this.buffers;return(i=a[Tc.TYPE])&&(a[Tc.TYPE]=i.subarray(e,e+t)),(i=a[Tc.OFFSET])&&(a[Tc.OFFSET]=i.subarray(e,e+t+1))||(i=a[Tc.DATA])&&(a[Tc.DATA]=6===r?i:i.subarray(n*e,n*(e+t))),a}},{key:"_sliceChildren",value:function(e,t,n){return e.map((function(e){return e.slice(t,n)}))}}]),e}();uh.prototype.children=Object.freeze([]);var sh=function(e){k(n,e);var t=S(n);function n(){return E(this,n),t.apply(this,arguments)}return I(n,[{key:"visit",value:function(e){return this.getVisitFn(e.type).call(this,e)}},{key:"visitNull",value:function(e){var t=e.type,n=e.offset,r=void 0===n?0:n,i=e.length;return new uh(t,r,void 0===i?0:i,0)}},{key:"visitBool",value:function(e){var t=e.type,n=e.offset,r=void 0===n?0:n,i=Jl(e.nullBitmap),a=Kl(t.ArrayType,e.data),o=e.length,u=void 0===o?a.length>>3:o,s=e.nullCount,l=void 0===s?e.nullBitmap?-1:0:s;return new uh(t,r,u,l,[void 0,a,i])}},{key:"visitInt",value:function(e){var t=e.type,n=e.offset,r=void 0===n?0:n,i=Jl(e.nullBitmap),a=Kl(t.ArrayType,e.data),o=e.length,u=void 0===o?a.length:o,s=e.nullCount,l=void 0===s?e.nullBitmap?-1:0:s;return new uh(t,r,u,l,[void 0,a,i])}},{key:"visitFloat",value:function(e){var t=e.type,n=e.offset,r=void 0===n?0:n,i=Jl(e.nullBitmap),a=Kl(t.ArrayType,e.data),o=e.length,u=void 0===o?a.length:o,s=e.nullCount,l=void 0===s?e.nullBitmap?-1:0:s;return new uh(t,r,u,l,[void 0,a,i])}},{key:"visitUtf8",value:function(e){var t=e.type,n=e.offset,r=void 0===n?0:n,i=Jl(e.data),a=Jl(e.nullBitmap),o=Zl(e.valueOffsets),u=e.length,s=void 0===u?o.length-1:u,l=e.nullCount,c=void 0===l?e.nullBitmap?-1:0:l;return new uh(t,r,s,c,[o,i,a])}},{key:"visitBinary",value:function(e){var t=e.type,n=e.offset,r=void 0===n?0:n,i=Jl(e.data),a=Jl(e.nullBitmap),o=Zl(e.valueOffsets),u=e.length,s=void 0===u?o.length-1:u,l=e.nullCount,c=void 0===l?e.nullBitmap?-1:0:l;return new uh(t,r,s,c,[o,i,a])}},{key:"visitFixedSizeBinary",value:function(e){var t=e.type,n=e.offset,r=void 0===n?0:n,i=Jl(e.nullBitmap),a=Kl(t.ArrayType,e.data),o=e.length,u=void 0===o?a.length/Vf(t):o,s=e.nullCount,l=void 0===s?e.nullBitmap?-1:0:s;return new uh(t,r,u,l,[void 0,a,i])}},{key:"visitDate",value:function(e){var t=e.type,n=e.offset,r=void 0===n?0:n,i=Jl(e.nullBitmap),a=Kl(t.ArrayType,e.data),o=e.length,u=void 0===o?a.length/Vf(t):o,s=e.nullCount,l=void 0===s?e.nullBitmap?-1:0:s;return new uh(t,r,u,l,[void 0,a,i])}},{key:"visitTimestamp",value:function(e){var t=e.type,n=e.offset,r=void 0===n?0:n,i=Jl(e.nullBitmap),a=Kl(t.ArrayType,e.data),o=e.length,u=void 0===o?a.length/Vf(t):o,s=e.nullCount,l=void 0===s?e.nullBitmap?-1:0:s;return new uh(t,r,u,l,[void 0,a,i])}},{key:"visitTime",value:function(e){var t=e.type,n=e.offset,r=void 0===n?0:n,i=Jl(e.nullBitmap),a=Kl(t.ArrayType,e.data),o=e.length,u=void 0===o?a.length/Vf(t):o,s=e.nullCount,l=void 0===s?e.nullBitmap?-1:0:s;return new uh(t,r,u,l,[void 0,a,i])}},{key:"visitDecimal",value:function(e){var t=e.type,n=e.offset,r=void 0===n?0:n,i=Jl(e.nullBitmap),a=Kl(t.ArrayType,e.data),o=e.length,u=void 0===o?a.length/Vf(t):o,s=e.nullCount,l=void 0===s?e.nullBitmap?-1:0:s;return new uh(t,r,u,l,[void 0,a,i])}},{key:"visitList",value:function(e){var t=e.type,n=e.offset,r=void 0===n?0:n,i=e.child,a=Jl(e.nullBitmap),o=Zl(e.valueOffsets),u=e.length,s=void 0===u?o.length-1:u,l=e.nullCount,c=void 0===l?e.nullBitmap?-1:0:l;return new uh(t,r,s,c,[o,void 0,a],[i])}},{key:"visitStruct",value:function(e){var t=e.type,n=e.offset,r=void 0===n?0:n,i=e.children,a=void 0===i?[]:i,o=Jl(e.nullBitmap),u=e.length,s=void 0===u?a.reduce((function(e,t){var n=t.length;return Math.max(e,n)}),0):u,l=e.nullCount,c=void 0===l?e.nullBitmap?-1:0:l;return new uh(t,r,s,c,[void 0,void 0,o],a)}},{key:"visitUnion",value:function(e){var t=e.type,n=e.offset,r=void 0===n?0:n,i=e.children,a=void 0===i?[]:i,o=Jl(e.nullBitmap),u=Kl(t.ArrayType,e.typeIds),s=e.length,l=void 0===s?u.length:s,c=e.nullCount,f=void 0===c?e.nullBitmap?-1:0:c;if(ff.isSparseUnion(t))return new uh(t,r,l,f,[void 0,void 0,o,u],a);var d=Zl(e.valueOffsets);return new uh(t,r,l,f,[d,void 0,o,u],a)}},{key:"visitDictionary",value:function(e){var t=e.type,r=e.offset,i=void 0===r?0:r,a=Jl(e.nullBitmap),o=Kl(t.indices.ArrayType,e.data),u=e.dictionary,s=void 0===u?new Dh([(new n).visit({type:t.dictionary})]):u,l=e.length,c=void 0===l?o.length:l,f=e.nullCount,d=void 0===f?e.nullBitmap?-1:0:f;return new uh(t,i,c,d,[void 0,o,a],[],s)}},{key:"visitInterval",value:function(e){var t=e.type,n=e.offset,r=void 0===n?0:n,i=Jl(e.nullBitmap),a=Kl(t.ArrayType,e.data),o=e.length,u=void 0===o?a.length/Vf(t):o,s=e.nullCount,l=void 0===s?e.nullBitmap?-1:0:s;return new uh(t,r,u,l,[void 0,a,i])}},{key:"visitFixedSizeList",value:function(e){var t=e.type,r=e.offset,i=void 0===r?0:r,a=e.child,o=void 0===a?(new n).visit({type:t.valueType}):a,u=Jl(e.nullBitmap),s=e.length,l=void 0===s?o.length/Vf(t):s,c=e.nullCount,f=void 0===c?e.nullBitmap?-1:0:c;return new uh(t,i,l,f,[void 0,void 0,u],[o])}},{key:"visitMap",value:function(e){var t=e.type,r=e.offset,i=void 0===r?0:r,a=e.child,o=void 0===a?(new n).visit({type:t.childType}):a,u=Jl(e.nullBitmap),s=Zl(e.valueOffsets),l=e.length,c=void 0===l?s.length-1:l,f=e.nullCount,d=void 0===f?e.nullBitmap?-1:0:f;return new uh(t,i,c,d,[s,void 0,u],[o])}}]),n}(Wf);function lh(e){return(new sh).visit(e)}var ch=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1?arguments[1]:void 0;E(this,t),this.numChunks=e,this.getChunkIterator=n,this.chunkIndex=0,this.chunkIterator=this.getChunkIterator(0)}return I(t,[{key:"next",value:function(){for(;this.chunkIndex<this.numChunks;){var e=this.chunkIterator.next();if(!e.done)return e;++this.chunkIndex<this.numChunks&&(this.chunkIterator=this.getChunkIterator(this.chunkIndex))}return{done:!0,value:null}}},{key:Symbol.iterator,value:function(){return this}}]),t}();function fh(e){return e.reduce((function(e,t){return e+t.nullCount}),0)}function dh(e){return e.reduce((function(e,t,n){return e[n+1]=e[n]+t.length,e}),new Uint32Array(e.length+1))}function hh(e,t,n,r){for(var i=[],a=-1,o=e.length;++a<o;){var u=e[a],s=t[a],l=u.length;if(s>=r)break;if(!(n>=s+l))if(s>=n&&s+l<=r)i.push(u);else{var c=Math.max(0,n-s),f=Math.min(r-s,l);i.push(u.slice(c,f-c))}}return 0===i.length&&i.push(e[0].slice(0,0)),i}function ph(e,t,n,r){var i=0,a=0,o=t.length-1;do{if(i>=o-1)return n<t[o]?r(e,i,n-t[i]):null;n<t[a=i+Math.trunc(.5*(o-i))]?o=a:i=a}while(i<o)}function vh(e,t){return e.getValid(t)}function mh(e){function t(t,n,r){return e(t[n],r)}return function(e){return ph(this.data,this._offsets,e,t)}}function yh(e){var t;function n(n,r,i){return e(n[r],i,t)}return function(e,r){var i=this.data;t=r;var a=ph(i,this._offsets,e,n);return t=void 0,a}}function _h(e){var t;function n(n,r,i){for(var a=i,o=0,u=0,s=r-1,l=n.length;++s<l;){var c=n[s];if(~(o=e(c,t,a)))return u+o;a=0,u+=c.length}return-1}return function(e,r){t=e;var i=this.data,a="number"!==typeof r?n(i,0,0):ph(i,this._offsets,r,n);return t=void 0,a}}var bh=function(e){k(n,e);var t=S(n);function n(){return E(this,n),t.apply(this,arguments)}return I(n)}(Wf);function gh(e,t,n){if(void 0===t)return-1;if(null===t)return function(e,t){var n=e.nullBitmap;if(!n||e.nullCount<=0)return-1;var r,i=0,a=T(new ih(n,e.offset+(t||0),e.length,n,th));try{for(a.s();!(r=a.n()).done;){if(!r.value)return i;++i}}catch(o){a.e(o)}finally{a.f()}return-1}(e,n);for(var r=Yd.getVisitFn(e),i=Zd(t),a=(n||0)-1,o=e.length;++a<o;)if(i(r(e,a)))return a;return-1}function wh(e,t,n){for(var r=Yd.getVisitFn(e),i=Zd(t),a=(n||0)-1,o=e.length;++a<o;)if(i(r(e,a)))return a;return-1}bh.prototype.visitNull=function(e,t){return null===t&&e.length>0?0:-1},bh.prototype.visitBool=gh,bh.prototype.visitInt=gh,bh.prototype.visitInt8=gh,bh.prototype.visitInt16=gh,bh.prototype.visitInt32=gh,bh.prototype.visitInt64=gh,bh.prototype.visitUint8=gh,bh.prototype.visitUint16=gh,bh.prototype.visitUint32=gh,bh.prototype.visitUint64=gh,bh.prototype.visitFloat=gh,bh.prototype.visitFloat16=gh,bh.prototype.visitFloat32=gh,bh.prototype.visitFloat64=gh,bh.prototype.visitUtf8=gh,bh.prototype.visitBinary=gh,bh.prototype.visitFixedSizeBinary=gh,bh.prototype.visitDate=gh,bh.prototype.visitDateDay=gh,bh.prototype.visitDateMillisecond=gh,bh.prototype.visitTimestamp=gh,bh.prototype.visitTimestampSecond=gh,bh.prototype.visitTimestampMillisecond=gh,bh.prototype.visitTimestampMicrosecond=gh,bh.prototype.visitTimestampNanosecond=gh,bh.prototype.visitTime=gh,bh.prototype.visitTimeSecond=gh,bh.prototype.visitTimeMillisecond=gh,bh.prototype.visitTimeMicrosecond=gh,bh.prototype.visitTimeNanosecond=gh,bh.prototype.visitDecimal=gh,bh.prototype.visitList=gh,bh.prototype.visitStruct=gh,bh.prototype.visitUnion=gh,bh.prototype.visitDenseUnion=wh,bh.prototype.visitSparseUnion=wh,bh.prototype.visitDictionary=gh,bh.prototype.visitInterval=gh,bh.prototype.visitIntervalDayTime=gh,bh.prototype.visitIntervalYearMonth=gh,bh.prototype.visitFixedSizeList=gh,bh.prototype.visitMap=gh;var xh=new bh,kh=function(e){k(n,e);var t=S(n);function n(){return E(this,n),t.apply(this,arguments)}return I(n)}(Wf);function Sh(e){var t=e.type;if(0===e.nullCount&&1===e.stride&&(t.typeId===Oc.Timestamp||t instanceof hf&&64!==t.bitWidth||t instanceof jf&&64!==t.bitWidth||t instanceof xf&&t.precision!==yc.HALF))return new ch(e.data.length,(function(t){var n=e.data[t];return n.values.subarray(0,n.length)[Symbol.iterator]()}));var n=0;return new ch(e.data.length,(function(t){var r=e.data[t].length,i=e.slice(n,n+r);return n+=r,new Ah(i)}))}var Ah=function(e){function t(e){E(this,t),this.vector=e,this.index=0}return I(t,[{key:"next",value:function(){return this.index<this.vector.length?{value:this.vector.get(this.index++)}:{done:!0,value:null}}},{key:Symbol.iterator,value:function(){return this}}]),t}();kh.prototype.visitNull=Sh,kh.prototype.visitBool=Sh,kh.prototype.visitInt=Sh,kh.prototype.visitInt8=Sh,kh.prototype.visitInt16=Sh,kh.prototype.visitInt32=Sh,kh.prototype.visitInt64=Sh,kh.prototype.visitUint8=Sh,kh.prototype.visitUint16=Sh,kh.prototype.visitUint32=Sh,kh.prototype.visitUint64=Sh,kh.prototype.visitFloat=Sh,kh.prototype.visitFloat16=Sh,kh.prototype.visitFloat32=Sh,kh.prototype.visitFloat64=Sh,kh.prototype.visitUtf8=Sh,kh.prototype.visitBinary=Sh,kh.prototype.visitFixedSizeBinary=Sh,kh.prototype.visitDate=Sh,kh.prototype.visitDateDay=Sh,kh.prototype.visitDateMillisecond=Sh,kh.prototype.visitTimestamp=Sh,kh.prototype.visitTimestampSecond=Sh,kh.prototype.visitTimestampMillisecond=Sh,kh.prototype.visitTimestampMicrosecond=Sh,kh.prototype.visitTimestampNanosecond=Sh,kh.prototype.visitTime=Sh,kh.prototype.visitTimeSecond=Sh,kh.prototype.visitTimeMillisecond=Sh,kh.prototype.visitTimeMicrosecond=Sh,kh.prototype.visitTimeNanosecond=Sh,kh.prototype.visitDecimal=Sh,kh.prototype.visitList=Sh,kh.prototype.visitStruct=Sh,kh.prototype.visitUnion=Sh,kh.prototype.visitDenseUnion=Sh,kh.prototype.visitSparseUnion=Sh,kh.prototype.visitDictionary=Sh,kh.prototype.visitInterval=Sh,kh.prototype.visitIntervalDayTime=Sh,kh.prototype.visitIntervalYearMonth=Sh,kh.prototype.visitFixedSizeList=Sh,kh.prototype.visitMap=Sh;var Eh=new kh,Oh=function(e,t){return e+t},Ih=function(e){k(n,e);var t=S(n);function n(){return E(this,n),t.apply(this,arguments)}return I(n,[{key:"visitNull",value:function(e,t){return 0}},{key:"visitInt",value:function(e,t){return e.type.bitWidth/8}},{key:"visitFloat",value:function(e,t){return e.type.ArrayType.BYTES_PER_ELEMENT}},{key:"visitBool",value:function(e,t){return 1/8}},{key:"visitDecimal",value:function(e,t){return e.type.bitWidth/8}},{key:"visitDate",value:function(e,t){return 4*(e.type.unit+1)}},{key:"visitTime",value:function(e,t){return e.type.bitWidth/8}},{key:"visitTimestamp",value:function(e,t){return e.type.unit===wc.SECOND?4:8}},{key:"visitInterval",value:function(e,t){return 4*(e.type.unit+1)}},{key:"visitStruct",value:function(e,t){return e.children.reduce((function(e,n){return e+Mh.visit(n,t)}),0)}},{key:"visitFixedSizeBinary",value:function(e,t){return e.type.byteWidth}},{key:"visitMap",value:function(e,t){return 8+e.children.reduce((function(e,n){return e+Mh.visit(n,t)}),0)}},{key:"visitDictionary",value:function(e,t){var n;return e.type.indices.bitWidth/8+((null===(n=e.dictionary)||void 0===n?void 0:n.getByteLength(e.values[t]))||0)}}]),n}(Wf),Th=function(e,t){var n=e.type,r=e.children,i=e.typeIds,a=e.valueOffsets,o=n.typeIdToChildIndex[i[t]];return 8+Mh.visit(r[o],a[t])},jh=function(e,t){var n=e.children;return 4+Mh.visitMany(n,n.map((function(){return t}))).reduce(Oh,0)};Ih.prototype.visitUtf8=function(e,t){var n=e.valueOffsets;return n[t+1]-n[t]+8},Ih.prototype.visitBinary=function(e,t){var n=e.valueOffsets;return n[t+1]-n[t]+8},Ih.prototype.visitList=function(e,t){for(var n=e.valueOffsets,r=e.stride,i=e.children[0],a=n[t*r],o=n[t*r+1],u=Mh.getVisitFn(i.type),s=i.slice(a,o-a),l=8,c=-1,f=o-a;++c<f;)l+=u(s,c);return l},Ih.prototype.visitFixedSizeList=function(e,t){for(var n=e.stride,r=e.children[0],i=r.slice(t*n,n),a=Mh.getVisitFn(r.type),o=0,u=-1,s=i.length;++u<s;)o+=a(i,u);return o},Ih.prototype.visitUnion=function(e,t){return e.type.mode===vc.Dense?Th(e,t):jh(e,t)},Ih.prototype.visitDenseUnion=Th,Ih.prototype.visitSparseUnion=jh;var Ch,Mh=new Ih,zh={},Nh={},Dh=function(e,t){function n(e){var t,r,i;E(this,n);var a=e[0]instanceof n?e.flatMap((function(e){return e.data})):e;if(0===a.length||a.some((function(e){return!(e instanceof uh)})))throw new TypeError("Vector constructor expects an Array of Data instances.");var o=null===(t=a[0])||void 0===t?void 0:t.type;switch(a.length){case 0:this._offsets=[0];break;case 1:var u=zh[o.typeId],s=u.get,l=u.set,c=u.indexOf,f=u.byteLength,d=a[0];this.isValid=function(e){return vh(d,e)},this.get=function(e){return s(d,e)},this.set=function(e,t){return l(d,e,t)},this.indexOf=function(e){return c(d,e)},this.getByteLength=function(e){return f(d,e)},this._offsets=[0,d.length];break;default:Object.setPrototypeOf(this,Nh[o.typeId]),this._offsets=dh(a)}this.data=a,this.type=o,this.stride=Vf(o),this.numChildren=null!==(i=null===(r=o.children)||void 0===r?void 0:r.length)&&void 0!==i?i:0,this.length=this._offsets[this._offsets.length-1]}return I(n,[{key:"byteLength",get:function(){return-1===this._byteLength&&(this._byteLength=this.data.reduce((function(e,t){return e+t.byteLength}),0)),this._byteLength}},{key:"nullCount",get:function(){return-1===this._nullCount&&(this._nullCount=fh(this.data)),this._nullCount}},{key:"ArrayType",get:function(){return this.type.ArrayType}},{key:Symbol.toStringTag,get:function(){return"".concat(this.VectorName,"<").concat(this.type[Symbol.toStringTag],">")}},{key:"VectorName",get:function(){return"".concat(Oc[this.type.typeId],"Vector")}},{key:"isValid",value:function(e){return!1}},{key:"get",value:function(e){return null}},{key:"set",value:function(e,t){}},{key:"indexOf",value:function(e,t){return-1}},{key:"includes",value:function(e,t){return this.indexOf(e,t)>0}},{key:"getByteLength",value:function(e){return 0}},{key:Symbol.iterator,value:function(){return Eh.visit(this)}},{key:"concat",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return new n(this.data.concat(t.flatMap((function(e){return e.data})).flat(Number.POSITIVE_INFINITY)))}},{key:"slice",value:function(e,t){return new n(Qd(this,e,t,(function(e,t,n){return hh(e.data,e._offsets,t,n)})))}},{key:"toJSON",value:function(){return v(this)}},{key:"toArray",value:function(){var e=this.type,t=this.data,n=this.length,r=this.stride,i=this.ArrayType;switch(e.typeId){case Oc.Int:case Oc.Float:case Oc.Decimal:case Oc.Time:case Oc.Timestamp:switch(t.length){case 0:return new i;case 1:return t[0].values.subarray(0,n*r);default:return t.reduce((function(e,t){var n=t.values;return e.array.set(n,e.offset),e.offset+=n.length,e}),{array:new i(n*r),offset:0}).array}}return v(this)}},{key:"toString",value:function(){return"[".concat(v(this).join(","),"]")}},{key:"getChild",value:function(e){var t;return this.getChildAt(null===(t=this.type.children)||void 0===t?void 0:t.findIndex((function(t){return t.name===e})))}},{key:"getChildAt",value:function(e){return e>-1&&e<this.numChildren?new n(this.data.map((function(t){return t.children[e]}))):null}},{key:"isMemoized",get:function(){return!!ff.isDictionary(this.type)&&this.data[0].dictionary.isMemoized}},{key:"memoize",value:function(){if(ff.isDictionary(this.type)){var e=new Bh(this.data[0].dictionary);return new n(this.data.map((function(t){var n=t.clone();return n.dictionary=e,n})))}return new Bh(this)}},{key:"unmemoize",value:function(){if(ff.isDictionary(this.type)&&this.isMemoized){var e=this.data[0].dictionary.unmemoize();return new n(this.data.map((function(t){var n=t.clone();return n.dictionary=e,n})))}return this}}]),n}();Ch=Symbol.toStringTag,Dh[Ch]=function(e){e.type=ff.prototype,e.data=[],e.length=0,e.stride=1,e.numChildren=0,e._nullCount=-1,e._byteLength=-1,e._offsets=new Uint32Array([0]),e[Symbol.isConcatSpreadable]=!0;var t,n=T(Object.keys(Oc).map((function(e){return Oc[e]})).filter((function(e){return"number"===typeof e&&e!==Oc.NONE})));try{for(n.s();!(t=n.n()).done;){var r,i=t.value,a=Yd.getVisitFnByTypeId(i),o=md.getVisitFnByTypeId(i),u=xh.getVisitFnByTypeId(i),s=Mh.getVisitFnByTypeId(i);zh[i]={get:a,set:o,indexOf:u,byteLength:s},Nh[i]=Object.create(e,(y(r={},"isValid",{value:mh(vh)}),y(r,"get",{value:mh(Yd.getVisitFnByTypeId(i))}),y(r,"set",{value:yh(md.getVisitFnByTypeId(i))}),y(r,"indexOf",{value:_h(xh.getVisitFnByTypeId(i))}),y(r,"getByteLength",{value:mh(Mh.getVisitFnByTypeId(i))}),r))}}catch(l){n.e(l)}finally{n.f()}return"Vector"}(Dh.prototype);var Bh=function(e){k(n,e);var t=S(n);function n(e){var r;E(this,n);var i=(r=t.call(this,e.data)).get,a=r.set,o=r.slice,u=new Array(r.length);return Object.defineProperty(g(r),"get",{value:function(e){var t=u[e];if(void 0!==t)return t;var n=i.call(this,e);return u[e]=n,n}}),Object.defineProperty(g(r),"set",{value:function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,t){a.call(this,e,t),u[e]=t}))}),Object.defineProperty(g(r),"slice",{value:function(e,t){return new n(o.call(g(r),e,t))}}),Object.defineProperty(g(r),"isMemoized",{value:!0}),Object.defineProperty(g(r),"unmemoize",{value:function(){return new Dh(r.data)}}),Object.defineProperty(g(r),"memoize",{value:function(){return g(r)}}),r}return I(n)}(Dh);function Fh(e){if(e){if(e instanceof uh)return new Dh([e]);if(e instanceof Dh)return new Dh(e.data);if(e.type instanceof ff)return new Dh([lh(e)]);if(Array.isArray(e))return new Dh(e.flatMap((function(e){return(t=e)instanceof uh?[t]:t instanceof Dh?t.data:Fh(t).data;var t})));if(ArrayBuffer.isView(e)){e instanceof DataView&&(e=new Uint8Array(e.buffer));var t={offset:0,length:e.length,nullCount:0,data:e};if(e instanceof Int8Array)return new Dh([lh(Object.assign(Object.assign({},t),{type:new pf}))]);if(e instanceof Int16Array)return new Dh([lh(Object.assign(Object.assign({},t),{type:new vf}))]);if(e instanceof Int32Array)return new Dh([lh(Object.assign(Object.assign({},t),{type:new mf}))]);if(e instanceof BigInt64Array)return new Dh([lh(Object.assign(Object.assign({},t),{type:new yf}))]);if(e instanceof Uint8Array||e instanceof Uint8ClampedArray)return new Dh([lh(Object.assign(Object.assign({},t),{type:new _f}))]);if(e instanceof Uint16Array)return new Dh([lh(Object.assign(Object.assign({},t),{type:new bf}))]);if(e instanceof Uint32Array)return new Dh([lh(Object.assign(Object.assign({},t),{type:new gf}))]);if(e instanceof BigUint64Array)return new Dh([lh(Object.assign(Object.assign({},t),{type:new wf}))]);if(e instanceof Float32Array)return new Dh([lh(Object.assign(Object.assign({},t),{type:new kf}))]);if(e instanceof Float64Array)return new Dh([lh(Object.assign(Object.assign({},t),{type:new Sf}))]);throw new Error("Unrecognized input")}}throw new Error("Unrecognized input")}var Ph,Lh,Rh=function(){function e(){E(this,e),this.bb=null,this.bb_pos=0}return I(e,[{key:"__init",value:function(e,t){return this.bb_pos=e,this.bb=t,this}},{key:"offset",value:function(){return this.bb.readInt64(this.bb_pos)}},{key:"metaDataLength",value:function(){return this.bb.readInt32(this.bb_pos+8)}},{key:"bodyLength",value:function(){return this.bb.readInt64(this.bb_pos+16)}}],[{key:"sizeOf",value:function(){return 24}},{key:"createBlock",value:function(e,t,n,r){return e.prep(8,24),e.writeInt64(r),e.pad(4),e.writeInt32(n),e.writeInt64(t),e.offset()}}]),e}(),Uh=new Int32Array(2),Vh=new Float32Array(Uh.buffer),Wh=new Float64Array(Uh.buffer),Yh=1===new Uint16Array(new Uint8Array([1,0]).buffer)[0],Hh=function(){function e(t,n){E(this,e),this.low=0|t,this.high=0|n}return I(e,[{key:"toFloat64",value:function(){return(this.low>>>0)+4294967296*this.high}},{key:"equals",value:function(e){return this.low==e.low&&this.high==e.high}}],[{key:"create",value:function(t,n){return 0==t&&0==n?e.ZERO:new e(t,n)}}]),e}();Hh.ZERO=new Hh(0,0),(Lh=Ph||(Ph={}))[Lh.UTF8_BYTES=1]="UTF8_BYTES",Lh[Lh.UTF16_STRING=2]="UTF16_STRING";var qh,Gh,$h,Xh,Qh,Kh=function(){function e(t){E(this,e),this.bytes_=t,this.position_=0}return I(e,[{key:"clear",value:function(){this.position_=0}},{key:"bytes",value:function(){return this.bytes_}},{key:"position",value:function(){return this.position_}},{key:"setPosition",value:function(e){this.position_=e}},{key:"capacity",value:function(){return this.bytes_.length}},{key:"readInt8",value:function(e){return this.readUint8(e)<<24>>24}},{key:"readUint8",value:function(e){return this.bytes_[e]}},{key:"readInt16",value:function(e){return this.readUint16(e)<<16>>16}},{key:"readUint16",value:function(e){return this.bytes_[e]|this.bytes_[e+1]<<8}},{key:"readInt32",value:function(e){return this.bytes_[e]|this.bytes_[e+1]<<8|this.bytes_[e+2]<<16|this.bytes_[e+3]<<24}},{key:"readUint32",value:function(e){return this.readInt32(e)>>>0}},{key:"readInt64",value:function(e){return new Hh(this.readInt32(e),this.readInt32(e+4))}},{key:"readUint64",value:function(e){return new Hh(this.readUint32(e),this.readUint32(e+4))}},{key:"readFloat32",value:function(e){return Uh[0]=this.readInt32(e),Vh[0]}},{key:"readFloat64",value:function(e){return Uh[Yh?0:1]=this.readInt32(e),Uh[Yh?1:0]=this.readInt32(e+4),Wh[0]}},{key:"writeInt8",value:function(e,t){this.bytes_[e]=t}},{key:"writeUint8",value:function(e,t){this.bytes_[e]=t}},{key:"writeInt16",value:function(e,t){this.bytes_[e]=t,this.bytes_[e+1]=t>>8}},{key:"writeUint16",value:function(e,t){this.bytes_[e]=t,this.bytes_[e+1]=t>>8}},{key:"writeInt32",value:function(e,t){this.bytes_[e]=t,this.bytes_[e+1]=t>>8,this.bytes_[e+2]=t>>16,this.bytes_[e+3]=t>>24}},{key:"writeUint32",value:function(e,t){this.bytes_[e]=t,this.bytes_[e+1]=t>>8,this.bytes_[e+2]=t>>16,this.bytes_[e+3]=t>>24}},{key:"writeInt64",value:function(e,t){this.writeInt32(e,t.low),this.writeInt32(e+4,t.high)}},{key:"writeUint64",value:function(e,t){this.writeUint32(e,t.low),this.writeUint32(e+4,t.high)}},{key:"writeFloat32",value:function(e,t){Vh[0]=t,this.writeInt32(e,Uh[0])}},{key:"writeFloat64",value:function(e,t){Wh[0]=t,this.writeInt32(e,Uh[Yh?0:1]),this.writeInt32(e+4,Uh[Yh?1:0])}},{key:"getBufferIdentifier",value:function(){if(this.bytes_.length<this.position_+4+4)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");for(var e="",t=0;t<4;t++)e+=String.fromCharCode(this.readInt8(this.position_+4+t));return e}},{key:"__offset",value:function(e,t){var n=e-this.readInt32(e);return t<this.readInt16(n)?this.readInt16(n+t):0}},{key:"__union",value:function(e,t){return e.bb_pos=t+this.readInt32(t),e.bb=this,e}},{key:"__string",value:function(e,t){e+=this.readInt32(e);var n=this.readInt32(e),r="",i=0;if(e+=4,t===Ph.UTF8_BYTES)return this.bytes_.subarray(e,e+n);for(;i<n;){var a=void 0,o=this.readUint8(e+i++);if(o<192)a=o;else{var u=this.readUint8(e+i++);if(o<224)a=(31&o)<<6|63&u;else{var s=this.readUint8(e+i++);if(o<240)a=(15&o)<<12|(63&u)<<6|63&s;else a=(7&o)<<18|(63&u)<<12|(63&s)<<6|63&this.readUint8(e+i++)}}a<65536?r+=String.fromCharCode(a):(a-=65536,r+=String.fromCharCode(55296+(a>>10),56320+(1023&a)))}return r}},{key:"__union_with_string",value:function(e,t){return"string"===typeof e?this.__string(t):this.__union(e,t)}},{key:"__indirect",value:function(e){return e+this.readInt32(e)}},{key:"__vector",value:function(e){return e+this.readInt32(e)+4}},{key:"__vector_len",value:function(e){return this.readInt32(e+this.readInt32(e))}},{key:"__has_identifier",value:function(e){if(4!=e.length)throw new Error("FlatBuffers: file identifier must be length 4");for(var t=0;t<4;t++)if(e.charCodeAt(t)!=this.readInt8(this.position()+4+t))return!1;return!0}},{key:"createLong",value:function(e,t){return Hh.create(e,t)}},{key:"createScalarList",value:function(e,t){for(var n=[],r=0;r<t;++r)null!==e(r)&&n.push(e(r));return n}},{key:"createObjList",value:function(e,t){for(var n=[],r=0;r<t;++r){var i=e(r);null!==i&&n.push(i.unpack())}return n}}],[{key:"allocate",value:function(t){return new e(new Uint8Array(t))}}]),e}(),Zh=function(){function e(t){var n;E(this,e),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null,n=t||1024,this.bb=Kh.allocate(n),this.space=n}return I(e,[{key:"clear",value:function(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null}},{key:"forceDefaults",value:function(e){this.force_defaults=e}},{key:"dataBuffer",value:function(){return this.bb}},{key:"asUint8Array",value:function(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())}},{key:"prep",value:function(t,n){t>this.minalign&&(this.minalign=t);for(var r=1+~(this.bb.capacity()-this.space+n)&t-1;this.space<r+t+n;){var i=this.bb.capacity();this.bb=e.growByteBuffer(this.bb),this.space+=this.bb.capacity()-i}this.pad(r)}},{key:"pad",value:function(e){for(var t=0;t<e;t++)this.bb.writeInt8(--this.space,0)}},{key:"writeInt8",value:function(e){this.bb.writeInt8(this.space-=1,e)}},{key:"writeInt16",value:function(e){this.bb.writeInt16(this.space-=2,e)}},{key:"writeInt32",value:function(e){this.bb.writeInt32(this.space-=4,e)}},{key:"writeInt64",value:function(e){this.bb.writeInt64(this.space-=8,e)}},{key:"writeFloat32",value:function(e){this.bb.writeFloat32(this.space-=4,e)}},{key:"writeFloat64",value:function(e){this.bb.writeFloat64(this.space-=8,e)}},{key:"addInt8",value:function(e){this.prep(1,0),this.writeInt8(e)}},{key:"addInt16",value:function(e){this.prep(2,0),this.writeInt16(e)}},{key:"addInt32",value:function(e){this.prep(4,0),this.writeInt32(e)}},{key:"addInt64",value:function(e){this.prep(8,0),this.writeInt64(e)}},{key:"addFloat32",value:function(e){this.prep(4,0),this.writeFloat32(e)}},{key:"addFloat64",value:function(e){this.prep(8,0),this.writeFloat64(e)}},{key:"addFieldInt8",value:function(e,t,n){(this.force_defaults||t!=n)&&(this.addInt8(t),this.slot(e))}},{key:"addFieldInt16",value:function(e,t,n){(this.force_defaults||t!=n)&&(this.addInt16(t),this.slot(e))}},{key:"addFieldInt32",value:function(e,t,n){(this.force_defaults||t!=n)&&(this.addInt32(t),this.slot(e))}},{key:"addFieldInt64",value:function(e,t,n){!this.force_defaults&&t.equals(n)||(this.addInt64(t),this.slot(e))}},{key:"addFieldFloat32",value:function(e,t,n){(this.force_defaults||t!=n)&&(this.addFloat32(t),this.slot(e))}},{key:"addFieldFloat64",value:function(e,t,n){(this.force_defaults||t!=n)&&(this.addFloat64(t),this.slot(e))}},{key:"addFieldOffset",value:function(e,t,n){(this.force_defaults||t!=n)&&(this.addOffset(t),this.slot(e))}},{key:"addFieldStruct",value:function(e,t,n){t!=n&&(this.nested(t),this.slot(e))}},{key:"nested",value:function(e){if(e!=this.offset())throw new Error("FlatBuffers: struct must be serialized inline.")}},{key:"notNested",value:function(){if(this.isNested)throw new Error("FlatBuffers: object serialization must not be nested.")}},{key:"slot",value:function(e){null!==this.vtable&&(this.vtable[e]=this.offset())}},{key:"offset",value:function(){return this.bb.capacity()-this.space}},{key:"addOffset",value:function(e){this.prep(4,0),this.writeInt32(this.offset()-e+4)}},{key:"startObject",value:function(e){this.notNested(),null==this.vtable&&(this.vtable=[]),this.vtable_in_use=e;for(var t=0;t<e;t++)this.vtable[t]=0;this.isNested=!0,this.object_start=this.offset()}},{key:"endObject",value:function(){if(null==this.vtable||!this.isNested)throw new Error("FlatBuffers: endObject called without startObject");this.addInt32(0);for(var e=this.offset(),t=this.vtable_in_use-1;t>=0&&0==this.vtable[t];t--);for(var n=t+1;t>=0;t--)this.addInt16(0!=this.vtable[t]?e-this.vtable[t]:0);this.addInt16(e-this.object_start);var r=2*(n+2);this.addInt16(r);var i=0,a=this.space;e:for(t=0;t<this.vtables.length;t++){var o=this.bb.capacity()-this.vtables[t];if(r==this.bb.readInt16(o)){for(var u=2;u<r;u+=2)if(this.bb.readInt16(a+u)!=this.bb.readInt16(o+u))continue e;i=this.vtables[t];break}}return i?(this.space=this.bb.capacity()-e,this.bb.writeInt32(this.space,i-e)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-e,this.offset()-e)),this.isNested=!1,e}},{key:"finish",value:function(e,t,n){var r=n?4:0;if(t){var i=t;if(this.prep(this.minalign,8+r),4!=i.length)throw new Error("FlatBuffers: file identifier must be length 4");for(var a=3;a>=0;a--)this.writeInt8(i.charCodeAt(a))}this.prep(this.minalign,4+r),this.addOffset(e),r&&this.addInt32(this.bb.capacity()-this.space),this.bb.setPosition(this.space)}},{key:"finishSizePrefixed",value:function(e,t){this.finish(e,t,!0)}},{key:"requiredField",value:function(e,t){var n=this.bb.capacity()-e,r=n-this.bb.readInt32(n);if(!(0!=this.bb.readInt16(r+t)))throw new Error("FlatBuffers: field "+t+" must be set")}},{key:"startVector",value:function(e,t,n){this.notNested(),this.vector_num_elems=t,this.prep(4,e*t),this.prep(n,e*t)}},{key:"endVector",value:function(){return this.writeInt32(this.vector_num_elems),this.offset()}},{key:"createSharedString",value:function(e){if(!e)return 0;if(this.string_maps||(this.string_maps=new Map),this.string_maps.has(e))return this.string_maps.get(e);var t=this.createString(e);return this.string_maps.set(e,t),t}},{key:"createString",value:function(e){if(!e)return 0;var t;if(e instanceof Uint8Array)t=e;else{t=[];for(var n=0;n<e.length;){var r=void 0,i=e.charCodeAt(n++);if(i<55296||i>=56320)r=i;else r=(i<<10)+e.charCodeAt(n++)+-56613888;r<128?t.push(r):(r<2048?t.push(r>>6&31|192):(r<65536?t.push(r>>12&15|224):t.push(r>>18&7|240,r>>12&63|128),t.push(r>>6&63|128)),t.push(63&r|128))}}this.addInt8(0),this.startVector(1,t.length,1),this.bb.setPosition(this.space-=t.length);for(var a=0,o=this.space,u=this.bb.bytes();a<t.length;a++)u[o++]=t[a];return this.endVector()}},{key:"createLong",value:function(e,t){return Hh.create(e,t)}},{key:"createObjectOffset",value:function(e){return null===e?0:"string"===typeof e?this.createString(e):e.pack(this)}},{key:"createObjectOffsetList",value:function(e){for(var t=[],n=0;n<e.length;++n){var r=e[n];if(null===r)throw new Error("FlatBuffers: Argument for createObjectOffsetList cannot contain null.");t.push(this.createObjectOffset(r))}return t}},{key:"createStructOffsetList",value:function(e,t){return t(this,e.length),this.createObjectOffsetList(e),this.endVector()}}],[{key:"growByteBuffer",value:function(e){var t=e.capacity();if(3221225472&t)throw new Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");var n=t<<1,r=Kh.allocate(n);return r.setPosition(n-t),r.bytes().set(e.bytes(),n-t),r}}]),e}(),Jh=function(){function e(){E(this,e),this.bb=null,this.bb_pos=0}return I(e,[{key:"__init",value:function(e,t){return this.bb_pos=e,this.bb=t,this}},{key:"key",value:function(e){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__string(this.bb_pos+t,e):null}},{key:"value",value:function(e){var t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__string(this.bb_pos+t,e):null}}],[{key:"getRootAsKeyValue",value:function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)}},{key:"getSizePrefixedRootAsKeyValue",value:function(t,n){return t.setPosition(t.position()+4),(n||new e).__init(t.readInt32(t.position())+t.position(),t)}},{key:"startKeyValue",value:function(e){e.startObject(2)}},{key:"addKey",value:function(e,t){e.addFieldOffset(0,t,0)}},{key:"addValue",value:function(e,t){e.addFieldOffset(1,t,0)}},{key:"endKeyValue",value:function(e){return e.endObject()}},{key:"createKeyValue",value:function(t,n,r){return e.startKeyValue(t),e.addKey(t,n),e.addValue(t,r),e.endKeyValue(t)}}]),e}();!function(e){e[e.V1=0]="V1",e[e.V2=1]="V2",e[e.V3=2]="V3",e[e.V4=3]="V4",e[e.V5=4]="V5"}(qh||(qh={})),($h=Gh||(Gh={}))[$h.Little=0]="Little",$h[$h.Big=1]="Big",(Qh=Xh||(Xh={}))[Qh.DenseArray=0]="DenseArray";var ep,tp=function(){function e(){E(this,e),this.bb=null,this.bb_pos=0}return I(e,[{key:"__init",value:function(e,t){return this.bb_pos=e,this.bb=t,this}},{key:"bitWidth",value:function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0}},{key:"isSigned",value:function(){var e=this.bb.__offset(this.bb_pos,6);return!!e&&!!this.bb.readInt8(this.bb_pos+e)}}],[{key:"getRootAsInt",value:function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)}},{key:"getSizePrefixedRootAsInt",value:function(t,n){return t.setPosition(t.position()+4),(n||new e).__init(t.readInt32(t.position())+t.position(),t)}},{key:"startInt",value:function(e){e.startObject(2)}},{key:"addBitWidth",value:function(e,t){e.addFieldInt32(0,t,0)}},{key:"addIsSigned",value:function(e,t){e.addFieldInt8(1,+t,0)}},{key:"endInt",value:function(e){return e.endObject()}},{key:"createInt",value:function(t,n,r){return e.startInt(t),e.addBitWidth(t,n),e.addIsSigned(t,r),e.endInt(t)}}]),e}(),np=function(){function e(){E(this,e),this.bb=null,this.bb_pos=0}return I(e,[{key:"__init",value:function(e,t){return this.bb_pos=e,this.bb=t,this}},{key:"id",value:function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt64(this.bb_pos+e):this.bb.createLong(0,0)}},{key:"indexType",value:function(e){var t=this.bb.__offset(this.bb_pos,6);return t?(e||new tp).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}},{key:"isOrdered",value:function(){var e=this.bb.__offset(this.bb_pos,8);return!!e&&!!this.bb.readInt8(this.bb_pos+e)}},{key:"dictionaryKind",value:function(){var e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readInt16(this.bb_pos+e):Xh.DenseArray}}],[{key:"getRootAsDictionaryEncoding",value:function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)}},{key:"getSizePrefixedRootAsDictionaryEncoding",value:function(t,n){return t.setPosition(t.position()+4),(n||new e).__init(t.readInt32(t.position())+t.position(),t)}},{key:"startDictionaryEncoding",value:function(e){e.startObject(4)}},{key:"addId",value:function(e,t){e.addFieldInt64(0,t,e.createLong(0,0))}},{key:"addIndexType",value:function(e,t){e.addFieldOffset(1,t,0)}},{key:"addIsOrdered",value:function(e,t){e.addFieldInt8(2,+t,0)}},{key:"addDictionaryKind",value:function(e,t){e.addFieldInt16(3,t,Xh.DenseArray)}},{key:"endDictionaryEncoding",value:function(e){return e.endObject()}}]),e}(),rp=function(){function e(){E(this,e),this.bb=null,this.bb_pos=0}return I(e,[{key:"__init",value:function(e,t){return this.bb_pos=e,this.bb=t,this}}],[{key:"getRootAsBinary",value:function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)}},{key:"getSizePrefixedRootAsBinary",value:function(t,n){return t.setPosition(t.position()+4),(n||new e).__init(t.readInt32(t.position())+t.position(),t)}},{key:"startBinary",value:function(e){e.startObject(0)}},{key:"endBinary",value:function(e){return e.endObject()}},{key:"createBinary",value:function(t){return e.startBinary(t),e.endBinary(t)}}]),e}(),ip=function(){function e(){E(this,e),this.bb=null,this.bb_pos=0}return I(e,[{key:"__init",value:function(e,t){return this.bb_pos=e,this.bb=t,this}}],[{key:"getRootAsBool",value:function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)}},{key:"getSizePrefixedRootAsBool",value:function(t,n){return t.setPosition(t.position()+4),(n||new e).__init(t.readInt32(t.position())+t.position(),t)}},{key:"startBool",value:function(e){e.startObject(0)}},{key:"endBool",value:function(e){return e.endObject()}},{key:"createBool",value:function(t){return e.startBool(t),e.endBool(t)}}]),e}();!function(e){e[e.DAY=0]="DAY",e[e.MILLISECOND=1]="MILLISECOND"}(ep||(ep={}));var ap,op=function(){function e(){E(this,e),this.bb=null,this.bb_pos=0}return I(e,[{key:"__init",value:function(e,t){return this.bb_pos=e,this.bb=t,this}},{key:"unit",value:function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):ep.MILLISECOND}}],[{key:"getRootAsDate",value:function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)}},{key:"getSizePrefixedRootAsDate",value:function(t,n){return t.setPosition(t.position()+4),(n||new e).__init(t.readInt32(t.position())+t.position(),t)}},{key:"startDate",value:function(e){e.startObject(1)}},{key:"addUnit",value:function(e,t){e.addFieldInt16(0,t,ep.MILLISECOND)}},{key:"endDate",value:function(e){return e.endObject()}},{key:"createDate",value:function(t,n){return e.startDate(t),e.addUnit(t,n),e.endDate(t)}}]),e}(),up=function(){function e(){E(this,e),this.bb=null,this.bb_pos=0}return I(e,[{key:"__init",value:function(e,t){return this.bb_pos=e,this.bb=t,this}},{key:"precision",value:function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0}},{key:"scale",value:function(){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt32(this.bb_pos+e):0}},{key:"bitWidth",value:function(){var e=this.bb.__offset(this.bb_pos,8);return e?this.bb.readInt32(this.bb_pos+e):128}}],[{key:"getRootAsDecimal",value:function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)}},{key:"getSizePrefixedRootAsDecimal",value:function(t,n){return t.setPosition(t.position()+4),(n||new e).__init(t.readInt32(t.position())+t.position(),t)}},{key:"startDecimal",value:function(e){e.startObject(3)}},{key:"addPrecision",value:function(e,t){e.addFieldInt32(0,t,0)}},{key:"addScale",value:function(e,t){e.addFieldInt32(1,t,0)}},{key:"addBitWidth",value:function(e,t){e.addFieldInt32(2,t,128)}},{key:"endDecimal",value:function(e){return e.endObject()}},{key:"createDecimal",value:function(t,n,r,i){return e.startDecimal(t),e.addPrecision(t,n),e.addScale(t,r),e.addBitWidth(t,i),e.endDecimal(t)}}]),e}();!function(e){e[e.SECOND=0]="SECOND",e[e.MILLISECOND=1]="MILLISECOND",e[e.MICROSECOND=2]="MICROSECOND",e[e.NANOSECOND=3]="NANOSECOND"}(ap||(ap={}));var sp,lp=function(){function e(){E(this,e),this.bb=null,this.bb_pos=0}return I(e,[{key:"__init",value:function(e,t){return this.bb_pos=e,this.bb=t,this}},{key:"byteWidth",value:function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0}}],[{key:"getRootAsFixedSizeBinary",value:function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)}},{key:"getSizePrefixedRootAsFixedSizeBinary",value:function(t,n){return t.setPosition(t.position()+4),(n||new e).__init(t.readInt32(t.position())+t.position(),t)}},{key:"startFixedSizeBinary",value:function(e){e.startObject(1)}},{key:"addByteWidth",value:function(e,t){e.addFieldInt32(0,t,0)}},{key:"endFixedSizeBinary",value:function(e){return e.endObject()}},{key:"createFixedSizeBinary",value:function(t,n){return e.startFixedSizeBinary(t),e.addByteWidth(t,n),e.endFixedSizeBinary(t)}}]),e}(),cp=function(){function e(){E(this,e),this.bb=null,this.bb_pos=0}return I(e,[{key:"__init",value:function(e,t){return this.bb_pos=e,this.bb=t,this}},{key:"listSize",value:function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt32(this.bb_pos+e):0}}],[{key:"getRootAsFixedSizeList",value:function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)}},{key:"getSizePrefixedRootAsFixedSizeList",value:function(t,n){return t.setPosition(t.position()+4),(n||new e).__init(t.readInt32(t.position())+t.position(),t)}},{key:"startFixedSizeList",value:function(e){e.startObject(1)}},{key:"addListSize",value:function(e,t){e.addFieldInt32(0,t,0)}},{key:"endFixedSizeList",value:function(e){return e.endObject()}},{key:"createFixedSizeList",value:function(t,n){return e.startFixedSizeList(t),e.addListSize(t,n),e.endFixedSizeList(t)}}]),e}();!function(e){e[e.HALF=0]="HALF",e[e.SINGLE=1]="SINGLE",e[e.DOUBLE=2]="DOUBLE"}(sp||(sp={}));var fp,dp=function(){function e(){E(this,e),this.bb=null,this.bb_pos=0}return I(e,[{key:"__init",value:function(e,t){return this.bb_pos=e,this.bb=t,this}},{key:"precision",value:function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):sp.HALF}}],[{key:"getRootAsFloatingPoint",value:function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)}},{key:"getSizePrefixedRootAsFloatingPoint",value:function(t,n){return t.setPosition(t.position()+4),(n||new e).__init(t.readInt32(t.position())+t.position(),t)}},{key:"startFloatingPoint",value:function(e){e.startObject(1)}},{key:"addPrecision",value:function(e,t){e.addFieldInt16(0,t,sp.HALF)}},{key:"endFloatingPoint",value:function(e){return e.endObject()}},{key:"createFloatingPoint",value:function(t,n){return e.startFloatingPoint(t),e.addPrecision(t,n),e.endFloatingPoint(t)}}]),e}();!function(e){e[e.YEAR_MONTH=0]="YEAR_MONTH",e[e.DAY_TIME=1]="DAY_TIME",e[e.MONTH_DAY_NANO=2]="MONTH_DAY_NANO"}(fp||(fp={}));var hp,pp=function(){function e(){E(this,e),this.bb=null,this.bb_pos=0}return I(e,[{key:"__init",value:function(e,t){return this.bb_pos=e,this.bb=t,this}},{key:"unit",value:function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):fp.YEAR_MONTH}}],[{key:"getRootAsInterval",value:function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)}},{key:"getSizePrefixedRootAsInterval",value:function(t,n){return t.setPosition(t.position()+4),(n||new e).__init(t.readInt32(t.position())+t.position(),t)}},{key:"startInterval",value:function(e){e.startObject(1)}},{key:"addUnit",value:function(e,t){e.addFieldInt16(0,t,fp.YEAR_MONTH)}},{key:"endInterval",value:function(e){return e.endObject()}},{key:"createInterval",value:function(t,n){return e.startInterval(t),e.addUnit(t,n),e.endInterval(t)}}]),e}(),vp=function(){function e(){E(this,e),this.bb=null,this.bb_pos=0}return I(e,[{key:"__init",value:function(e,t){return this.bb_pos=e,this.bb=t,this}}],[{key:"getRootAsList",value:function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)}},{key:"getSizePrefixedRootAsList",value:function(t,n){return t.setPosition(t.position()+4),(n||new e).__init(t.readInt32(t.position())+t.position(),t)}},{key:"startList",value:function(e){e.startObject(0)}},{key:"endList",value:function(e){return e.endObject()}},{key:"createList",value:function(t){return e.startList(t),e.endList(t)}}]),e}(),mp=function(){function e(){E(this,e),this.bb=null,this.bb_pos=0}return I(e,[{key:"__init",value:function(e,t){return this.bb_pos=e,this.bb=t,this}},{key:"keysSorted",value:function(){var e=this.bb.__offset(this.bb_pos,4);return!!e&&!!this.bb.readInt8(this.bb_pos+e)}}],[{key:"getRootAsMap",value:function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)}},{key:"getSizePrefixedRootAsMap",value:function(t,n){return t.setPosition(t.position()+4),(n||new e).__init(t.readInt32(t.position())+t.position(),t)}},{key:"startMap",value:function(e){e.startObject(1)}},{key:"addKeysSorted",value:function(e,t){e.addFieldInt8(0,+t,0)}},{key:"endMap",value:function(e){return e.endObject()}},{key:"createMap",value:function(t,n){return e.startMap(t),e.addKeysSorted(t,n),e.endMap(t)}}]),e}(),yp=function(){function e(){E(this,e),this.bb=null,this.bb_pos=0}return I(e,[{key:"__init",value:function(e,t){return this.bb_pos=e,this.bb=t,this}}],[{key:"getRootAsNull",value:function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)}},{key:"getSizePrefixedRootAsNull",value:function(t,n){return t.setPosition(t.position()+4),(n||new e).__init(t.readInt32(t.position())+t.position(),t)}},{key:"startNull",value:function(e){e.startObject(0)}},{key:"endNull",value:function(e){return e.endObject()}},{key:"createNull",value:function(t){return e.startNull(t),e.endNull(t)}}]),e}(),_p=function(){function e(){E(this,e),this.bb=null,this.bb_pos=0}return I(e,[{key:"__init",value:function(e,t){return this.bb_pos=e,this.bb=t,this}}],[{key:"getRootAsStruct_",value:function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)}},{key:"getSizePrefixedRootAsStruct_",value:function(t,n){return t.setPosition(t.position()+4),(n||new e).__init(t.readInt32(t.position())+t.position(),t)}},{key:"startStruct_",value:function(e){e.startObject(0)}},{key:"endStruct_",value:function(e){return e.endObject()}},{key:"createStruct_",value:function(t){return e.startStruct_(t),e.endStruct_(t)}}]),e}(),bp=function(){function e(){E(this,e),this.bb=null,this.bb_pos=0}return I(e,[{key:"__init",value:function(e,t){return this.bb_pos=e,this.bb=t,this}},{key:"unit",value:function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):ap.MILLISECOND}},{key:"bitWidth",value:function(){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt32(this.bb_pos+e):32}}],[{key:"getRootAsTime",value:function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)}},{key:"getSizePrefixedRootAsTime",value:function(t,n){return t.setPosition(t.position()+4),(n||new e).__init(t.readInt32(t.position())+t.position(),t)}},{key:"startTime",value:function(e){e.startObject(2)}},{key:"addUnit",value:function(e,t){e.addFieldInt16(0,t,ap.MILLISECOND)}},{key:"addBitWidth",value:function(e,t){e.addFieldInt32(1,t,32)}},{key:"endTime",value:function(e){return e.endObject()}},{key:"createTime",value:function(t,n,r){return e.startTime(t),e.addUnit(t,n),e.addBitWidth(t,r),e.endTime(t)}}]),e}(),gp=function(){function e(){E(this,e),this.bb=null,this.bb_pos=0}return I(e,[{key:"__init",value:function(e,t){return this.bb_pos=e,this.bb=t,this}},{key:"unit",value:function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):ap.SECOND}},{key:"timezone",value:function(e){var t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__string(this.bb_pos+t,e):null}}],[{key:"getRootAsTimestamp",value:function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)}},{key:"getSizePrefixedRootAsTimestamp",value:function(t,n){return t.setPosition(t.position()+4),(n||new e).__init(t.readInt32(t.position())+t.position(),t)}},{key:"startTimestamp",value:function(e){e.startObject(2)}},{key:"addUnit",value:function(e,t){e.addFieldInt16(0,t,ap.SECOND)}},{key:"addTimezone",value:function(e,t){e.addFieldOffset(1,t,0)}},{key:"endTimestamp",value:function(e){return e.endObject()}},{key:"createTimestamp",value:function(t,n,r){return e.startTimestamp(t),e.addUnit(t,n),e.addTimezone(t,r),e.endTimestamp(t)}}]),e}();!function(e){e[e.Sparse=0]="Sparse",e[e.Dense=1]="Dense"}(hp||(hp={}));var wp,xp=function(){function e(){E(this,e),this.bb=null,this.bb_pos=0}return I(e,[{key:"__init",value:function(e,t){return this.bb_pos=e,this.bb=t,this}},{key:"mode",value:function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):hp.Sparse}},{key:"typeIds",value:function(e){var t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt32(this.bb.__vector(this.bb_pos+t)+4*e):0}},{key:"typeIdsLength",value:function(){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}},{key:"typeIdsArray",value:function(){var e=this.bb.__offset(this.bb_pos,6);return e?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+e),this.bb.__vector_len(this.bb_pos+e)):null}}],[{key:"getRootAsUnion",value:function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)}},{key:"getSizePrefixedRootAsUnion",value:function(t,n){return t.setPosition(t.position()+4),(n||new e).__init(t.readInt32(t.position())+t.position(),t)}},{key:"startUnion",value:function(e){e.startObject(2)}},{key:"addMode",value:function(e,t){e.addFieldInt16(0,t,hp.Sparse)}},{key:"addTypeIds",value:function(e,t){e.addFieldOffset(1,t,0)}},{key:"createTypeIdsVector",value:function(e,t){e.startVector(4,t.length,4);for(var n=t.length-1;n>=0;n--)e.addInt32(t[n]);return e.endVector()}},{key:"startTypeIdsVector",value:function(e,t){e.startVector(4,t,4)}},{key:"endUnion",value:function(e){return e.endObject()}},{key:"createUnion",value:function(t,n,r){return e.startUnion(t),e.addMode(t,n),e.addTypeIds(t,r),e.endUnion(t)}}]),e}(),kp=function(){function e(){E(this,e),this.bb=null,this.bb_pos=0}return I(e,[{key:"__init",value:function(e,t){return this.bb_pos=e,this.bb=t,this}}],[{key:"getRootAsUtf8",value:function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)}},{key:"getSizePrefixedRootAsUtf8",value:function(t,n){return t.setPosition(t.position()+4),(n||new e).__init(t.readInt32(t.position())+t.position(),t)}},{key:"startUtf8",value:function(e){e.startObject(0)}},{key:"endUtf8",value:function(e){return e.endObject()}},{key:"createUtf8",value:function(t){return e.startUtf8(t),e.endUtf8(t)}}]),e}();!function(e){e[e.NONE=0]="NONE",e[e.Null=1]="Null",e[e.Int=2]="Int",e[e.FloatingPoint=3]="FloatingPoint",e[e.Binary=4]="Binary",e[e.Utf8=5]="Utf8",e[e.Bool=6]="Bool",e[e.Decimal=7]="Decimal",e[e.Date=8]="Date",e[e.Time=9]="Time",e[e.Timestamp=10]="Timestamp",e[e.Interval=11]="Interval",e[e.List=12]="List",e[e.Struct_=13]="Struct_",e[e.Union=14]="Union",e[e.FixedSizeBinary=15]="FixedSizeBinary",e[e.FixedSizeList=16]="FixedSizeList",e[e.Map=17]="Map",e[e.Duration=18]="Duration",e[e.LargeBinary=19]="LargeBinary",e[e.LargeUtf8=20]="LargeUtf8",e[e.LargeList=21]="LargeList"}(wp||(wp={}));var Sp=function(){function e(){E(this,e),this.bb=null,this.bb_pos=0}return I(e,[{key:"__init",value:function(e,t){return this.bb_pos=e,this.bb=t,this}},{key:"name",value:function(e){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__string(this.bb_pos+t,e):null}},{key:"nullable",value:function(){var e=this.bb.__offset(this.bb_pos,6);return!!e&&!!this.bb.readInt8(this.bb_pos+e)}},{key:"typeType",value:function(){var e=this.bb.__offset(this.bb_pos,8);return e?this.bb.readUint8(this.bb_pos+e):wp.NONE}},{key:"type",value:function(e){var t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__union(e,this.bb_pos+t):null}},{key:"dictionary",value:function(e){var t=this.bb.__offset(this.bb_pos,12);return t?(e||new np).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}},{key:"children",value:function(t,n){var r=this.bb.__offset(this.bb_pos,14);return r?(n||new e).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+4*t),this.bb):null}},{key:"childrenLength",value:function(){var e=this.bb.__offset(this.bb_pos,14);return e?this.bb.__vector_len(this.bb_pos+e):0}},{key:"customMetadata",value:function(e,t){var n=this.bb.__offset(this.bb_pos,16);return n?(t||new Jh).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+4*e),this.bb):null}},{key:"customMetadataLength",value:function(){var e=this.bb.__offset(this.bb_pos,16);return e?this.bb.__vector_len(this.bb_pos+e):0}}],[{key:"getRootAsField",value:function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)}},{key:"getSizePrefixedRootAsField",value:function(t,n){return t.setPosition(t.position()+4),(n||new e).__init(t.readInt32(t.position())+t.position(),t)}},{key:"startField",value:function(e){e.startObject(7)}},{key:"addName",value:function(e,t){e.addFieldOffset(0,t,0)}},{key:"addNullable",value:function(e,t){e.addFieldInt8(1,+t,0)}},{key:"addTypeType",value:function(e,t){e.addFieldInt8(2,t,wp.NONE)}},{key:"addType",value:function(e,t){e.addFieldOffset(3,t,0)}},{key:"addDictionary",value:function(e,t){e.addFieldOffset(4,t,0)}},{key:"addChildren",value:function(e,t){e.addFieldOffset(5,t,0)}},{key:"createChildrenVector",value:function(e,t){e.startVector(4,t.length,4);for(var n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()}},{key:"startChildrenVector",value:function(e,t){e.startVector(4,t,4)}},{key:"addCustomMetadata",value:function(e,t){e.addFieldOffset(6,t,0)}},{key:"createCustomMetadataVector",value:function(e,t){e.startVector(4,t.length,4);for(var n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()}},{key:"startCustomMetadataVector",value:function(e,t){e.startVector(4,t,4)}},{key:"endField",value:function(e){return e.endObject()}}]),e}(),Ap=function(){function e(){E(this,e),this.bb=null,this.bb_pos=0}return I(e,[{key:"__init",value:function(e,t){return this.bb_pos=e,this.bb=t,this}},{key:"endianness",value:function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):Gh.Little}},{key:"fields",value:function(e,t){var n=this.bb.__offset(this.bb_pos,6);return n?(t||new Sp).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+4*e),this.bb):null}},{key:"fieldsLength",value:function(){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}},{key:"customMetadata",value:function(e,t){var n=this.bb.__offset(this.bb_pos,8);return n?(t||new Jh).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+4*e),this.bb):null}},{key:"customMetadataLength",value:function(){var e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0}},{key:"features",value:function(e){var t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt64(this.bb.__vector(this.bb_pos+t)+8*e):this.bb.createLong(0,0)}},{key:"featuresLength",value:function(){var e=this.bb.__offset(this.bb_pos,10);return e?this.bb.__vector_len(this.bb_pos+e):0}}],[{key:"getRootAsSchema",value:function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)}},{key:"getSizePrefixedRootAsSchema",value:function(t,n){return t.setPosition(t.position()+4),(n||new e).__init(t.readInt32(t.position())+t.position(),t)}},{key:"startSchema",value:function(e){e.startObject(4)}},{key:"addEndianness",value:function(e,t){e.addFieldInt16(0,t,Gh.Little)}},{key:"addFields",value:function(e,t){e.addFieldOffset(1,t,0)}},{key:"createFieldsVector",value:function(e,t){e.startVector(4,t.length,4);for(var n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()}},{key:"startFieldsVector",value:function(e,t){e.startVector(4,t,4)}},{key:"addCustomMetadata",value:function(e,t){e.addFieldOffset(2,t,0)}},{key:"createCustomMetadataVector",value:function(e,t){e.startVector(4,t.length,4);for(var n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()}},{key:"startCustomMetadataVector",value:function(e,t){e.startVector(4,t,4)}},{key:"addFeatures",value:function(e,t){e.addFieldOffset(3,t,0)}},{key:"createFeaturesVector",value:function(e,t){e.startVector(8,t.length,8);for(var n=t.length-1;n>=0;n--)e.addInt64(t[n]);return e.endVector()}},{key:"startFeaturesVector",value:function(e,t){e.startVector(8,t,8)}},{key:"endSchema",value:function(e){return e.endObject()}},{key:"finishSchemaBuffer",value:function(e,t){e.finish(t)}},{key:"finishSizePrefixedSchemaBuffer",value:function(e,t){e.finish(t,void 0,!0)}},{key:"createSchema",value:function(t,n,r,i,a){return e.startSchema(t),e.addEndianness(t,n),e.addFields(t,r),e.addCustomMetadata(t,i),e.addFeatures(t,a),e.endSchema(t)}}]),e}(),Ep=function(){function e(){E(this,e),this.bb=null,this.bb_pos=0}return I(e,[{key:"__init",value:function(e,t){return this.bb_pos=e,this.bb=t,this}},{key:"version",value:function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):qh.V1}},{key:"schema",value:function(e){var t=this.bb.__offset(this.bb_pos,6);return t?(e||new Ap).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}},{key:"dictionaries",value:function(e,t){var n=this.bb.__offset(this.bb_pos,8);return n?(t||new Rh).__init(this.bb.__vector(this.bb_pos+n)+24*e,this.bb):null}},{key:"dictionariesLength",value:function(){var e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0}},{key:"recordBatches",value:function(e,t){var n=this.bb.__offset(this.bb_pos,10);return n?(t||new Rh).__init(this.bb.__vector(this.bb_pos+n)+24*e,this.bb):null}},{key:"recordBatchesLength",value:function(){var e=this.bb.__offset(this.bb_pos,10);return e?this.bb.__vector_len(this.bb_pos+e):0}},{key:"customMetadata",value:function(e,t){var n=this.bb.__offset(this.bb_pos,12);return n?(t||new Jh).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+4*e),this.bb):null}},{key:"customMetadataLength",value:function(){var e=this.bb.__offset(this.bb_pos,12);return e?this.bb.__vector_len(this.bb_pos+e):0}}],[{key:"getRootAsFooter",value:function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)}},{key:"getSizePrefixedRootAsFooter",value:function(t,n){return t.setPosition(t.position()+4),(n||new e).__init(t.readInt32(t.position())+t.position(),t)}},{key:"startFooter",value:function(e){e.startObject(5)}},{key:"addVersion",value:function(e,t){e.addFieldInt16(0,t,qh.V1)}},{key:"addSchema",value:function(e,t){e.addFieldOffset(1,t,0)}},{key:"addDictionaries",value:function(e,t){e.addFieldOffset(2,t,0)}},{key:"startDictionariesVector",value:function(e,t){e.startVector(24,t,8)}},{key:"addRecordBatches",value:function(e,t){e.addFieldOffset(3,t,0)}},{key:"startRecordBatchesVector",value:function(e,t){e.startVector(24,t,8)}},{key:"addCustomMetadata",value:function(e,t){e.addFieldOffset(4,t,0)}},{key:"createCustomMetadataVector",value:function(e,t){e.startVector(4,t.length,4);for(var n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()}},{key:"startCustomMetadataVector",value:function(e,t){e.startVector(4,t,4)}},{key:"endFooter",value:function(e){return e.endObject()}},{key:"finishFooterBuffer",value:function(e,t){e.finish(t)}},{key:"finishSizePrefixedFooterBuffer",value:function(e,t){e.finish(t,void 0,!0)}}]),e}(),Op=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0;E(this,t),this.fields=e||[],this.metadata=n||new Map,r||(r=jp(e)),this.dictionaries=r}return I(t,[{key:Symbol.toStringTag,get:function(){return"Schema"}},{key:"names",get:function(){return this.fields.map((function(e){return e.name}))}},{key:"toString",value:function(){return"Schema<{ ".concat(this.fields.map((function(e,t){return"".concat(t,": ").concat(e)})).join(", ")," }>")}},{key:"select",value:function(e){var n=new Set(e);return new t(this.fields.filter((function(e){return n.has(e.name)})),this.metadata)}},{key:"selectAt",value:function(e){var n=this,r=e.map((function(e){return n.fields[e]})).filter(Boolean);return new t(r,this.metadata)}},{key:"assign",value:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0]instanceof t?n[0]:Array.isArray(n[0])?new t(n[0]):new t(n),a=v(this.fields),o=Tp(Tp(new Map,this.metadata),i.metadata),u=i.fields.filter((function(e){var t=a.findIndex((function(t){return t.name===e.name}));return!~t||(a[t]=e.clone({metadata:Tp(Tp(new Map,a[t].metadata),e.metadata)}))&&!1})),s=jp(u,new Map);return new t([].concat(v(a),v(u)),o,new Map([].concat(v(this.dictionaries),v(s))))}}]),t}();Op.prototype.fields=null,Op.prototype.metadata=null,Op.prototype.dictionaries=null;var Ip=function(e){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3?arguments[3]:void 0;E(this,t),this.name=e,this.type=n,this.nullable=r,this.metadata=i||new Map}return I(t,[{key:"typeId",get:function(){return this.type.typeId}},{key:Symbol.toStringTag,get:function(){return"Field"}},{key:"toString",value:function(){return"".concat(this.name,": ").concat(this.type)}},{key:"clone",value:function(){for(var e,n,r,i,a,o,u,s,l,c,d=arguments.length,h=new Array(d),p=0;p<d;p++)h[p]=arguments[p];var v=h[0],m=h[1],y=h[2],_=h[3];return h[0]&&"object"===typeof h[0]?(v=void 0===(u=(o=h[0]).name)?this.name:u,m=void 0===(s=o.type)?this.type:s,y=void 0===(l=o.nullable)?this.nullable:l,_=void 0===(c=o.metadata)?this.metadata:c):(v=void 0===(n=(e=f(h,4))[0])?this.name:n,m=void 0===(r=e[1])?this.type:r,y=void 0===(i=e[2])?this.nullable:i,_=void 0===(a=e[3])?this.metadata:a),t.new(v,m,y,_)}}],[{key:"new",value:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],a=n[1],o=n[2],u=n[3];return n[0]&&"object"===typeof n[0]&&(i=n[0].name,void 0===a&&(a=n[0].type),void 0===o&&(o=n[0].nullable),void 0===u&&(u=n[0].metadata)),new t("".concat(i),a,o,u)}}]),t}();function Tp(e,t){return new Map([].concat(v(e||new Map),v(t||new Map)))}function jp(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Map,n=-1,r=e.length;++n<r;){var i=e[n].type;if(ff.isDictionary(i))if(t.has(i.id)){if(t.get(i.id)!==i.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}else t.set(i.id,i.dictionary);i.children&&i.children.length>0&&jp(i.children,t)}return t}Ip.prototype.type=null,Ip.prototype.name=null,Ip.prototype.nullable=null,Ip.prototype.metadata=null;var Cp=Hh,Mp=Zh,zp=Kh,Np=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:hc.V4,r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0;E(this,e),this.schema=t,this.version=n,r&&(this._recordBatches=r),i&&(this._dictionaryBatches=i)}return I(e,[{key:"numRecordBatches",get:function(){return this._recordBatches.length}},{key:"numDictionaries",get:function(){return this._dictionaryBatches.length}},{key:"recordBatches",value:o().mark((function e(){var t,n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=-1,r=this.numRecordBatches;case 1:if(!(++n<r)){e.next=7;break}if(!(t=this.getRecordBatch(n))){e.next=5;break}return e.next=5,t;case 5:e.next=1;break;case 7:case"end":return e.stop()}}),e,this)}))},{key:"dictionaryBatches",value:o().mark((function e(){var t,n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=-1,r=this.numDictionaries;case 1:if(!(++n<r)){e.next=7;break}if(!(t=this.getDictionaryBatch(n))){e.next=5;break}return e.next=5,t;case 5:e.next=1;break;case 7:case"end":return e.stop()}}),e,this)}))},{key:"getRecordBatch",value:function(e){return e>=0&&e<this.numRecordBatches&&this._recordBatches[e]||null}},{key:"getDictionaryBatch",value:function(e){return e>=0&&e<this.numDictionaries&&this._dictionaryBatches[e]||null}}],[{key:"decode",value:function(e){e=new zp(Jl(e));var t=Ep.getRootAsFooter(e),n=Op.decode(t.schema());return new Dp(n,t)}},{key:"encode",value:function(e){var t=new Mp,n=Op.encode(t,e.schema);Ep.startRecordBatchesVector(t,e.numRecordBatches);var r,i=T(v(e.recordBatches()).slice().reverse());try{for(i.s();!(r=i.n()).done;){var a=r.value;Bp.encode(t,a)}}catch(f){i.e(f)}finally{i.f()}var o=t.endVector();Ep.startDictionariesVector(t,e.numDictionaries);var u,s=T(v(e.dictionaryBatches()).slice().reverse());try{for(s.s();!(u=s.n()).done;){var l=u.value;Bp.encode(t,l)}}catch(f){s.e(f)}finally{s.f()}var c=t.endVector();return Ep.startFooter(t),Ep.addSchema(t,n),Ep.addVersion(t,hc.V4),Ep.addRecordBatches(t,o),Ep.addDictionaries(t,c),Ep.finishFooterBuffer(t,Ep.endFooter(t)),t.asUint8Array()}}]),e}(),Dp=function(e){k(n,e);var t=S(n);function n(e,r){var i;return E(this,n),(i=t.call(this,e,r.version()))._footer=r,i}return I(n,[{key:"numRecordBatches",get:function(){return this._footer.recordBatchesLength()}},{key:"numDictionaries",get:function(){return this._footer.dictionariesLength()}},{key:"getRecordBatch",value:function(e){if(e>=0&&e<this.numRecordBatches){var t=this._footer.recordBatches(e);if(t)return Bp.decode(t)}return null}},{key:"getDictionaryBatch",value:function(e){if(e>=0&&e<this.numDictionaries){var t=this._footer.dictionaries(e);if(t)return Bp.decode(t)}return null}}]),n}(Np),Bp=function(){function e(t,n,r){E(this,e),this.metaDataLength=t,this.offset="number"===typeof r?r:r.low,this.bodyLength="number"===typeof n?n:n.low}return I(e,null,[{key:"decode",value:function(t){return new e(t.metaDataLength(),t.bodyLength(),t.offset())}},{key:"encode",value:function(e,t){var n=t.metaDataLength,r=new Cp(t.offset,0),i=new Cp(t.bodyLength,0);return Rh.createBlock(e,r,n,i)}}]),e}(),Fp=Object.freeze({done:!0,value:void 0}),Pp=function(){function e(t){E(this,e),this._json=t}return I(e,[{key:"schema",get:function(){return this._json.schema}},{key:"batches",get:function(){return this._json.batches||[]}},{key:"dictionaries",get:function(){return this._json.dictionaries||[]}}]),e}(),Lp=function(){function e(){E(this,e)}return I(e,[{key:"tee",value:function(){return this._getDOMStream().tee()}},{key:"pipe",value:function(e,t){return this._getNodeStream().pipe(e,t)}},{key:"pipeTo",value:function(e,t){return this._getDOMStream().pipeTo(e,t)}},{key:"pipeThrough",value:function(e,t){return this._getDOMStream().pipeThrough(e,t)}},{key:"_getDOMStream",value:function(){return this._DOMStream||(this._DOMStream=this.toDOMStream())}},{key:"_getNodeStream",value:function(){return this._nodeStream||(this._nodeStream=this.toNodeStream())}}]),e}(),Rp=function(e){k(n,e);var t=S(n);function n(){return E(this,n),t.apply(this,arguments)}return I(n,[{key:"write",value:function(e){if((e=Jl(e)).byteLength>0)return x(w(n.prototype),"write",this).call(this,e)}},{key:"toString",value:function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]?El(this.toUint8Array(!0)):this.toUint8Array(!1).then(El)}},{key:"toUint8Array",value:function(){var e=this;return arguments.length>0&&void 0!==arguments[0]&&arguments[0]?Ql(this._values)[0]:bl(e,void 0,void 0,o().mark((function e(){var t,n,r,i,a,u,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=[],i=0,e.prev=2,a=Sl(this);case 4:return e.next=6,a.next();case 6:if((u=e.sent).done){e.next=13;break}s=u.value,r.push(s),i+=s.byteLength;case 11:e.next=4;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(2),t={error:e.t0};case 18:if(e.prev=18,e.prev=19,!u||u.done||!(n=a.return)){e.next=23;break}return e.next=23,n.call(a);case 23:if(e.prev=23,!t){e.next=26;break}throw t.error;case 26:return e.finish(23);case 27:return e.finish(18);case 28:return e.abrupt("return",Ql(r,i)[0]);case 29:case"end":return e.stop()}}),e,this,[[2,15,18,28],[19,,23,27]])})))}}]),n}(function(e,t){k(r,e);var n=S(r);function r(){var e;return E(this,r),(e=n.call(this))._values=[],e.resolvers=[],e._closedPromise=new Promise((function(t){return e._closedPromiseResolve=t})),e}return I(r,[{key:"closed",get:function(){return this._closedPromise}},{key:"cancel",value:function(e){return bl(this,void 0,void 0,o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.return(e);case 2:case"end":return t.stop()}}),t,this)})))}},{key:"write",value:function(e){this._ensureOpen()&&(this.resolvers.length<=0?this._values.push(e):this.resolvers.shift().resolve({done:!1,value:e}))}},{key:"abort",value:function(e){this._closedPromiseResolve&&(this.resolvers.length<=0?this._error={error:e}:this.resolvers.shift().reject({done:!0,value:e}))}},{key:"close",value:function(){if(this._closedPromiseResolve){for(var e=this.resolvers;e.length>0;)e.shift().resolve(Fp);this._closedPromiseResolve(),this._closedPromiseResolve=void 0}}},{key:t,value:function(){return this}},{key:"toDOMStream",value:function(e){return lc(this._closedPromiseResolve||this._error?this:this._values,e)}},{key:"toNodeStream",value:function(e){return cc(this._closedPromiseResolve||this._error?this:this._values,e)}},{key:"throw",value:function(e){return bl(this,void 0,void 0,o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.abort(e);case 2:return t.abrupt("return",Fp);case 3:case"end":return t.stop()}}),t,this)})))}},{key:"return",value:function(e){return bl(this,void 0,void 0,o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.close();case 2:return e.abrupt("return",Fp);case 3:case"end":return e.stop()}}),e,this)})))}},{key:"read",value:function(e){return bl(this,void 0,void 0,o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.next(e,"read");case 2:return t.abrupt("return",t.sent.value);case 3:case"end":return t.stop()}}),t,this)})))}},{key:"peek",value:function(e){return bl(this,void 0,void 0,o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.next(e,"peek");case 2:return t.abrupt("return",t.sent.value);case 3:case"end":return t.stop()}}),t,this)})))}},{key:"next",value:function(){var e=this;return this._values.length>0?Promise.resolve({done:!1,value:this._values.shift()}):this._error?Promise.reject({done:!0,value:this._error.error}):this._closedPromiseResolve?new Promise((function(t,n){e.resolvers.push({resolve:t,reject:n})})):Promise.resolve(Fp)}},{key:"_ensureOpen",value:function(){if(this._closedPromiseResolve)return!0;throw new Error("AsyncQueue is closed")}}]),r}(Lp,Symbol.asyncIterator)),Up=function(e){function t(e){E(this,t),e&&(this.source=new Wp(ac(e)))}return I(t,[{key:Symbol.iterator,value:function(){return this}},{key:"next",value:function(e){return this.source.next(e)}},{key:"throw",value:function(e){return this.source.throw(e)}},{key:"return",value:function(e){return this.source.return(e)}},{key:"peek",value:function(e){return this.source.peek(e)}},{key:"read",value:function(e){return this.source.read(e)}}]),t}(),Vp=function(e){function t(e){E(this,t),e instanceof t?this.source=e.source:e instanceof Rp?this.source=new Yp(oc(e)):ql(e)?this.source=new Yp(sc(e)):Hl(e)?this.source=new Yp(uc(e)):Wl(e)?this.source=new Yp(uc(e.body)):Pl(e)?this.source=new Yp(ac(e)):(Fl(e)||Ll(e))&&(this.source=new Yp(oc(e)))}return I(t,[{key:Symbol.asyncIterator,value:function(){return this}},{key:"next",value:function(e){return this.source.next(e)}},{key:"throw",value:function(e){return this.source.throw(e)}},{key:"return",value:function(e){return this.source.return(e)}},{key:"closed",get:function(){return this.source.closed}},{key:"cancel",value:function(e){return this.source.cancel(e)}},{key:"peek",value:function(e){return this.source.peek(e)}},{key:"read",value:function(e){return this.source.read(e)}}]),t}(),Wp=function(){function e(t){E(this,e),this.source=t}return I(e,[{key:"cancel",value:function(e){this.return(e)}},{key:"peek",value:function(e){return this.next(e,"peek").value}},{key:"read",value:function(e){return this.next(e,"read").value}},{key:"next",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"read";return this.source.next({cmd:t,size:e})}},{key:"throw",value:function(e){return Object.create(this.source.throw&&this.source.throw(e)||Fp)}},{key:"return",value:function(e){return Object.create(this.source.return&&this.source.return(e)||Fp)}}]),e}(),Yp=function(){function e(t){var n=this;E(this,e),this.source=t,this._closedPromise=new Promise((function(e){return n._closedPromiseResolve=e}))}return I(e,[{key:"cancel",value:function(e){return bl(this,void 0,void 0,o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.return(e);case 2:case"end":return t.stop()}}),t,this)})))}},{key:"closed",get:function(){return this._closedPromise}},{key:"read",value:function(e){return bl(this,void 0,void 0,o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.next(e,"read");case 2:return t.abrupt("return",t.sent.value);case 3:case"end":return t.stop()}}),t,this)})))}},{key:"peek",value:function(e){return bl(this,void 0,void 0,o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.next(e,"peek");case 2:return t.abrupt("return",t.sent.value);case 3:case"end":return t.stop()}}),t,this)})))}},{key:"next",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"read";return bl(this,void 0,void 0,o().mark((function n(){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.source.next({cmd:t,size:e});case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n,this)})))}},{key:"throw",value:function(e){return bl(this,void 0,void 0,o().mark((function t(){var n;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t1=this.source.throw,!t.t1){t.next=5;break}return t.next=4,this.source.throw(e);case 4:t.t1=t.sent;case 5:if(t.t0=t.t1,t.t0){t.next=8;break}t.t0=Fp;case 8:return n=t.t0,this._closedPromiseResolve&&this._closedPromiseResolve(),this._closedPromiseResolve=void 0,t.abrupt("return",Object.create(n));case 12:case"end":return t.stop()}}),t,this)})))}},{key:"return",value:function(e){return bl(this,void 0,void 0,o().mark((function t(){var n;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t1=this.source.return,!t.t1){t.next=5;break}return t.next=4,this.source.return(e);case 4:t.t1=t.sent;case 5:if(t.t0=t.t1,t.t0){t.next=8;break}t.t0=Fp;case 8:return n=t.t0,this._closedPromiseResolve&&this._closedPromiseResolve(),this._closedPromiseResolve=void 0,t.abrupt("return",Object.create(n));case 12:case"end":return t.stop()}}),t,this)})))}}]),e}(),Hp=function(e){k(n,e);var t=S(n);function n(e,r){var i;return E(this,n),(i=t.call(this)).position=0,i.buffer=Jl(e),i.size="undefined"===typeof r?i.buffer.byteLength:r,i}return I(n,[{key:"readInt32",value:function(e){var t=this.readAt(e,4),n=t.buffer,r=t.byteOffset;return new DataView(n,r).getInt32(0,!0)}},{key:"seek",value:function(e){return this.position=Math.min(e,this.size),e<this.size}},{key:"read",value:function(e){var t=this.buffer,n=this.size,r=this.position;return t&&r<n?("number"!==typeof e&&(e=Number.POSITIVE_INFINITY),this.position=Math.min(n,r+Math.min(n-r,e)),t.subarray(r,this.position)):null}},{key:"readAt",value:function(e,t){var n=this.buffer,r=Math.min(this.size,e+t);return n?n.subarray(e,r):new Uint8Array(t)}},{key:"close",value:function(){this.buffer&&(this.buffer=null)}},{key:"throw",value:function(e){return this.close(),{done:!0,value:e}}},{key:"return",value:function(e){return this.close(),{done:!0,value:e}}}]),n}(Up),qp=function(e){k(n,e);var t=S(n);function n(e,r){var i;return E(this,n),(i=t.call(this)).position=0,i._handle=e,"number"===typeof r?i.size=r:i._pending=bl(g(i),void 0,void 0,o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.stat();case 2:this.size=t.sent.size,delete this._pending;case 4:case"end":return t.stop()}}),t,this)}))),i}return I(n,[{key:"readInt32",value:function(e){return bl(this,void 0,void 0,o().mark((function t(){var n,r,i;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.readAt(e,4);case 2:return n=t.sent,r=n.buffer,i=n.byteOffset,t.abrupt("return",new DataView(r,i).getInt32(0,!0));case 6:case"end":return t.stop()}}),t,this)})))}},{key:"seek",value:function(e){return bl(this,void 0,void 0,o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this._pending,!t.t0){t.next=4;break}return t.next=4,this._pending;case 4:return this.position=Math.min(e,this.size),t.abrupt("return",e<this.size);case 6:case"end":return t.stop()}}),t,this)})))}},{key:"read",value:function(e){return bl(this,void 0,void 0,o().mark((function t(){var n,r,i,a,u,s,l,c,f;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this._pending,!t.t0){t.next=4;break}return t.next=4,this._pending;case 4:if(n=this._handle,r=this.size,i=this.position,!(n&&i<r)){t.next=18;break}"number"!==typeof e&&(e=Number.POSITIVE_INFINITY),a=i,u=0,s=0,l=Math.min(r,a+Math.min(r-a,e)),c=new Uint8Array(Math.max(0,(this.position=l)-a));case 10:if(!((a+=s)<l&&(u+=s)<c.byteLength)){t.next=17;break}return t.next=13,n.read(c,u,c.byteLength-u,a);case 13:f=t.sent,s=f.bytesRead,t.next=10;break;case 17:return t.abrupt("return",c);case 18:return t.abrupt("return",null);case 19:case"end":return t.stop()}}),t,this)})))}},{key:"readAt",value:function(e,t){return bl(this,void 0,void 0,o().mark((function n(){var r,i,a,u;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.t0=this._pending,!n.t0){n.next=4;break}return n.next=4,this._pending;case 4:if(r=this._handle,i=this.size,!(r&&e+t<i)){n.next=11;break}return a=Math.min(i,e+t),u=new Uint8Array(a-e),n.next=10,r.read(u,0,t,e);case 10:return n.abrupt("return",n.sent.buffer);case 11:return n.abrupt("return",new Uint8Array(t));case 12:case"end":return n.stop()}}),n,this)})))}},{key:"close",value:function(){return bl(this,void 0,void 0,o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this._handle,this._handle=null,e.t0=t,!e.t0){e.next=6;break}return e.next=6,t.close();case 6:case"end":return e.stop()}}),e,this)})))}},{key:"throw",value:function(e){return bl(this,void 0,void 0,o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.close();case 2:return t.abrupt("return",{done:!0,value:e});case 3:case"end":return t.stop()}}),t,this)})))}},{key:"return",value:function(e){return bl(this,void 0,void 0,o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.close();case 2:return t.abrupt("return",{done:!0,value:e});case 3:case"end":return t.stop()}}),t,this)})))}}]),n}(Vp);function Gp(e){return e<0&&(e=4294967295+e+1),"0x".concat(e.toString(16))}var $p=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8],Xp=function(){function e(t){E(this,e),this.buffer=t}return I(e,[{key:"high",value:function(){return this.buffer[1]}},{key:"low",value:function(){return this.buffer[0]}},{key:"_times",value:function(e){var t=new Uint32Array([this.buffer[1]>>>16,65535&this.buffer[1],this.buffer[0]>>>16,65535&this.buffer[0]]),n=new Uint32Array([e.buffer[1]>>>16,65535&e.buffer[1],e.buffer[0]>>>16,65535&e.buffer[0]]),r=t[3]*n[3];this.buffer[0]=65535&r;var i=r>>>16;return i+=r=t[2]*n[3],i+=r=t[3]*n[2]>>>0,this.buffer[0]+=i<<16,this.buffer[1]=i>>>0<r?65536:0,this.buffer[1]+=i>>>16,this.buffer[1]+=t[1]*n[3]+t[2]*n[2]+t[3]*n[1],this.buffer[1]+=t[0]*n[3]+t[1]*n[2]+t[2]*n[1]+t[3]*n[0]<<16,this}},{key:"_plus",value:function(e){var t=this.buffer[0]+e.buffer[0]>>>0;this.buffer[1]+=e.buffer[1],t<this.buffer[0]>>>0&&++this.buffer[1],this.buffer[0]=t}},{key:"lessThan",value:function(e){return this.buffer[1]<e.buffer[1]||this.buffer[1]===e.buffer[1]&&this.buffer[0]<e.buffer[0]}},{key:"equals",value:function(e){return this.buffer[1]===e.buffer[1]&&this.buffer[0]==e.buffer[0]}},{key:"greaterThan",value:function(e){return e.lessThan(this)}},{key:"hex",value:function(){return"".concat(Gp(this.buffer[1])," ").concat(Gp(this.buffer[0]))}}]),e}(),Qp=function(e){k(n,e);var t=S(n);function n(){return E(this,n),t.apply(this,arguments)}return I(n,[{key:"times",value:function(e){return this._times(e),this}},{key:"plus",value:function(e){return this._plus(e),this}}],[{key:"from",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Uint32Array(2);return n.fromString("string"===typeof e?e:e.toString(),t)}},{key:"fromNumber",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Uint32Array(2);return n.fromString(e.toString(),t)}},{key:"fromString",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Uint32Array(2),r=e.length,i=new n(t),a=0;a<r;){var o=8<r-a?8:r-a,u=new n(new Uint32Array([Number.parseInt(e.slice(a,a+o),10),0])),s=new n(new Uint32Array([$p[o],0]));i.times(s),i.plus(u),a+=o}return i}},{key:"convertArray",value:function(e){for(var t=new Uint32Array(2*e.length),r=-1,i=e.length;++r<i;)n.from(e[r],new Uint32Array(t.buffer,t.byteOffset+2*r*4,2));return t}},{key:"multiply",value:function(e,t){return new n(new Uint32Array(e.buffer)).times(t)}},{key:"add",value:function(e,t){return new n(new Uint32Array(e.buffer)).plus(t)}}]),n}(Xp),Kp=function(e){k(n,e);var t=S(n);function n(){return E(this,n),t.apply(this,arguments)}return I(n,[{key:"negate",value:function(){return this.buffer[0]=1+~this.buffer[0],this.buffer[1]=~this.buffer[1],0==this.buffer[0]&&++this.buffer[1],this}},{key:"times",value:function(e){return this._times(e),this}},{key:"plus",value:function(e){return this._plus(e),this}},{key:"lessThan",value:function(e){var t=this.buffer[1]<<0,n=e.buffer[1]<<0;return t<n||t===n&&this.buffer[0]<e.buffer[0]}}],[{key:"from",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Uint32Array(2);return n.fromString("string"===typeof e?e:e.toString(),t)}},{key:"fromNumber",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Uint32Array(2);return n.fromString(e.toString(),t)}},{key:"fromString",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Uint32Array(2),r=e.startsWith("-"),i=e.length,a=new n(t),o=r?1:0;o<i;){var u=8<i-o?8:i-o,s=new n(new Uint32Array([Number.parseInt(e.slice(o,o+u),10),0])),l=new n(new Uint32Array([$p[u],0]));a.times(l),a.plus(s),o+=u}return r?a.negate():a}},{key:"convertArray",value:function(e){for(var t=new Uint32Array(2*e.length),r=-1,i=e.length;++r<i;)n.from(e[r],new Uint32Array(t.buffer,t.byteOffset+2*r*4,2));return t}},{key:"multiply",value:function(e,t){return new n(new Uint32Array(e.buffer)).times(t)}},{key:"add",value:function(e,t){return new n(new Uint32Array(e.buffer)).plus(t)}}]),n}(Xp),Zp=function(){function e(t){E(this,e),this.buffer=t}return I(e,[{key:"high",value:function(){return new Kp(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset+8,2))}},{key:"low",value:function(){return new Kp(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset,2))}},{key:"negate",value:function(){return this.buffer[0]=1+~this.buffer[0],this.buffer[1]=~this.buffer[1],this.buffer[2]=~this.buffer[2],this.buffer[3]=~this.buffer[3],0==this.buffer[0]&&++this.buffer[1],0==this.buffer[1]&&++this.buffer[2],0==this.buffer[2]&&++this.buffer[3],this}},{key:"times",value:function(e){var t=new Qp(new Uint32Array([this.buffer[3],0])),n=new Qp(new Uint32Array([this.buffer[2],0])),r=new Qp(new Uint32Array([this.buffer[1],0])),i=new Qp(new Uint32Array([this.buffer[0],0])),a=new Qp(new Uint32Array([e.buffer[3],0])),o=new Qp(new Uint32Array([e.buffer[2],0])),u=new Qp(new Uint32Array([e.buffer[1],0])),s=new Qp(new Uint32Array([e.buffer[0],0])),l=Qp.multiply(i,s);this.buffer[0]=l.low();var c=new Qp(new Uint32Array([l.high(),0]));return l=Qp.multiply(r,s),c.plus(l),l=Qp.multiply(i,u),c.plus(l),this.buffer[1]=c.low(),this.buffer[3]=c.lessThan(l)?1:0,this.buffer[2]=c.high(),new Qp(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset+8,2)).plus(Qp.multiply(n,s)).plus(Qp.multiply(r,u)).plus(Qp.multiply(i,o)),this.buffer[3]+=Qp.multiply(t,s).plus(Qp.multiply(n,u)).plus(Qp.multiply(r,o)).plus(Qp.multiply(i,a)).low(),this}},{key:"plus",value:function(e){var t=new Uint32Array(4);return t[3]=this.buffer[3]+e.buffer[3]>>>0,t[2]=this.buffer[2]+e.buffer[2]>>>0,t[1]=this.buffer[1]+e.buffer[1]>>>0,t[0]=this.buffer[0]+e.buffer[0]>>>0,t[0]<this.buffer[0]>>>0&&++t[1],t[1]<this.buffer[1]>>>0&&++t[2],t[2]<this.buffer[2]>>>0&&++t[3],this.buffer[3]=t[3],this.buffer[2]=t[2],this.buffer[1]=t[1],this.buffer[0]=t[0],this}},{key:"hex",value:function(){return"".concat(Gp(this.buffer[3])," ").concat(Gp(this.buffer[2])," ").concat(Gp(this.buffer[1])," ").concat(Gp(this.buffer[0]))}}],[{key:"multiply",value:function(t,n){return new e(new Uint32Array(t.buffer)).times(n)}},{key:"add",value:function(t,n){return new e(new Uint32Array(t.buffer)).plus(n)}},{key:"from",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Uint32Array(4);return e.fromString("string"===typeof t?t:t.toString(),n)}},{key:"fromNumber",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Uint32Array(4);return e.fromString(t.toString(),n)}},{key:"fromString",value:function(t){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Uint32Array(4),r=t.startsWith("-"),i=t.length,a=new e(n),o=r?1:0;o<i;){var u=8<i-o?8:i-o,s=new e(new Uint32Array([Number.parseInt(t.slice(o,o+u),10),0,0,0])),l=new e(new Uint32Array([$p[u],0,0,0]));a.times(l),a.plus(s),o+=u}return r?a.negate():a}},{key:"convertArray",value:function(t){for(var n=new Uint32Array(4*t.length),r=-1,i=t.length;++r<i;)e.from(t[r],new Uint32Array(n.buffer,n.byteOffset+16*r,4));return n}}]),e}(),Jp=function(e){k(n,e);var t=S(n);function n(e,r,i,a){var o;return E(this,n),(o=t.call(this)).nodesIndex=-1,o.buffersIndex=-1,o.bytes=e,o.nodes=r,o.buffers=i,o.dictionaries=a,o}return I(n,[{key:"visit",value:function(e){return x(w(n.prototype),"visit",this).call(this,e instanceof Ip?e.type:e)}},{key:"visitNull",value:function(e){return lh({type:e,length:(arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode()).length})}},{key:"visitBool",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode(),n=t.length,r=t.nullCount;return lh({type:e,length:n,nullCount:r,nullBitmap:this.readNullBitmap(e,r),data:this.readData(e)})}},{key:"visitInt",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode(),n=t.length,r=t.nullCount;return lh({type:e,length:n,nullCount:r,nullBitmap:this.readNullBitmap(e,r),data:this.readData(e)})}},{key:"visitFloat",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode(),n=t.length,r=t.nullCount;return lh({type:e,length:n,nullCount:r,nullBitmap:this.readNullBitmap(e,r),data:this.readData(e)})}},{key:"visitUtf8",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode(),n=t.length,r=t.nullCount;return lh({type:e,length:n,nullCount:r,nullBitmap:this.readNullBitmap(e,r),valueOffsets:this.readOffsets(e),data:this.readData(e)})}},{key:"visitBinary",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode(),n=t.length,r=t.nullCount;return lh({type:e,length:n,nullCount:r,nullBitmap:this.readNullBitmap(e,r),valueOffsets:this.readOffsets(e),data:this.readData(e)})}},{key:"visitFixedSizeBinary",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode(),n=t.length,r=t.nullCount;return lh({type:e,length:n,nullCount:r,nullBitmap:this.readNullBitmap(e,r),data:this.readData(e)})}},{key:"visitDate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode(),n=t.length,r=t.nullCount;return lh({type:e,length:n,nullCount:r,nullBitmap:this.readNullBitmap(e,r),data:this.readData(e)})}},{key:"visitTimestamp",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode(),n=t.length,r=t.nullCount;return lh({type:e,length:n,nullCount:r,nullBitmap:this.readNullBitmap(e,r),data:this.readData(e)})}},{key:"visitTime",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode(),n=t.length,r=t.nullCount;return lh({type:e,length:n,nullCount:r,nullBitmap:this.readNullBitmap(e,r),data:this.readData(e)})}},{key:"visitDecimal",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode(),n=t.length,r=t.nullCount;return lh({type:e,length:n,nullCount:r,nullBitmap:this.readNullBitmap(e,r),data:this.readData(e)})}},{key:"visitList",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode(),n=t.length,r=t.nullCount;return lh({type:e,length:n,nullCount:r,nullBitmap:this.readNullBitmap(e,r),valueOffsets:this.readOffsets(e),child:this.visit(e.children[0])})}},{key:"visitStruct",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode(),n=t.length,r=t.nullCount;return lh({type:e,length:n,nullCount:r,nullBitmap:this.readNullBitmap(e,r),children:this.visitMany(e.children)})}},{key:"visitUnion",value:function(e){return e.mode===vc.Sparse?this.visitSparseUnion(e):this.visitDenseUnion(e)}},{key:"visitDenseUnion",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode(),n=t.length,r=t.nullCount;return lh({type:e,length:n,nullCount:r,nullBitmap:this.readNullBitmap(e,r),typeIds:this.readTypeIds(e),valueOffsets:this.readOffsets(e),children:this.visitMany(e.children)})}},{key:"visitSparseUnion",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode(),n=t.length,r=t.nullCount;return lh({type:e,length:n,nullCount:r,nullBitmap:this.readNullBitmap(e,r),typeIds:this.readTypeIds(e),children:this.visitMany(e.children)})}},{key:"visitDictionary",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode(),n=t.length,r=t.nullCount;return lh({type:e,length:n,nullCount:r,nullBitmap:this.readNullBitmap(e,r),data:this.readData(e.indices),dictionary:this.readDictionary(e)})}},{key:"visitInterval",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode(),n=t.length,r=t.nullCount;return lh({type:e,length:n,nullCount:r,nullBitmap:this.readNullBitmap(e,r),data:this.readData(e)})}},{key:"visitFixedSizeList",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode(),n=t.length,r=t.nullCount;return lh({type:e,length:n,nullCount:r,nullBitmap:this.readNullBitmap(e,r),child:this.visit(e.children[0])})}},{key:"visitMap",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextFieldNode(),n=t.length,r=t.nullCount;return lh({type:e,length:n,nullCount:r,nullBitmap:this.readNullBitmap(e,r),valueOffsets:this.readOffsets(e),child:this.visit(e.children[0])})}},{key:"nextFieldNode",value:function(){return this.nodes[++this.nodesIndex]}},{key:"nextBufferRange",value:function(){return this.buffers[++this.buffersIndex]}},{key:"readNullBitmap",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.nextBufferRange();return t>0&&this.readData(e,n)||new Uint8Array(0)}},{key:"readOffsets",value:function(e,t){return this.readData(e,t)}},{key:"readTypeIds",value:function(e,t){return this.readData(e,t)}},{key:"readData",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextBufferRange(),n=t.length,r=t.offset;return this.bytes.subarray(r,r+n)}},{key:"readDictionary",value:function(e){return this.dictionaries.get(e.id)}}]),n}(Wf),ev=function(e){k(n,e);var t=S(n);function n(e,r,i,a){var o;return E(this,n),(o=t.call(this,new Uint8Array(0),r,i,a)).sources=e,o}return I(n,[{key:"readNullBitmap",value:function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.nextBufferRange()).offset;return t<=0?new Uint8Array(0):rh(this.sources[n])}},{key:"readOffsets",value:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextBufferRange()).offset;return Kl(Uint8Array,Kl(Int32Array,this.sources[t]))}},{key:"readTypeIds",value:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextBufferRange()).offset;return Kl(Uint8Array,Kl(e.ArrayType,this.sources[t]))}},{key:"readData",value:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.nextBufferRange()).offset,n=this.sources;return ff.isTimestamp(e)||(ff.isInt(e)||ff.isTime(e))&&64===e.bitWidth||ff.isDate(e)&&e.unit===bc.MILLISECOND?Kl(Uint8Array,Kp.convertArray(n[t])):ff.isDecimal(e)?Kl(Uint8Array,Zp.convertArray(n[t])):ff.isBinary(e)||ff.isFixedSizeBinary(e)?function(e){for(var t=e.join(""),n=new Uint8Array(t.length/2),r=0;r<t.length;r+=2)n[r>>1]=Number.parseInt(t.slice(r,r+2),16);return n}(n[t]):ff.isBool(e)?rh(n[t]):ff.isUtf8(e)?Il(n[t].join("")):Kl(Uint8Array,Kl(e.ArrayType,n[t].map((function(e){return+e}))))}}]),n}(Jp);var tv=function(e){k(n,e);var t=S(n);function n(){return E(this,n),t.apply(this,arguments)}return I(n,[{key:"compareSchemas",value:function(e,t){return e===t||t instanceof e.constructor&&this.compareManyFields(e.fields,t.fields)}},{key:"compareManyFields",value:function(e,t){var n=this;return e===t||Array.isArray(e)&&Array.isArray(t)&&e.length===t.length&&e.every((function(e,r){return n.compareFields(e,t[r])}))}},{key:"compareFields",value:function(e,t){return e===t||t instanceof e.constructor&&e.name===t.name&&e.nullable===t.nullable&&this.visit(e.type,t.type)}}]),n}(Wf);function nv(e,t){return t instanceof e.constructor}function rv(e,t){return e===t||nv(e,t)}function iv(e,t){return e===t||nv(e,t)&&e.bitWidth===t.bitWidth&&e.isSigned===t.isSigned}function av(e,t){return e===t||nv(e,t)&&e.precision===t.precision}function ov(e,t){return e===t||nv(e,t)&&e.unit===t.unit}function uv(e,t){return e===t||nv(e,t)&&e.unit===t.unit&&e.timezone===t.timezone}function sv(e,t){return e===t||nv(e,t)&&e.unit===t.unit&&e.bitWidth===t.bitWidth}function lv(e,t){return e===t||nv(e,t)&&e.mode===t.mode&&e.typeIds.every((function(e,n){return e===t.typeIds[n]}))&&dv.compareManyFields(e.children,t.children)}function cv(e,t){return e===t||nv(e,t)&&e.unit===t.unit}tv.prototype.visitNull=rv,tv.prototype.visitBool=rv,tv.prototype.visitInt=iv,tv.prototype.visitInt8=iv,tv.prototype.visitInt16=iv,tv.prototype.visitInt32=iv,tv.prototype.visitInt64=iv,tv.prototype.visitUint8=iv,tv.prototype.visitUint16=iv,tv.prototype.visitUint32=iv,tv.prototype.visitUint64=iv,tv.prototype.visitFloat=av,tv.prototype.visitFloat16=av,tv.prototype.visitFloat32=av,tv.prototype.visitFloat64=av,tv.prototype.visitUtf8=rv,tv.prototype.visitBinary=rv,tv.prototype.visitFixedSizeBinary=function(e,t){return e===t||nv(e,t)&&e.byteWidth===t.byteWidth},tv.prototype.visitDate=ov,tv.prototype.visitDateDay=ov,tv.prototype.visitDateMillisecond=ov,tv.prototype.visitTimestamp=uv,tv.prototype.visitTimestampSecond=uv,tv.prototype.visitTimestampMillisecond=uv,tv.prototype.visitTimestampMicrosecond=uv,tv.prototype.visitTimestampNanosecond=uv,tv.prototype.visitTime=sv,tv.prototype.visitTimeSecond=sv,tv.prototype.visitTimeMillisecond=sv,tv.prototype.visitTimeMicrosecond=sv,tv.prototype.visitTimeNanosecond=sv,tv.prototype.visitDecimal=rv,tv.prototype.visitList=function(e,t){return e===t||nv(e,t)&&e.children.length===t.children.length&&dv.compareManyFields(e.children,t.children)},tv.prototype.visitStruct=function(e,t){return e===t||nv(e,t)&&e.children.length===t.children.length&&dv.compareManyFields(e.children,t.children)},tv.prototype.visitUnion=lv,tv.prototype.visitDenseUnion=lv,tv.prototype.visitSparseUnion=lv,tv.prototype.visitDictionary=function(e,t){return e===t||nv(e,t)&&e.id===t.id&&e.isOrdered===t.isOrdered&&dv.visit(e.indices,t.indices)&&dv.visit(e.dictionary,t.dictionary)},tv.prototype.visitInterval=cv,tv.prototype.visitIntervalDayTime=cv,tv.prototype.visitIntervalYearMonth=cv,tv.prototype.visitFixedSizeList=function(e,t){return e===t||nv(e,t)&&e.listSize===t.listSize&&e.children.length===t.children.length&&dv.compareManyFields(e.children,t.children)},tv.prototype.visitMap=function(e,t){return e===t||nv(e,t)&&e.keysSorted===t.keysSorted&&e.children.length===t.children.length&&dv.compareManyFields(e.children,t.children)};var fv,dv=new tv;function hv(e,t){return dv.compareSchemas(e,t)}function pv(e,t){return function(e,t){var n,r=v(e.fields),i=[],a={numBatches:t.reduce((function(e,t){return Math.max(e,t.length)}),0)},o=0,u=0,s=-1,l=t.length,c=[];for(;a.numBatches-- >0;){for(u=Number.POSITIVE_INFINITY,s=-1;++s<l;)c[s]=n=t[s].shift(),u=Math.min(u,n?n.length:u);Number.isFinite(u)&&(c=vv(r,u,c,t,a),u>0&&(i[o++]=lh({type:new Nf(r),length:u,nullCount:0,children:c.slice()})))}return[e=e.assign(r),i.map((function(t){return new _v(e,t)}))]}(e,t.map((function(e){return e.data.concat()})))}function vv(e,t,n,r,i){for(var a,o=(t+63&-64)>>3,u=-1,s=r.length;++u<s;){var l=n[u],c=null===l||void 0===l?void 0:l.length;if(c>=t)c===t?n[u]=l:(n[u]=l.slice(0,t),i.numBatches=Math.max(i.numBatches,r[u].unshift(l.slice(t,c-t))));else{var f=e[u];e[u]=f.clone({nullable:!0}),n[u]=null!==(a=null===l||void 0===l?void 0:l._changeLengthAndBackfillNullBitmap(t))&&void 0!==a?a:lh({type:f.type,length:t,nullCount:t,nullBitmap:new Uint8Array(o)})}}return n}var mv,yv=function(e){function t(){var e,n,r,i;E(this,t);for(var a=arguments.length,o=new Array(a),u=0;u<a;u++)o[u]=arguments[u];if(0===o.length)return this.batches=[],this.schema=new Op([]),this._offsets=[0],this;o[0]instanceof Op&&(r=o.shift()),o[o.length-1]instanceof Uint32Array&&(i=o.pop());var s=function e(n){if(n){if(n instanceof _v)return[n];if(n instanceof t)return n.batches;if(n instanceof uh){if(n.type instanceof Nf)return[new _v(new Op(n.type.children),n)]}else{if(Array.isArray(n))return n.flatMap((function(t){return e(t)}));if("function"===typeof n[Symbol.iterator])return v(n).flatMap((function(t){return e(t)}));if("object"===typeof n){var r=Object.keys(n),i=r.map((function(e){return new Dh([n[e]])})),a=new Op(r.map((function(e,t){return new Ip(String(e),i[t].type)}))),o=f(pv(a,i),2)[1];return 0===o.length?[new _v(n)]:o}}}return[]},l=o.flatMap((function(e){return s(e)}));if(!((r=null!==(n=null!==r&&void 0!==r?r:null===(e=l[0])||void 0===e?void 0:e.schema)&&void 0!==n?n:new Op([]))instanceof Op))throw new TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");var c,d=T(l);try{for(d.s();!(c=d.n()).done;){var h=c.value;if(!(h instanceof _v))throw new TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");if(!hv(r,h.schema))throw new TypeError("Table and inner RecordBatch schemas must be equivalent.")}}catch(p){d.e(p)}finally{d.f()}this.schema=r,this.batches=l,this._offsets=null!==i&&void 0!==i?i:dh(this.data)}return I(t,[{key:"data",get:function(){return this.batches.map((function(e){return e.data}))}},{key:"numCols",get:function(){return this.schema.fields.length}},{key:"numRows",get:function(){return this.data.reduce((function(e,t){return e+t.length}),0)}},{key:"nullCount",get:function(){return-1===this._nullCount&&(this._nullCount=fh(this.data)),this._nullCount}},{key:"isValid",value:function(e){return!1}},{key:"get",value:function(e){return null}},{key:"set",value:function(e,t){}},{key:"indexOf",value:function(e,t){return-1}},{key:"getByteLength",value:function(e){return 0}},{key:Symbol.iterator,value:function(){return this.batches.length>0?Eh.visit(new Dh(this.data)):new Array(0)[Symbol.iterator]()}},{key:"toArray",value:function(){return v(this)}},{key:"toString",value:function(){return"[\n  ".concat(this.toArray().join(",\n  "),"\n]")}},{key:"concat",value:function(){for(var e=this.schema,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=this.data.concat(r.flatMap((function(e){return e.data})));return new t(e,a.map((function(t){return new _v(e,t)})))}},{key:"slice",value:function(e,n){var r=this.schema,i=f(Qd({length:this.numRows},e,n),2);e=i[0],n=i[1];var a=hh(this.data,this._offsets,e,n);return new t(r,a.map((function(e){return new _v(r,e)})))}},{key:"getChild",value:function(e){return this.getChildAt(this.schema.fields.findIndex((function(t){return t.name===e})))}},{key:"getChildAt",value:function(e){if(e>-1&&e<this.schema.fields.length){var t=this.data.map((function(t){return t.children[e]}));if(0===t.length){var n=lh({type:this.schema.fields[e].type,length:0,nullCount:0});t.push(n._changeLengthAndBackfillNullBitmap(this.numRows))}return new Dh(t)}return null}},{key:"setChild",value:function(e,t){var n;return this.setChildAt(null===(n=this.schema.fields)||void 0===n?void 0:n.findIndex((function(t){return t.name===e})),t)}},{key:"setChildAt",value:function(e,n){var r=this,i=this.schema,a=v(this.batches);if(e>-1&&e<this.numCols){n||(n=new Dh([lh({type:new df,length:this.numRows})]));var o=i.fields.slice(),u=o[e].clone({type:n.type}),s=this.schema.fields.map((function(e,t){return r.getChildAt(t)})),l=[u,n];o[e]=l[0],s[e]=l[1];var c=f(pv(i,s),2);i=c[0],a=c[1]}return new t(i,a)}},{key:"select",value:function(e){var t=this.schema.fields.reduce((function(e,t,n){return e.set(t.name,n)}),new Map);return this.selectAt(e.map((function(e){return t.get(e)})).filter((function(e){return e>-1})))}},{key:"selectAt",value:function(e){return new t(this.schema.selectAt(e),this.batches.map((function(t){return t.selectAt(e)})))}},{key:"assign",value:function(e){var n=this,r=this.schema.fields,i=e.schema.fields.reduce((function(e,t,n){var i=f(e,2),a=i[0],o=i[1],u=r.findIndex((function(e){return e.name===t.name}));return~u?o[u]=n:a.push(n),e}),[[],[]]),a=f(i,2),o=a[0],u=a[1],s=this.schema.assign(e.schema),l=[].concat(v(r.map((function(e,t){return[t,u[t]]})).map((function(t){var r=f(t,2),i=r[0],a=r[1];return void 0===a?n.getChildAt(i):e.getChildAt(a)}))),v(o.map((function(t){return e.getChildAt(t)})))).filter(Boolean);return p(t,v(pv(s,l)))}}]),t}();fv=Symbol.toStringTag,yv[fv]=function(e){return e.schema=null,e.batches=[],e._offsets=new Uint32Array([0]),e._nullCount=-1,e[Symbol.isConcatSpreadable]=!0,e.isValid=mh(vh),e.get=mh(Yd.getVisitFn(Oc.Struct)),e.set=yh(md.getVisitFn(Oc.Struct)),e.indexOf=_h(xh.getVisitFn(Oc.Struct)),e.getByteLength=mh(Mh.getVisitFn(Oc.Struct)),"Table"}(yv.prototype);var _v=function(e){function t(){E(this,t);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];switch(n.length){case 2:if(this.schema=n[0],!(this.schema instanceof Op))throw new TypeError("RecordBatch constructor expects a [Schema, Data] pair.");var i=n[1];if(this.data=void 0===i?lh({nullCount:0,type:new Nf(this.schema.fields),children:this.schema.fields.map((function(e){return lh({type:e.type,nullCount:0})}))}):i,!(this.data instanceof uh))throw new TypeError("RecordBatch constructor expects a [Schema, Data] pair.");var a=f(bv(this.schema,this.data.children),2);this.schema=a[0],this.data=a[1];break;case 1:var o=n[0],u=Object.keys(o).reduce((function(e,t,n){return e.children[n]=o[t],e.length=Math.max(e.length,o[t].length),e.fields[n]=Ip.new({name:t,type:o[t].type,nullable:!0}),e}),{length:0,fields:new Array,children:new Array}),s=u.fields,l=u.children,c=u.length,d=f(bv(new Op(s),lh({type:new Nf(s),length:c,children:l,nullCount:0}).children,c),2);this.schema=d[0],this.data=d[1];break;default:throw new TypeError("RecordBatch constructor expects an Object mapping names to child Data, or a [Schema, Data] pair.")}}return I(t,[{key:"dictionaries",get:function(){return this._dictionaries||(this._dictionaries=gv(this.schema.fields,this.data.children))}},{key:"numCols",get:function(){return this.schema.fields.length}},{key:"numRows",get:function(){return this.data.length}},{key:"nullCount",get:function(){return this.data.nullCount}},{key:"isValid",value:function(e){return this.data.getValid(e)}},{key:"get",value:function(e){return Yd.visit(this.data,e)}},{key:"set",value:function(e,t){return md.visit(this.data,e,t)}},{key:"indexOf",value:function(e,t){return xh.visit(this.data,e,t)}},{key:"getByteLength",value:function(e){return Mh.visit(this.data,e)}},{key:Symbol.iterator,value:function(){return Eh.visit(new Dh([this.data]))}},{key:"toArray",value:function(){return v(this)}},{key:"concat",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new yv(this.schema,[this].concat(t))}},{key:"slice",value:function(e,n){var r=f(new Dh([this.data]).slice(e,n).data,1)[0];return new t(this.schema,r)}},{key:"getChild",value:function(e){var t;return this.getChildAt(null===(t=this.schema.fields)||void 0===t?void 0:t.findIndex((function(t){return t.name===e})))}},{key:"getChildAt",value:function(e){return e>-1&&e<this.schema.fields.length?new Dh([this.data.children[e]]):null}},{key:"setChild",value:function(e,t){var n;return this.setChildAt(null===(n=this.schema.fields)||void 0===n?void 0:n.findIndex((function(t){return t.name===e})),t)}},{key:"setChildAt",value:function(e,n){var r=this.schema,i=this.data;if(e>-1&&e<this.numCols){n||(n=new Dh([lh({type:new df,length:this.numRows})]));var a=r.fields.slice(),o=i.children.slice(),u=[a[e].clone({type:n.type}),n.data[0]];a[e]=u[0],o[e]=u[1],r=new Op(a,new Map(this.schema.metadata)),i=lh({type:new Nf(a),children:o})}return new t(r,i)}},{key:"select",value:function(e){var n,r=this,i=this.schema.select(e),a=new Nf(i.fields),o=[],u=T(e);try{var s=function(){var e=n.value,t=r.schema.fields.findIndex((function(t){return t.name===e}));~t&&(o[t]=r.data.children[t])};for(u.s();!(n=u.n()).done;)s()}catch(l){u.e(l)}finally{u.f()}return new t(i,lh({type:a,length:this.numRows,children:o}))}},{key:"selectAt",value:function(e){var n=this,r=this.schema.selectAt(e),i=e.map((function(e){return n.data.children[e]})).filter(Boolean);return new t(r,lh({type:new Nf(r.fields),length:this.numRows,children:i}))}}]),t}();function bv(e,t){var n,r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.reduce((function(e,t){return Math.max(e,t.length)}),0),a=v(e.fields),o=v(t),u=(i+63&-64)>>3,s=T(e.fields.entries());try{for(s.s();!(r=s.n()).done;){var l=f(r.value,2),c=l[0],d=l[1],h=t[c];h&&h.length===i||(a[c]=d.clone({nullable:!0}),o[c]=null!==(n=null===h||void 0===h?void 0:h._changeLengthAndBackfillNullBitmap(i))&&void 0!==n?n:lh({type:d.type,length:i,nullCount:i,nullBitmap:new Uint8Array(u)}))}}catch(p){s.e(p)}finally{s.f()}return[e.assign(a),lh({type:new Nf(a),length:i,children:o})]}function gv(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Map,r=-1,i=e.length;++r<i;){var a=e[r].type,o=t[r];if(ff.isDictionary(a))if(n.has(a.id)){if(n.get(a.id)!==o.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}else o.dictionary&&n.set(a.id,o.dictionary);a.children&&a.children.length>0&&gv(a.children,o.children,n)}return n}mv=Symbol.toStringTag,_v[mv]=function(e){return e._nullCount=-1,e[Symbol.isConcatSpreadable]=!0,"RecordBatch"}(_v.prototype);var wv,xv,kv,Sv,Av=function(e){k(n,e);var t=S(n);function n(e){E(this,n);var r=e.fields.map((function(e){return lh({type:e.type})})),i=lh({type:new Nf(e.fields),nullCount:0,children:r});return t.call(this,e,i)}return I(n)}(_v);(xv=wv||(wv={}))[xv.BUFFER=0]="BUFFER",(Sv=kv||(kv={}))[Sv.LZ4_FRAME=0]="LZ4_FRAME",Sv[Sv.ZSTD=1]="ZSTD";var Ev,Ov=function(){function e(){E(this,e),this.bb=null,this.bb_pos=0}return I(e,[{key:"__init",value:function(e,t){return this.bb_pos=e,this.bb=t,this}},{key:"codec",value:function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt8(this.bb_pos+e):kv.LZ4_FRAME}},{key:"method",value:function(){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt8(this.bb_pos+e):wv.BUFFER}}],[{key:"getRootAsBodyCompression",value:function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)}},{key:"getSizePrefixedRootAsBodyCompression",value:function(t,n){return t.setPosition(t.position()+4),(n||new e).__init(t.readInt32(t.position())+t.position(),t)}},{key:"startBodyCompression",value:function(e){e.startObject(2)}},{key:"addCodec",value:function(e,t){e.addFieldInt8(0,t,kv.LZ4_FRAME)}},{key:"addMethod",value:function(e,t){e.addFieldInt8(1,t,wv.BUFFER)}},{key:"endBodyCompression",value:function(e){return e.endObject()}},{key:"createBodyCompression",value:function(t,n,r){return e.startBodyCompression(t),e.addCodec(t,n),e.addMethod(t,r),e.endBodyCompression(t)}}]),e}(),Iv=function(){function e(){E(this,e),this.bb=null,this.bb_pos=0}return I(e,[{key:"__init",value:function(e,t){return this.bb_pos=e,this.bb=t,this}},{key:"offset",value:function(){return this.bb.readInt64(this.bb_pos)}},{key:"length",value:function(){return this.bb.readInt64(this.bb_pos+8)}}],[{key:"sizeOf",value:function(){return 16}},{key:"createBuffer",value:function(e,t,n){return e.prep(8,16),e.writeInt64(n),e.writeInt64(t),e.offset()}}]),e}(),Tv=function(){function e(){E(this,e),this.bb=null,this.bb_pos=0}return I(e,[{key:"__init",value:function(e,t){return this.bb_pos=e,this.bb=t,this}},{key:"length",value:function(){return this.bb.readInt64(this.bb_pos)}},{key:"nullCount",value:function(){return this.bb.readInt64(this.bb_pos+8)}}],[{key:"sizeOf",value:function(){return 16}},{key:"createFieldNode",value:function(e,t,n){return e.prep(8,16),e.writeInt64(n),e.writeInt64(t),e.offset()}}]),e}(),jv=function(){function e(){E(this,e),this.bb=null,this.bb_pos=0}return I(e,[{key:"__init",value:function(e,t){return this.bb_pos=e,this.bb=t,this}},{key:"length",value:function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt64(this.bb_pos+e):this.bb.createLong(0,0)}},{key:"nodes",value:function(e,t){var n=this.bb.__offset(this.bb_pos,6);return n?(t||new Tv).__init(this.bb.__vector(this.bb_pos+n)+16*e,this.bb):null}},{key:"nodesLength",value:function(){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0}},{key:"buffers",value:function(e,t){var n=this.bb.__offset(this.bb_pos,8);return n?(t||new Iv).__init(this.bb.__vector(this.bb_pos+n)+16*e,this.bb):null}},{key:"buffersLength",value:function(){var e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__vector_len(this.bb_pos+e):0}},{key:"compression",value:function(e){var t=this.bb.__offset(this.bb_pos,10);return t?(e||new Ov).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}}],[{key:"getRootAsRecordBatch",value:function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)}},{key:"getSizePrefixedRootAsRecordBatch",value:function(t,n){return t.setPosition(t.position()+4),(n||new e).__init(t.readInt32(t.position())+t.position(),t)}},{key:"startRecordBatch",value:function(e){e.startObject(4)}},{key:"addLength",value:function(e,t){e.addFieldInt64(0,t,e.createLong(0,0))}},{key:"addNodes",value:function(e,t){e.addFieldOffset(1,t,0)}},{key:"startNodesVector",value:function(e,t){e.startVector(16,t,8)}},{key:"addBuffers",value:function(e,t){e.addFieldOffset(2,t,0)}},{key:"startBuffersVector",value:function(e,t){e.startVector(16,t,8)}},{key:"addCompression",value:function(e,t){e.addFieldOffset(3,t,0)}},{key:"endRecordBatch",value:function(e){return e.endObject()}}]),e}(),Cv=function(){function e(){E(this,e),this.bb=null,this.bb_pos=0}return I(e,[{key:"__init",value:function(e,t){return this.bb_pos=e,this.bb=t,this}},{key:"id",value:function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt64(this.bb_pos+e):this.bb.createLong(0,0)}},{key:"data",value:function(e){var t=this.bb.__offset(this.bb_pos,6);return t?(e||new jv).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null}},{key:"isDelta",value:function(){var e=this.bb.__offset(this.bb_pos,8);return!!e&&!!this.bb.readInt8(this.bb_pos+e)}}],[{key:"getRootAsDictionaryBatch",value:function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)}},{key:"getSizePrefixedRootAsDictionaryBatch",value:function(t,n){return t.setPosition(t.position()+4),(n||new e).__init(t.readInt32(t.position())+t.position(),t)}},{key:"startDictionaryBatch",value:function(e){e.startObject(3)}},{key:"addId",value:function(e,t){e.addFieldInt64(0,t,e.createLong(0,0))}},{key:"addData",value:function(e,t){e.addFieldOffset(1,t,0)}},{key:"addIsDelta",value:function(e,t){e.addFieldInt8(2,+t,0)}},{key:"endDictionaryBatch",value:function(e){return e.endObject()}}]),e}();!function(e){e[e.NONE=0]="NONE",e[e.Schema=1]="Schema",e[e.DictionaryBatch=2]="DictionaryBatch",e[e.RecordBatch=3]="RecordBatch",e[e.Tensor=4]="Tensor",e[e.SparseTensor=5]="SparseTensor"}(Ev||(Ev={}));var Mv=function(){function e(){E(this,e),this.bb=null,this.bb_pos=0}return I(e,[{key:"__init",value:function(e,t){return this.bb_pos=e,this.bb=t,this}},{key:"version",value:function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readInt16(this.bb_pos+e):qh.V1}},{key:"headerType",value:function(){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readUint8(this.bb_pos+e):Ev.NONE}},{key:"header",value:function(e){var t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__union(e,this.bb_pos+t):null}},{key:"bodyLength",value:function(){var e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readInt64(this.bb_pos+e):this.bb.createLong(0,0)}},{key:"customMetadata",value:function(e,t){var n=this.bb.__offset(this.bb_pos,12);return n?(t||new Jh).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+4*e),this.bb):null}},{key:"customMetadataLength",value:function(){var e=this.bb.__offset(this.bb_pos,12);return e?this.bb.__vector_len(this.bb_pos+e):0}}],[{key:"getRootAsMessage",value:function(t,n){return(n||new e).__init(t.readInt32(t.position())+t.position(),t)}},{key:"getSizePrefixedRootAsMessage",value:function(t,n){return t.setPosition(t.position()+4),(n||new e).__init(t.readInt32(t.position())+t.position(),t)}},{key:"startMessage",value:function(e){e.startObject(5)}},{key:"addVersion",value:function(e,t){e.addFieldInt16(0,t,qh.V1)}},{key:"addHeaderType",value:function(e,t){e.addFieldInt8(1,t,Ev.NONE)}},{key:"addHeader",value:function(e,t){e.addFieldOffset(2,t,0)}},{key:"addBodyLength",value:function(e,t){e.addFieldInt64(3,t,e.createLong(0,0))}},{key:"addCustomMetadata",value:function(e,t){e.addFieldOffset(4,t,0)}},{key:"createCustomMetadataVector",value:function(e,t){e.startVector(4,t.length,4);for(var n=t.length-1;n>=0;n--)e.addOffset(t[n]);return e.endVector()}},{key:"startCustomMetadataVector",value:function(e,t){e.startVector(4,t,4)}},{key:"endMessage",value:function(e){return e.endObject()}},{key:"finishMessageBuffer",value:function(e,t){e.finish(t)}},{key:"finishSizePrefixedMessageBuffer",value:function(e,t){e.finish(t,void 0,!0)}},{key:"createMessage",value:function(t,n,r,i,a,o){return e.startMessage(t),e.addVersion(t,n),e.addHeaderType(t,r),e.addHeader(t,i),e.addBodyLength(t,a),e.addCustomMetadata(t,o),e.endMessage(t)}}]),e}(),zv=Hh,Nv=function(e){k(n,e);var t=S(n);function n(){return E(this,n),t.apply(this,arguments)}return I(n,[{key:"visit",value:function(e,t){return null==e||null==t?void 0:x(w(n.prototype),"visit",this).call(this,e,t)}},{key:"visitNull",value:function(e,t){return yp.startNull(t),yp.endNull(t)}},{key:"visitInt",value:function(e,t){return tp.startInt(t),tp.addBitWidth(t,e.bitWidth),tp.addIsSigned(t,e.isSigned),tp.endInt(t)}},{key:"visitFloat",value:function(e,t){return dp.startFloatingPoint(t),dp.addPrecision(t,e.precision),dp.endFloatingPoint(t)}},{key:"visitBinary",value:function(e,t){return rp.startBinary(t),rp.endBinary(t)}},{key:"visitBool",value:function(e,t){return ip.startBool(t),ip.endBool(t)}},{key:"visitUtf8",value:function(e,t){return kp.startUtf8(t),kp.endUtf8(t)}},{key:"visitDecimal",value:function(e,t){return up.startDecimal(t),up.addScale(t,e.scale),up.addPrecision(t,e.precision),up.addBitWidth(t,e.bitWidth),up.endDecimal(t)}},{key:"visitDate",value:function(e,t){return op.startDate(t),op.addUnit(t,e.unit),op.endDate(t)}},{key:"visitTime",value:function(e,t){return bp.startTime(t),bp.addUnit(t,e.unit),bp.addBitWidth(t,e.bitWidth),bp.endTime(t)}},{key:"visitTimestamp",value:function(e,t){var n=e.timezone&&t.createString(e.timezone)||void 0;return gp.startTimestamp(t),gp.addUnit(t,e.unit),void 0!==n&&gp.addTimezone(t,n),gp.endTimestamp(t)}},{key:"visitInterval",value:function(e,t){return pp.startInterval(t),pp.addUnit(t,e.unit),pp.endInterval(t)}},{key:"visitList",value:function(e,t){return vp.startList(t),vp.endList(t)}},{key:"visitStruct",value:function(e,t){return _p.startStruct_(t),_p.endStruct_(t)}},{key:"visitUnion",value:function(e,t){xp.startTypeIdsVector(t,e.typeIds.length);var n=xp.createTypeIdsVector(t,e.typeIds);return xp.startUnion(t),xp.addMode(t,e.mode),xp.addTypeIds(t,n),xp.endUnion(t)}},{key:"visitDictionary",value:function(e,t){var n=this.visit(e.indices,t);return np.startDictionaryEncoding(t),np.addId(t,new zv(e.id,0)),np.addIsOrdered(t,e.isOrdered),void 0!==n&&np.addIndexType(t,n),np.endDictionaryEncoding(t)}},{key:"visitFixedSizeBinary",value:function(e,t){return lp.startFixedSizeBinary(t),lp.addByteWidth(t,e.byteWidth),lp.endFixedSizeBinary(t)}},{key:"visitFixedSizeList",value:function(e,t){return cp.startFixedSizeList(t),cp.addListSize(t,e.listSize),cp.endFixedSizeList(t)}},{key:"visitMap",value:function(e,t){return mp.startMap(t),mp.addKeysSorted(t,e.keysSorted),mp.endMap(t)}}]),n}(Wf),Dv=new Nv;function Bv(e){return new Gv(e.count,Pv(e.columns),Lv(e.columns))}function Fv(e,t){return(e.children||[]).filter(Boolean).map((function(e){return Ip.fromJSON(e,t)}))}function Pv(e){return(e||[]).reduce((function(e,t){return[].concat(v(e),[new Qv(t.count,(n=t.VALIDITY,(n||[]).reduce((function(e,t){return e+ +(0===t)}),0)))],v(Pv(t.children)));var n}),[])}function Lv(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=-1,r=(e||[]).length;++n<r;){var i=e[n];i.VALIDITY&&t.push(new Xv(t.length,i.VALIDITY.length)),i.TYPE&&t.push(new Xv(t.length,i.TYPE.length)),i.OFFSET&&t.push(new Xv(t.length,i.OFFSET.length)),i.DATA&&t.push(new Xv(t.length,i.DATA.length)),t=Lv(i.children,t)}return t}function Rv(e){return new Map(Object.entries(e||{}))}function Uv(e){return new hf(e.isSigned,e.bitWidth)}function Vv(e,t){var n=e.type.name;switch(n){case"NONE":case"null":return new df;case"binary":return new Af;case"utf8":return new Ef;case"bool":return new Of;case"list":return new zf((t||[])[0]);case"struct":case"struct_":return new Nf(t||[])}switch(n){case"int":var r=e.type;return new hf(r.isSigned,r.bitWidth);case"floatingpoint":var i=e.type;return new xf(yc[i.precision]);case"decimal":var a=e.type;return new If(a.scale,a.precision,a.bitWidth);case"date":var o=e.type;return new Tf(bc[o.unit]);case"time":var u=e.type;return new jf(wc[u.unit],u.bitWidth);case"timestamp":var s=e.type;return new Cf(wc[s.unit],s.timezone);case"interval":var l=e.type;return new Mf(kc[l.unit]);case"union":var c=e.type;return new Df(vc[c.mode],c.typeIds||[],t||[]);case"fixedsizebinary":var f=e.type;return new Bf(f.byteWidth);case"fixedsizelist":var d=e.type;return new Ff(d.listSize,(t||[])[0]);case"map":var h=e.type;return new Pf((t||[])[0],h.keysSorted)}throw new Error('Unrecognized type: "'.concat(n,'"'))}var Wv=Hh,Yv=Zh,Hv=Kh,qv=function(){function e(t,n,r,i){E(this,e),this._version=n,this._headerType=r,this.body=new Uint8Array(0),i&&(this._createHeader=function(){return i}),this._bodyLength="number"===typeof t?t:t.low}return I(e,[{key:"type",get:function(){return this.headerType}},{key:"version",get:function(){return this._version}},{key:"headerType",get:function(){return this._headerType}},{key:"bodyLength",get:function(){return this._bodyLength}},{key:"header",value:function(){return this._createHeader()}},{key:"isSchema",value:function(){return this.headerType===Ac.Schema}},{key:"isRecordBatch",value:function(){return this.headerType===Ac.RecordBatch}},{key:"isDictionaryBatch",value:function(){return this.headerType===Ac.DictionaryBatch}}],[{key:"fromJSON",value:function(t,n){var r=new e(0,hc.V4,n);return r._createHeader=function(e,t){return function(){switch(t){case Ac.Schema:return Op.fromJSON(e);case Ac.RecordBatch:return Gv.fromJSON(e);case Ac.DictionaryBatch:return $v.fromJSON(e)}throw new Error("Unrecognized Message type: { name: ".concat(Ac[t],", type: ").concat(t," }"))}}(t,n),r}},{key:"decode",value:function(t){t=new Hv(Jl(t));var n=Mv.getRootAsMessage(t),r=n.bodyLength(),i=n.version(),a=n.headerType(),o=new e(r,i,a);return o._createHeader=function(e,t){return function(){switch(t){case Ac.Schema:return Op.decode(e.header(new Ap));case Ac.RecordBatch:return Gv.decode(e.header(new jv),e.version());case Ac.DictionaryBatch:return $v.decode(e.header(new Cv),e.version())}throw new Error("Unrecognized Message type: { name: ".concat(Ac[t],", type: ").concat(t," }"))}}(n,a),o}},{key:"encode",value:function(e){var t=new Yv,n=-1;return e.isSchema()?n=Op.encode(t,e.header()):e.isRecordBatch()?n=Gv.encode(t,e.header()):e.isDictionaryBatch()&&(n=$v.encode(t,e.header())),Mv.startMessage(t),Mv.addVersion(t,hc.V4),Mv.addHeader(t,n),Mv.addHeaderType(t,e.headerType),Mv.addBodyLength(t,new Wv(e.bodyLength,0)),Mv.finishMessageBuffer(t,Mv.endMessage(t)),t.asUint8Array()}},{key:"from",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(t instanceof Op)return new e(0,hc.V4,Ac.Schema,t);if(t instanceof Gv)return new e(n,hc.V4,Ac.RecordBatch,t);if(t instanceof $v)return new e(n,hc.V4,Ac.DictionaryBatch,t);throw new Error("Unrecognized Message header: ".concat(t))}}]),e}(),Gv=function(){function e(t,n,r){E(this,e),this._nodes=n,this._buffers=r,this._length="number"===typeof t?t:t.low}return I(e,[{key:"nodes",get:function(){return this._nodes}},{key:"length",get:function(){return this._length}},{key:"buffers",get:function(){return this._buffers}}]),e}(),$v=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];E(this,e),this._data=t,this._isDelta=r,this._id="number"===typeof n?n:n.low}return I(e,[{key:"id",get:function(){return this._id}},{key:"data",get:function(){return this._data}},{key:"isDelta",get:function(){return this._isDelta}},{key:"length",get:function(){return this.data.length}},{key:"nodes",get:function(){return this.data.nodes}},{key:"buffers",get:function(){return this.data.buffers}}]),e}(),Xv=I((function e(t,n){E(this,e),this.offset="number"===typeof t?t:t.low,this.length="number"===typeof n?n:n.low})),Qv=I((function e(t,n){E(this,e),this.length="number"===typeof t?t:t.low,this.nullCount="number"===typeof n?n:n.low}));function Kv(e,t){for(var n,r=[],i=-1,a=-1,o=e.childrenLength();++i<o;)(n=e.children(i))&&(r[++a]=Ip.decode(n,t));return r}function Zv(e){var t=new Map;if(e)for(var n,r,i=-1,a=Math.trunc(e.customMetadataLength());++i<a;)(n=e.customMetadata(i))&&null!=(r=n.key())&&t.set(r,n.value());return t}function Jv(e){return new hf(e.isSigned(),e.bitWidth())}function em(e,t){var n=e.typeType();switch(n){case wp.NONE:case wp.Null:return new df;case wp.Binary:return new Af;case wp.Utf8:return new Ef;case wp.Bool:return new Of;case wp.List:return new zf((t||[])[0]);case wp.Struct_:return new Nf(t||[])}switch(n){case wp.Int:var r=e.type(new tp);return new hf(r.isSigned(),r.bitWidth());case wp.FloatingPoint:var i=e.type(new dp);return new xf(i.precision());case wp.Decimal:var a=e.type(new up);return new If(a.scale(),a.precision(),a.bitWidth());case wp.Date:var o=e.type(new op);return new Tf(o.unit());case wp.Time:var u=e.type(new bp);return new jf(u.unit(),u.bitWidth());case wp.Timestamp:var s=e.type(new gp);return new Cf(s.unit(),s.timezone());case wp.Interval:var l=e.type(new pp);return new Mf(l.unit());case wp.Union:var c=e.type(new xp);return new Df(c.mode(),c.typeIdsArray()||[],t||[]);case wp.FixedSizeBinary:var f=e.type(new lp);return new Bf(f.byteWidth());case wp.FixedSizeList:var d=e.type(new cp);return new Ff(d.listSize(),(t||[])[0]);case wp.Map:var h=e.type(new mp);return new Pf((t||[])[0],h.keysSorted())}throw new Error('Unrecognized type: "'.concat(wp[n],'" (').concat(n,")"))}Ip.encode=function(e,t){var n=-1,r=-1,i=-1,a=t.type,o=t.typeId;ff.isDictionary(a)?(o=a.dictionary.typeId,i=Dv.visit(a,e),r=Dv.visit(a.dictionary,e)):r=Dv.visit(a,e);var u=(a.children||[]).map((function(t){return Ip.encode(e,t)})),s=Sp.createChildrenVector(e,u),l=t.metadata&&t.metadata.size>0?Sp.createCustomMetadataVector(e,v(t.metadata).map((function(t){var n=f(t,2),r=n[0],i=n[1],a=e.createString("".concat(r)),o=e.createString("".concat(i));return Jh.startKeyValue(e),Jh.addKey(e,a),Jh.addValue(e,o),Jh.endKeyValue(e)}))):-1;t.name&&(n=e.createString(t.name));Sp.startField(e),Sp.addType(e,r),Sp.addTypeType(e,o),Sp.addChildren(e,s),Sp.addNullable(e,!!t.nullable),-1!==n&&Sp.addName(e,n);-1!==i&&Sp.addDictionary(e,i);-1!==l&&Sp.addCustomMetadata(e,l);return Sp.endField(e)},Ip.decode=function(e,t){var n,r,i,a,o,u;t&&(u=e.dictionary())?t.has(n=u.id().low)?(a=(a=u.indexType())?Jv(a):new mf,o=new Uf(t.get(n),a,n,u.isOrdered()),r=new Ip(e.name(),o,e.nullable(),Zv(e))):(a=(a=u.indexType())?Jv(a):new mf,t.set(n,i=em(e,Kv(e,t))),o=new Uf(i,a,n,u.isOrdered()),r=new Ip(e.name(),o,e.nullable(),Zv(e))):(i=em(e,Kv(e,t)),r=new Ip(e.name(),i,e.nullable(),Zv(e)));return r||null},Ip.fromJSON=function(e,t){var n,r,i,a,o,u;return t&&(a=e.dictionary)?t.has(n=a.id)?(r=(r=a.indexType)?Uv(r):new mf,u=new Uf(t.get(n),r,n,a.isOrdered),i=new Ip(e.name,u,e.nullable,Rv(e.customMetadata))):(r=(r=a.indexType)?Uv(r):new mf,t.set(n,o=Vv(e,Fv(e,t))),u=new Uf(o,r,n,a.isOrdered),i=new Ip(e.name,u,e.nullable,Rv(e.customMetadata))):(o=Vv(e,Fv(e,t)),i=new Ip(e.name,o,e.nullable,Rv(e.customMetadata))),i||null},Op.encode=function(e,t){var n=t.fields.map((function(t){return Ip.encode(e,t)}));Ap.startFieldsVector(e,n.length);var r=Ap.createFieldsVector(e,n),i=t.metadata&&t.metadata.size>0?Ap.createCustomMetadataVector(e,v(t.metadata).map((function(t){var n=f(t,2),r=n[0],i=n[1],a=e.createString("".concat(r)),o=e.createString("".concat(i));return Jh.startKeyValue(e),Jh.addKey(e,a),Jh.addValue(e,o),Jh.endKeyValue(e)}))):-1;Ap.startSchema(e),Ap.addFields(e,r),Ap.addEndianness(e,tm?Gh.Little:Gh.Big),-1!==i&&Ap.addCustomMetadata(e,i);return Ap.endSchema(e)},Op.decode=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Map,n=function(e,t){for(var n,r=[],i=-1,a=-1,o=e.fieldsLength();++i<o;)(n=e.fields(i))&&(r[++a]=Ip.decode(n,t));return r}(e,t);return new Op(n,Zv(e),t)},Op.fromJSON=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Map;return new Op(function(e,t){return(e.fields||[]).filter(Boolean).map((function(e){return Ip.fromJSON(e,t)}))}(e,t),Rv(e.customMetadata),t)},Gv.encode=function(e,t){var n=t.nodes||[],r=t.buffers||[];jv.startNodesVector(e,n.length);var i,a=T(n.slice().reverse());try{for(a.s();!(i=a.n()).done;){var o=i.value;Qv.encode(e,o)}}catch(d){a.e(d)}finally{a.f()}var u=e.endVector();jv.startBuffersVector(e,r.length);var s,l=T(r.slice().reverse());try{for(l.s();!(s=l.n()).done;){var c=s.value;Xv.encode(e,c)}}catch(d){l.e(d)}finally{l.f()}var f=e.endVector();return jv.startRecordBatch(e),jv.addLength(e,new Wv(t.length,0)),jv.addNodes(e,u),jv.addBuffers(e,f),jv.endRecordBatch(e)},Gv.decode=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:hc.V4;if(null!==e.compression())throw new Error("Record batch compression not implemented");return new Gv(e.length(),function(e){for(var t,n=[],r=-1,i=-1,a=e.nodesLength();++r<a;)(t=e.nodes(r))&&(n[++i]=Qv.decode(t));return n}(e),function(e,t){for(var n,r=[],i=-1,a=-1,o=e.buffersLength();++i<o;)(n=e.buffers(i))&&(t<hc.V4&&(n.bb_pos+=8*(i+1)),r[++a]=Xv.decode(n));return r}(e,t))},Gv.fromJSON=Bv,$v.encode=function(e,t){var n=Gv.encode(e,t.data);return Cv.startDictionaryBatch(e),Cv.addId(e,new Wv(t.id,0)),Cv.addIsDelta(e,t.isDelta),Cv.addData(e,n),Cv.endDictionaryBatch(e)},$v.decode=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:hc.V4;return new $v(Gv.decode(e.data(),t),e.id(),e.isDelta())},$v.fromJSON=function(e){return new $v(Bv(e.data),e.id,e.isDelta)},Qv.encode=function(e,t){return Tv.createFieldNode(e,new Wv(t.length,0),new Wv(t.nullCount,0))},Qv.decode=function(e){return new Qv(e.length(),e.nullCount())},Xv.encode=function(e,t){return Iv.createBuffer(e,new Wv(t.offset,0),new Wv(t.length,0))},Xv.decode=function(e){return new Xv(e.offset(),e.length())};for(var tm=function(){var e=new ArrayBuffer(2);return new DataView(e).setInt16(0,256,!0),256===new Int16Array(e)[0]}(),nm=function(e){return"Expected ".concat(Ac[e]," Message in stream, but was null or length 0.")},rm=function(e){return"Header pointer of flatbuffer-encoded ".concat(Ac[e]," Message is null or length 0.")},im=function(e,t){return"Expected to read ".concat(e," metadata bytes, but only read ").concat(t,".")},am=function(e,t){return"Expected to read ".concat(e," bytes for message body, but only read ").concat(t,".")},om=function(e){function t(e){E(this,t),this.source=e instanceof Up?e:new Up(e)}return I(t,[{key:Symbol.iterator,value:function(){return this}},{key:"next",value:function(){var e;return(e=this.readMetadataLength()).done||-1===e.value&&(e=this.readMetadataLength()).done||(e=this.readMetadata(e.value)).done?Fp:e}},{key:"throw",value:function(e){return this.source.throw(e)}},{key:"return",value:function(e){return this.source.return(e)}},{key:"readMessage",value:function(e){var t;if((t=this.next()).done)return null;if(null!=e&&t.value.headerType!==e)throw new Error(nm(e));return t.value}},{key:"readMessageBody",value:function(e){if(e<=0)return new Uint8Array(0);var t=Jl(this.source.read(e));if(t.byteLength<e)throw new Error(am(e,t.byteLength));return t.byteOffset%8===0&&t.byteOffset+t.byteLength<=t.buffer.byteLength?t:t.slice()}},{key:"readSchema",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=Ac.Schema,n=this.readMessage(t),r=null===n||void 0===n?void 0:n.header();if(e&&!r)throw new Error(rm(t));return r}},{key:"readMetadataLength",value:function(){var e=this.source.read(lm),t=e&&new Kh(e),n=(null===t||void 0===t?void 0:t.readInt32(0))||0;return{done:0===n,value:n}}},{key:"readMetadata",value:function(e){var t=this.source.read(e);if(!t)return Fp;if(t.byteLength<e)throw new Error(im(e,t.byteLength));return{done:!1,value:qv.decode(t)}}}]),t}(),um=function(e){function t(e,n){E(this,t),this.source=e instanceof Vp?e:Vl(e)?new qp(e,n):new Vp(e)}return I(t,[{key:Symbol.asyncIterator,value:function(){return this}},{key:"next",value:function(){return bl(this,void 0,void 0,o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.readMetadataLength();case 2:if(!(t=e.sent).done){e.next=4;break}return e.abrupt("return",Fp);case 4:if(e.t0=-1===t.value,!e.t0){e.next=9;break}return e.next=8,this.readMetadataLength();case 8:e.t0=(t=e.sent).done;case 9:if(!e.t0){e.next=11;break}return e.abrupt("return",Fp);case 11:return e.next=13,this.readMetadata(t.value);case 13:if(!(t=e.sent).done){e.next=15;break}return e.abrupt("return",Fp);case 15:return e.abrupt("return",t);case 16:case"end":return e.stop()}}),e,this)})))}},{key:"throw",value:function(e){return bl(this,void 0,void 0,o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.source.throw(e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})))}},{key:"return",value:function(e){return bl(this,void 0,void 0,o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.source.return(e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})))}},{key:"readMessage",value:function(e){return bl(this,void 0,void 0,o().mark((function t(){var n;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.next();case 2:if(!(n=t.sent).done){t.next=4;break}return t.abrupt("return",null);case 4:if(null==e||n.value.headerType===e){t.next=6;break}throw new Error(nm(e));case 6:return t.abrupt("return",n.value);case 7:case"end":return t.stop()}}),t,this)})))}},{key:"readMessageBody",value:function(e){return bl(this,void 0,void 0,o().mark((function t(){var n;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e<=0)){t.next=2;break}return t.abrupt("return",new Uint8Array(0));case 2:return t.t0=Jl,t.next=5,this.source.read(e);case 5:if(t.t1=t.sent,!((n=(0,t.t0)(t.t1)).byteLength<e)){t.next=9;break}throw new Error(am(e,n.byteLength));case 9:return t.abrupt("return",n.byteOffset%8===0&&n.byteOffset+n.byteLength<=n.buffer.byteLength?n:n.slice());case 10:case"end":return t.stop()}}),t,this)})))}},{key:"readSchema",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return bl(this,void 0,void 0,o().mark((function t(){var n,r,i;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=Ac.Schema,t.next=3,this.readMessage(n);case 3:if(r=t.sent,i=null===r||void 0===r?void 0:r.header(),!e||i){t.next=7;break}throw new Error(rm(n));case 7:return t.abrupt("return",i);case 8:case"end":return t.stop()}}),t,this)})))}},{key:"readMetadataLength",value:function(){return bl(this,void 0,void 0,o().mark((function e(){var t,n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.source.read(lm);case 2:return t=e.sent,n=t&&new Kh(t),r=(null===n||void 0===n?void 0:n.readInt32(0))||0,e.abrupt("return",{done:0===r,value:r});case 6:case"end":return e.stop()}}),e,this)})))}},{key:"readMetadata",value:function(e){return bl(this,void 0,void 0,o().mark((function t(){var n;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.source.read(e);case 2:if(n=t.sent){t.next=5;break}return t.abrupt("return",Fp);case 5:if(!(n.byteLength<e)){t.next=7;break}throw new Error(im(e,n.byteLength));case 7:return t.abrupt("return",{done:!1,value:qv.decode(n)});case 8:case"end":return t.stop()}}),t,this)})))}}]),t}(),sm=function(e){k(n,e);var t=S(n);function n(e){var r;return E(this,n),(r=t.call(this,new Uint8Array(0)))._schema=!1,r._body=[],r._batchIndex=0,r._dictionaryIndex=0,r._json=e instanceof Pp?e:new Pp(e),r}return I(n,[{key:"next",value:function(){var e=this._json;if(!this._schema)return this._schema=!0,{done:!1,value:qv.fromJSON(e.schema,Ac.Schema)};if(this._dictionaryIndex<e.dictionaries.length){var t=e.dictionaries[this._dictionaryIndex++];return this._body=t.data.columns,{done:!1,value:qv.fromJSON(t,Ac.DictionaryBatch)}}if(this._batchIndex<e.batches.length){var n=e.batches[this._batchIndex++];return this._body=n.columns,{done:!1,value:qv.fromJSON(n,Ac.RecordBatch)}}return this._body=[],Fp}},{key:"readMessageBody",value:function(e){return function e(t){return(t||[]).reduce((function(t,n){return[].concat(v(t),v(n.VALIDITY&&[n.VALIDITY]||[]),v(n.TYPE&&[n.TYPE]||[]),v(n.OFFSET&&[n.OFFSET]||[]),v(n.DATA&&[n.DATA]||[]),v(e(n.children)))}),[])}(this._body)}},{key:"readMessage",value:function(e){var t;if((t=this.next()).done)return null;if(null!=e&&t.value.headerType!==e)throw new Error(nm(e));return t.value}},{key:"readSchema",value:function(){var e=Ac.Schema,t=this.readMessage(e),n=null===t||void 0===t?void 0:t.header();if(!t||!n)throw new Error(rm(e));return n}}]),n}(om),lm=4,cm="ARROW1",fm=new Uint8Array(6),dm=0;dm<6;dm+=1)fm[dm]=cm.codePointAt(dm);function hm(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=-1,r=fm.length;++n<r;)if(fm[n]!==e[t+n])return!1;return!0}var pm=fm.length,vm=pm+lm,mm=2*pm+lm,ym=function(e,t,n){k(i,e);var r=S(i);function i(e){var t;return E(this,i),(t=r.call(this))._impl=e,t}return I(i,[{key:"closed",get:function(){return this._impl.closed}},{key:"schema",get:function(){return this._impl.schema}},{key:"autoDestroy",get:function(){return this._impl.autoDestroy}},{key:"dictionaries",get:function(){return this._impl.dictionaries}},{key:"numDictionaries",get:function(){return this._impl.numDictionaries}},{key:"numRecordBatches",get:function(){return this._impl.numRecordBatches}},{key:"footer",get:function(){return this._impl.isFile()?this._impl.footer:null}},{key:"isSync",value:function(){return this._impl.isSync()}},{key:"isAsync",value:function(){return this._impl.isAsync()}},{key:"isFile",value:function(){return this._impl.isFile()}},{key:"isStream",value:function(){return this._impl.isStream()}},{key:"next",value:function(){return this._impl.next()}},{key:"throw",value:function(e){return this._impl.throw(e)}},{key:"return",value:function(e){return this._impl.return(e)}},{key:"cancel",value:function(){return this._impl.cancel()}},{key:"reset",value:function(e){return this._impl.reset(e),this._DOMStream=void 0,this._nodeStream=void 0,this}},{key:"open",value:function(e){var t=this,n=this._impl.open(e);return Fl(n)?n.then((function(){return t})):this}},{key:"readRecordBatch",value:function(e){return this._impl.isFile()?this._impl.readRecordBatch(e):null}},{key:t,value:function(){return this._impl[Symbol.iterator]()}},{key:n,value:function(){return this._impl[Symbol.asyncIterator]()}},{key:"toDOMStream",value:function(){var e=this;return lc(this.isSync()?y({},Symbol.iterator,(function(){return e})):y({},Symbol.asyncIterator,(function(){return e})))}},{key:"toNodeStream",value:function(){var e=this;return cc(this.isSync()?y({},Symbol.iterator,(function(){return e})):y({},Symbol.asyncIterator,(function(){return e})),{objectMode:!0})}}],[{key:"throughNode",value:function(e){throw new Error('"throughNode" not available in this environment')}},{key:"throughDOM",value:function(e,t){throw new Error('"throughDOM" not available in this environment')}},{key:"from",value:function(e){var t=this;return e instanceof i?e:Rl(e)?function(e){return new _m(new Om(e))}(e):Vl(e)?function(e){return bl(this,void 0,void 0,o().mark((function t(){var n,r,i;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.stat();case 2:if(n=t.sent,r=n.size,i=new qp(e,r),t.t0=r>=mm,!t.t0){t.next=12;break}return t.t1=hm,t.next=10,i.readAt(0,pm+7&-8);case 10:t.t2=t.sent,t.t0=(0,t.t1)(t.t2);case 12:if(!t.t0){t.next=14;break}return t.abrupt("return",new wm(new Em(i)));case 14:return t.abrupt("return",new bm(new Sm(i)));case 15:case"end":return t.stop()}}),t)})))}(e):Fl(e)?bl(t,void 0,void 0,o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=i,t.next=3,e;case 3:return t.t1=t.sent,t.next=6,t.t0.from.call(t.t0,t.t1);case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t)}))):Wl(e)||Hl(e)||ql(e)||Ll(e)?function(e){return bl(this,void 0,void 0,o().mark((function t(){var n;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.peek(pm+7&-8);case 2:if(!((n=t.sent)&&n.byteLength>=4)){t.next=18;break}if(hm(n)){t.next=8;break}t.t1=new bm(new Sm(e)),t.next=15;break;case 8:return t.t2=gm,t.t3=Am,t.next=12,e.read();case 12:t.t4=t.sent,t.t5=new t.t3(t.t4),t.t1=new t.t2(t.t5);case 15:t.t0=t.t1,t.next=19;break;case 18:t.t0=new bm(new Sm(function(){return xl(this,arguments,o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))}()));case 19:return t.abrupt("return",t.t0);case 20:case"end":return t.stop()}}),t)})))}(new Vp(e)):function(e){var t=e.peek(pm+7&-8);return t&&t.byteLength>=4?hm(t)?new gm(new Am(e.read())):new _m(new km(e)):new _m(new km(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))()))}(new Up(e))}},{key:"readAll",value:function(e){return e instanceof i?e.isSync()?Tm(e):jm(e):Rl(e)||ArrayBuffer.isView(e)||Pl(e)||Ul(e)?Tm(e):jm(e)}}]),i}(Lp,Symbol.iterator,Symbol.asyncIterator),_m=function(e,t,n){k(i,e);var r=S(i);function i(e){var t;return E(this,i),(t=r.call(this,e))._impl=e,t}return I(i,[{key:"readAll",value:function(){return v(this)}},{key:t,value:function(){return this._impl[Symbol.iterator]()}},{key:n,value:function(){return xl(this,arguments,o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=wl,e.delegateYield(kl(Sl(this[Symbol.iterator]())),"t1",2);case 2:return e.t2=e.t1,e.next=5,(0,e.t0)(e.t2);case 5:case"end":return e.stop()}}),e,this)})))}}]),i}(ym,Symbol.iterator,Symbol.asyncIterator),bm=function(e,t,n){k(i,e);var r=S(i);function i(e){var t;return E(this,i),(t=r.call(this,e))._impl=e,t}return I(i,[{key:"readAll",value:function(){var e,t;return bl(this,void 0,void 0,o().mark((function n(){var r,i,a,u;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r=new Array,n.prev=1,i=Sl(this);case 3:return n.next=5,i.next();case 5:if((a=n.sent).done){n.next=11;break}u=a.value,r.push(u);case 9:n.next=3;break;case 11:n.next=16;break;case 13:n.prev=13,n.t0=n.catch(1),e={error:n.t0};case 16:if(n.prev=16,n.prev=17,!a||a.done||!(t=i.return)){n.next=21;break}return n.next=21,t.call(i);case 21:if(n.prev=21,!e){n.next=24;break}throw e.error;case 24:return n.finish(21);case 25:return n.finish(16);case 26:return n.abrupt("return",r);case 27:case"end":return n.stop()}}),n,this,[[1,13,16,26],[17,,21,25]])})))}},{key:t,value:function(){throw new Error("AsyncRecordBatchStreamReader is not Iterable")}},{key:n,value:function(){return this._impl[Symbol.asyncIterator]()}}]),i}(ym,Symbol.iterator,Symbol.asyncIterator),gm=function(e){k(n,e);var t=S(n);function n(e){var r;return E(this,n),(r=t.call(this,e))._impl=e,r}return I(n)}(_m),wm=function(e){k(n,e);var t=S(n);function n(e){var r;return E(this,n),(r=t.call(this,e))._impl=e,r}return I(n)}(bm),xm=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Map;E(this,e),this.closed=!1,this.autoDestroy=!0,this._dictionaryIndex=0,this._recordBatchIndex=0,this.dictionaries=t}return I(e,[{key:"numDictionaries",get:function(){return this._dictionaryIndex}},{key:"numRecordBatches",get:function(){return this._recordBatchIndex}},{key:"isSync",value:function(){return!1}},{key:"isAsync",value:function(){return!1}},{key:"isFile",value:function(){return!1}},{key:"isStream",value:function(){return!1}},{key:"reset",value:function(e){return this._dictionaryIndex=0,this._recordBatchIndex=0,this.schema=e,this.dictionaries=new Map,this}},{key:"_loadRecordBatch",value:function(e,t){var n=this._loadVectors(e,t,this.schema.fields),r=lh({type:new Nf(this.schema.fields),length:e.length,children:n});return new _v(this.schema,r)}},{key:"_loadDictionaryBatch",value:function(e,t){var n=e.id,r=e.isDelta,i=this.dictionaries,a=this.schema,o=i.get(n);if(r||!o){var u=a.dictionaries.get(n),s=this._loadVectors(e.data,t,[u]);return(o&&r?o.concat(new Dh(s)):new Dh(s)).memoize()}return o.memoize()}},{key:"_loadVectors",value:function(e,t,n){return new Jp(t,e.nodes,e.buffers,this.dictionaries).visitMany(n)}}]),e}(),km=function(e,t){k(r,e);var n=S(r);function r(e,t){var i;return E(this,r),(i=n.call(this,t))._reader=Rl(e)?new sm(i._handle=e):new om(i._handle=e),i}return I(r,[{key:"isSync",value:function(){return!0}},{key:"isStream",value:function(){return!0}},{key:t,value:function(){return this}},{key:"cancel",value:function(){!this.closed&&(this.closed=!0)&&(this.reset()._reader.return(),this._reader=null,this.dictionaries=null)}},{key:"open",value:function(e){return this.closed||(this.autoDestroy=Im(this,e),this.schema||(this.schema=this._reader.readSchema())||this.cancel()),this}},{key:"throw",value:function(e){return!this.closed&&this.autoDestroy&&(this.closed=!0)?this.reset()._reader.throw(e):Fp}},{key:"return",value:function(e){return!this.closed&&this.autoDestroy&&(this.closed=!0)?this.reset()._reader.return(e):Fp}},{key:"next",value:function(){if(this.closed)return Fp;for(var e,t=this._reader;e=this._readNextMessageAndValidate();)if(e.isSchema())this.reset(e.header());else{if(e.isRecordBatch()){this._recordBatchIndex++;var n=e.header(),r=t.readMessageBody(e.bodyLength);return{done:!1,value:this._loadRecordBatch(n,r)}}if(e.isDictionaryBatch()){this._dictionaryIndex++;var i=e.header(),a=t.readMessageBody(e.bodyLength),o=this._loadDictionaryBatch(i,a);this.dictionaries.set(i.id,o)}}return this.schema&&0===this._recordBatchIndex?(this._recordBatchIndex++,{done:!1,value:new Av(this.schema)}):this.return()}},{key:"_readNextMessageAndValidate",value:function(e){return this._reader.readMessage(e)}}]),r}(xm,Symbol.iterator),Sm=function(e,t){k(r,e);var n=S(r);function r(e,t){var i;return E(this,r),(i=n.call(this,t))._reader=new um(i._handle=e),i}return I(r,[{key:"isAsync",value:function(){return!0}},{key:"isStream",value:function(){return!0}},{key:t,value:function(){return this}},{key:"cancel",value:function(){return bl(this,void 0,void 0,o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.closed||!(this.closed=!0)){e.next=5;break}return e.next=3,this.reset()._reader.return();case 3:this._reader=null,this.dictionaries=null;case 5:case"end":return e.stop()}}),e,this)})))}},{key:"open",value:function(e){return bl(this,void 0,void 0,o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.closed){t.next=10;break}if(this.autoDestroy=Im(this,e),t.t0=this.schema,t.t0){t.next=7;break}return t.next=6,this._reader.readSchema();case 6:t.t0=this.schema=t.sent;case 7:if(t.t0){t.next=10;break}return t.next=10,this.cancel();case 10:return t.abrupt("return",this);case 11:case"end":return t.stop()}}),t,this)})))}},{key:"throw",value:function(e){return bl(this,void 0,void 0,o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.closed||!this.autoDestroy||!(this.closed=!0)){t.next=4;break}return t.next=3,this.reset()._reader.throw(e);case 3:return t.abrupt("return",t.sent);case 4:return t.abrupt("return",Fp);case 5:case"end":return t.stop()}}),t,this)})))}},{key:"return",value:function(e){return bl(this,void 0,void 0,o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.closed||!this.autoDestroy||!(this.closed=!0)){t.next=4;break}return t.next=3,this.reset()._reader.return(e);case 3:return t.abrupt("return",t.sent);case 4:return t.abrupt("return",Fp);case 5:case"end":return t.stop()}}),t,this)})))}},{key:"next",value:function(){return bl(this,void 0,void 0,o().mark((function e(){var t,n,r,i,a,u,s,l;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.closed){e.next=2;break}return e.abrupt("return",Fp);case 2:n=this._reader;case 3:return e.next=5,this._readNextMessageAndValidate();case 5:if(!(t=e.sent)){e.next=31;break}if(!t.isSchema()){e.next=11;break}return e.next=9,this.reset(t.header());case 9:e.next=29;break;case 11:if(!t.isRecordBatch()){e.next=21;break}return this._recordBatchIndex++,r=t.header(),e.next=16,n.readMessageBody(t.bodyLength);case 16:return i=e.sent,a=this._loadRecordBatch(r,i),e.abrupt("return",{done:!1,value:a});case 21:if(!t.isDictionaryBatch()){e.next=29;break}return this._dictionaryIndex++,u=t.header(),e.next=26,n.readMessageBody(t.bodyLength);case 26:s=e.sent,l=this._loadDictionaryBatch(u,s),this.dictionaries.set(u.id,l);case 29:e.next=3;break;case 31:if(!this.schema||0!==this._recordBatchIndex){e.next=34;break}return this._recordBatchIndex++,e.abrupt("return",{done:!1,value:new Av(this.schema)});case 34:return e.next=36,this.return();case 36:return e.abrupt("return",e.sent);case 37:case"end":return e.stop()}}),e,this)})))}},{key:"_readNextMessageAndValidate",value:function(e){return bl(this,void 0,void 0,o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._reader.readMessage(e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})))}}]),r}(xm,Symbol.asyncIterator),Am=function(e){k(n,e);var t=S(n);function n(e,r){return E(this,n),t.call(this,e instanceof Hp?e:new Hp(e),r)}return I(n,[{key:"footer",get:function(){return this._footer}},{key:"numDictionaries",get:function(){return this._footer?this._footer.numDictionaries:0}},{key:"numRecordBatches",get:function(){return this._footer?this._footer.numRecordBatches:0}},{key:"isSync",value:function(){return!0}},{key:"isFile",value:function(){return!0}},{key:"open",value:function(e){if(!this.closed&&!this._footer){this.schema=(this._footer=this._readFooter()).schema;var t,r=T(this._footer.dictionaryBatches());try{for(r.s();!(t=r.n()).done;){t.value&&this._readDictionaryBatch(this._dictionaryIndex++)}}catch(i){r.e(i)}finally{r.f()}}return x(w(n.prototype),"open",this).call(this,e)}},{key:"readRecordBatch",value:function(e){var t;if(this.closed)return null;this._footer||this.open();var n=null===(t=this._footer)||void 0===t?void 0:t.getRecordBatch(e);if(n&&this._handle.seek(n.offset)){var r=this._reader.readMessage(Ac.RecordBatch);if(null===r||void 0===r?void 0:r.isRecordBatch()){var i=r.header(),a=this._reader.readMessageBody(r.bodyLength);return this._loadRecordBatch(i,a)}}return null}},{key:"_readDictionaryBatch",value:function(e){var t,n=null===(t=this._footer)||void 0===t?void 0:t.getDictionaryBatch(e);if(n&&this._handle.seek(n.offset)){var r=this._reader.readMessage(Ac.DictionaryBatch);if(null===r||void 0===r?void 0:r.isDictionaryBatch()){var i=r.header(),a=this._reader.readMessageBody(r.bodyLength),o=this._loadDictionaryBatch(i,a);this.dictionaries.set(i.id,o)}}}},{key:"_readFooter",value:function(){var e=this._handle,t=e.size-vm,n=e.readInt32(t),r=e.readAt(t-n,n);return Np.decode(r)}},{key:"_readNextMessageAndValidate",value:function(e){var t;if(this._footer||this.open(),this._footer&&this._recordBatchIndex<this.numRecordBatches){var n=null===(t=this._footer)||void 0===t?void 0:t.getRecordBatch(this._recordBatchIndex);if(n&&this._handle.seek(n.offset))return this._reader.readMessage(e)}return null}}]),n}(km),Em=function(e){k(n,e);var t=S(n);function n(e){E(this,n);for(var r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];var o="number"!==typeof i[0]?i.shift():void 0,u=i[0]instanceof Map?i.shift():void 0;return t.call(this,e instanceof qp?e:new qp(e,o),u)}return I(n,[{key:"footer",get:function(){return this._footer}},{key:"numDictionaries",get:function(){return this._footer?this._footer.numDictionaries:0}},{key:"numRecordBatches",get:function(){return this._footer?this._footer.numRecordBatches:0}},{key:"isFile",value:function(){return!0}},{key:"isAsync",value:function(){return!0}},{key:"open",value:function(e){var t=this,r=Object.create(null,{open:{get:function(){return x(w(n.prototype),"open",t)}}});return bl(this,void 0,void 0,o().mark((function t(){var n,i,a;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.closed||this._footer){t.next=23;break}return t.next=3,this._readFooter();case 3:this.schema=(this._footer=t.sent).schema,n=T(this._footer.dictionaryBatches()),t.prev=5,n.s();case 7:if((i=n.n()).done){t.next=15;break}if(a=i.value,t.t0=a,!t.t0){t.next=13;break}return t.next=13,this._readDictionaryBatch(this._dictionaryIndex++);case 13:t.next=7;break;case 15:t.next=20;break;case 17:t.prev=17,t.t1=t.catch(5),n.e(t.t1);case 20:return t.prev=20,n.f(),t.finish(20);case 23:return t.next=25,r.open.call(this,e);case 25:return t.abrupt("return",t.sent);case 26:case"end":return t.stop()}}),t,this,[[5,17,20,23]])})))}},{key:"readRecordBatch",value:function(e){var t;return bl(this,void 0,void 0,o().mark((function n(){var r,i,a,u,s;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!this.closed){n.next=2;break}return n.abrupt("return",null);case 2:if(this._footer){n.next=5;break}return n.next=5,this.open();case 5:if(r=null===(t=this._footer)||void 0===t?void 0:t.getRecordBatch(e),n.t0=r,!n.t0){n.next=11;break}return n.next=10,this._handle.seek(r.offset);case 10:n.t0=n.sent;case 11:if(!n.t0){n.next=22;break}return n.next=14,this._reader.readMessage(Ac.RecordBatch);case 14:if(!(null===(i=n.sent)||void 0===i?void 0:i.isRecordBatch())){n.next=22;break}return a=i.header(),n.next=19,this._reader.readMessageBody(i.bodyLength);case 19:return u=n.sent,s=this._loadRecordBatch(a,u),n.abrupt("return",s);case 22:return n.abrupt("return",null);case 23:case"end":return n.stop()}}),n,this)})))}},{key:"_readDictionaryBatch",value:function(e){var t;return bl(this,void 0,void 0,o().mark((function n(){var r,i,a,u,s;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=null===(t=this._footer)||void 0===t?void 0:t.getDictionaryBatch(e),n.t0=r,!n.t0){n.next=6;break}return n.next=5,this._handle.seek(r.offset);case 5:n.t0=n.sent;case 6:if(!n.t0){n.next=17;break}return n.next=9,this._reader.readMessage(Ac.DictionaryBatch);case 9:if(!(null===(i=n.sent)||void 0===i?void 0:i.isDictionaryBatch())){n.next=17;break}return a=i.header(),n.next=14,this._reader.readMessageBody(i.bodyLength);case 14:u=n.sent,s=this._loadDictionaryBatch(a,u),this.dictionaries.set(a.id,s);case 17:case"end":return n.stop()}}),n,this)})))}},{key:"_readFooter",value:function(){return bl(this,void 0,void 0,o().mark((function e(){var t,n,r,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this._handle,e.t0=t._pending,!e.t0){e.next=5;break}return e.next=5,t._pending;case 5:return n=t.size-vm,e.next=8,t.readInt32(n);case 8:return r=e.sent,e.next=11,t.readAt(n-r,r);case 11:return i=e.sent,e.abrupt("return",Np.decode(i));case 13:case"end":return e.stop()}}),e,this)})))}},{key:"_readNextMessageAndValidate",value:function(e){return bl(this,void 0,void 0,o().mark((function t(){var n;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this._footer){t.next=3;break}return t.next=3,this.open();case 3:if(!(this._footer&&this._recordBatchIndex<this.numRecordBatches)){t.next=14;break}if(n=this._footer.getRecordBatch(this._recordBatchIndex),t.t0=n,!t.t0){t.next=10;break}return t.next=9,this._handle.seek(n.offset);case 9:t.t0=t.sent;case 10:if(!t.t0){t.next=14;break}return t.next=13,this._reader.readMessage(e);case 13:return t.abrupt("return",t.sent);case 14:return t.abrupt("return",null);case 15:case"end":return t.stop()}}),t,this)})))}}]),n}(Sm),Om=function(e){k(n,e);var t=S(n);function n(e,r){return E(this,n),t.call(this,e,r)}return I(n,[{key:"_loadVectors",value:function(e,t,n){return new ev(t,e.nodes,e.buffers,this.dictionaries).visitMany(n)}}]),n}(km);function Im(e,t){return t&&"boolean"===typeof t.autoDestroy?t.autoDestroy:e.autoDestroy}function Tm(e){var t;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t=ym.from(e),n.prev=1,t.open({autoDestroy:!1}).closed){n.next=6;break}case 3:return n.next=5,t;case 5:if(!t.reset().open().closed){n.next=3;break}case 6:return n.prev=6,t.cancel(),n.finish(6);case 9:case"end":return n.stop()}}),N,null,[[1,,6,9]])}function jm(e){return xl(this,arguments,o().mark((function t(){var n;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,wl(ym.from(e));case 2:return n=t.sent,t.prev=3,t.next=6,wl(n.open({autoDestroy:!1}));case 6:if(t.sent.closed){t.next=14;break}case 7:return t.next=9,wl(n);case 9:return t.next=11,t.sent;case 11:return t.next=13,wl(n.reset().open());case 13:if(!t.sent.closed){t.next=7;break}case 14:return t.prev=14,t.next=17,wl(n.cancel());case 17:return t.finish(14);case 18:case"end":return t.stop()}}),t,null,[[3,,14,18]])})))}function Cm(e){var t=ym.from(e);return Fl(t)?t.then((function(e){return Cm(e)})):t.isAsync()?t.readAll().then((function(e){return new yv(e)})):new yv(t.readAll())}var Mm=0,zm=function(e){function t(e){if(E(this,t),B(this,"max_ix",-1),B(this,"key"),B(this,"promise"),B(this,"download_state"),B(this,"_batch"),B(this,"parent"),B(this,"_table_buffer"),B(this,"_children",[]),B(this,"_highest_known_ix"),B(this,"_min_ix"),B(this,"_max_ix"),B(this,"dataset"),B(this,"_download"),B(this,"__schema"),B(this,"local_dictionary_lookups"),B(this,"_extent"),B(this,"numeric_id"),B(this,"_buffer_manager"),this.promise=Promise.resolve(),this.download_state="Unattempted",this.key=String(Math.random()),this.parent=null,this.dataset=e,void 0===e)throw new Error("No dataset provided");this.numeric_id=Mm++}return I(t,[{key:"children",get:function(){return this._children}},{key:"dictionary_lookups",get:function(){return this.dataset.dictionary_lookups}},{key:"download",value:function(){throw new Error("Not implemented")}},{key:"delete_column_if_exists",value:function(e){var t;this._batch&&(null==(t=this._buffer_manager)||t.release(e),this._batch=Hm(this.record_batch,e,null))}},{key:"apply_transformation",value:function(){var e=s(o().mark((function e(t){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==(n=this.dataset.transformations[t])){e.next=3;break}throw new Error("Transformation ".concat(t," is not defined"));case 3:return e.next=5,n(this);case 5:if(void 0!==(r=e.sent)){e.next=8;break}throw new Error("Transformation ".concat(t," failed"));case 8:this._batch=Hm(this.record_batch,t,r);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add_column",value:function(e,t){return this._batch=Hm(this.record_batch,e,t),this._batch}},{key:"is_visible",value:function(e,t){if(void 0===this.min_ix)return!1;if(this.min_ix>e)return!1;if(void 0===t)return!0;var n=this.extent;return!(n.x[0]>t.x[1]||n.x[1]<t.x[0]||n.y[0]>t.y[1]||n.y[1]<t.y[0])}},{key:"points",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return o().mark((function r(){var i,a,u,s,l,c,f,d,h,p,v,m;return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:i=T(t),r.prev=1,i.s();case 3:if((a=i.n()).done){r.next=10;break}if(!Bm([(u=a.value).x,u.y],e)){r.next=8;break}return r.next=8,u;case 8:r.next=3;break;case 10:r.next=15;break;case 12:r.prev=12,r.t0=r.catch(1),i.e(r.t0);case 15:return r.prev=15,i.f(),r.finish(15);case 18:if(!1!==n){r.next=58;break}s=T(t.children),r.prev=20,s.s();case 22:if((l=s.n()).done){r.next=48;break}if((c=l.value).ready){r.next=26;break}return r.abrupt("continue",46);case 26:if(!e||c.is_visible(1e100,e)){r.next=28;break}return r.abrupt("continue",46);case 28:f=T(c.points(e,n)),r.prev=29,f.s();case 31:if((d=f.n()).done){r.next=38;break}if(!Bm([(h=d.value).x,h.y],e)){r.next=36;break}return r.next=36,h;case 36:r.next=31;break;case 38:r.next=43;break;case 40:r.prev=40,r.t1=r.catch(29),f.e(r.t1);case 43:return r.prev=43,f.f(),r.finish(43);case 46:r.next=22;break;case 48:r.next=53;break;case 50:r.prev=50,r.t2=r.catch(20),s.e(r.t2);case 53:return r.prev=53,s.f(),r.finish(53);case 56:r.next=69;break;case 58:p=(p=t.children.map((function(t){var r={t:t,iterator:t.points(e,n),next:void 0};return r.next=r.iterator.next(),r}))).filter((function(e){var t;return null==(t=null==e?void 0:e.next)?void 0:t.value}));case 60:if(!(p.length>0)){r.next=69;break}for(v=0,m=1;m<p.length;m++)p[m].next.value.ix<p[v].next.value.ix&&(v=m);return r.next=65,p[v].next.value;case 65:p[v].next=p[v].iterator.next(),p[v].next.done&&(p=p.splice(v,1)),r.next=60;break;case 69:case"end":return r.stop()}}),r,null,[[1,12,15,18],[20,50,53,56],[29,40,43,46]])}))()}},{key:"forEach",value:function(e){var t,n=T(this.points(void 0,!1));try{for(n.s();!(t=n.n()).done;){var r=t.value;void 0!==r&&e(r)}}catch(i){n.e(i)}finally{n.f()}}},{key:"highest_known_ix",get:function(){return this._highest_known_ix||-1},set:function(e){(void 0==this._highest_known_ix||this._highest_known_ix<e)&&(this._highest_known_ix=e,this.parent&&(this.parent.highest_known_ix=e))}},{key:"record_batch",get:function(){if(this._batch)return this._batch;if(this._table_buffer&&this._table_buffer.byteLength>0)return this._batch=Cm(this._table_buffer).batches[0];throw new Error("Attempted to access table on tile without table buffer.")}},{key:"min_ix",get:function(){return void 0!==this._min_ix?this._min_ix:this.parent?this.parent.max_ix+1:0}},{key:"schema",value:function(){var e=s(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.download();case 2:return e.abrupt("return",this._schema);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"extend_promise",value:function(e){return this.promise=this.promise.then((function(){return e()})),this.promise}},{key:"ready",get:function(){return void 0!==this._table_buffer&&this._table_buffer.byteLength>0}},{key:"_schema",get:function(){if(this.__schema)return this.__schema;var e,t=[],n=T(this.record_batch.schema.fields);try{for(n.s();!(e=n.n()).done;){var r=e.value,i=r.name,a=r.type;if(5==(null==a?void 0:a.typeId)&&t.push({name:i,type:"string",extent:[]}),a&&a.dictionary&&t.push({name:i,type:"dictionary",keys:this.record_batch.getChild(i).data[0].dictionary.toArray(),extent:[-2047,this.record_batch.getChild(i).data[0].dictionary.length-2047]}),a&&8==a.typeId&&t.push({name:i,type:"date",extent:at(this.record_batch.getChild(i).data[0].values)}),10===(null==a?void 0:a.typeId))return[10,100];a&&3==a.typeId&&t.push({name:i,type:"float",extent:at(this.record_batch.getChild(i).data[0].values)})}}catch(o){n.e(o)}finally{n.f()}return this.__schema=t,t}},{key:"yielder",value:o().mark((function e(){var t,n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=T(this.record_batch),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=10;break}if(!(r=n.value)){e.next=8;break}return e.next=8,r;case 8:e.next=3;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),t.e(e.t0);case 15:return e.prev=15,t.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,this,[[1,12,15,18]])}))},{key:"extent",get:function(){return this._extent?this._extent:{x:[Number.MIN_VALUE,Number.MAX_VALUE],y:[Number.MIN_VALUE,Number.MAX_VALUE]}}},{key:e,value:function(){return this.yielder()}},{key:"root_extent",get:function(){return null===this.parent?{x:[Number.MIN_VALUE,Number.MAX_VALUE],y:[Number.MIN_VALUE,Number.MAX_VALUE]}:this.parent.root_extent}}]),t}(Symbol.iterator),Nm=function(e){k(n,e);var t=S(n);function n(e,r,i,a){var o;E(this,n),o=t.call(this,a),B(g(o),"url"),B(g(o),"key"),B(g(o),"_children",[]),B(g(o),"codes"),B(g(o),"_already_called",!1),B(g(o),"child_locations",[]),o.url=e,o.parent=i,o.key=r;var u=f(r.split("/").map((function(e){return Number.parseInt(e)})),3),s=u[0],l=u[1],c=u[2];return o.codes=[s,l,c],o}return I(n,[{key:"extent",get:function(){return this._extent?this._extent:this.theoretical_extent}},{key:"download_to_depth",value:function(){var e=s(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.download();case 2:return n=[],this.max_ix<t&&(n=this.children.map((function(e){return e.download_to_depth(t)}))),e.next=6,Promise.all(n);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"download",value:function(){var e=s(o().mark((function e(){var t,n,r=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._download){e.next=2;break}return e.abrupt("return",this._download);case 2:if(!this._already_called){e.next=4;break}throw"Illegally attempting to download twice";case 4:return this._already_called=!0,t="".concat(this.url,"/").concat(this.key,".feather"),this.download_state="In progress","true"===window.localStorage.getItem("isLoggedIn")&&(t=t.replace("/public","")),n={method:"GET"},this._download=fetch(t,n).then(function(){var e=s(o().mark((function e(t){var n,i,a,u,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.arrayBuffer();case 2:if(n=e.sent,r.download_state="Complete",r._table_buffer=n,r._batch=Cm(n).batches[0],i=r._batch.schema.metadata,(a=i.get("extent"))&&(r._extent=JSON.parse(a)),(u=i.get("children"))&&(r.child_locations=JSON.parse(u)),null!==(s=r._batch.getChild("ix"))){e.next=14;break}throw"No ix column in table";case 14:r._min_ix=Number(s.get(0)),r.max_ix=Number(s.get(s.length-1)),r._min_ix>r.max_ix&&(r.max_ix=r._min_ix+1e5,r._min_ix=0),r.highest_known_ix=r.max_ix;case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){throw r.download_state="Failed",console.log("this",r,"this.url",r.url,"this.key",r.key),console.error("Error: Remote Tile at ".concat(r.url,"/").concat(r.key,".feather not found.\n        ")),console.warn(e),e})),e.abrupt("return",this._download);case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"macrotile",get:function(){return Fm(this.key)}},{key:"macro_siblings",get:function(){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;if(Pm.has(e))return Pm.get(e);var r=[[e]];for(;r.length<n;)r.unshift(r[0].map(Lm).flat());var i=[r[0].map(Lm).flat()];for(;i.length<t;)i.unshift(i[0].map(Lm).flat());i.reverse();var a=i.flat();return Pm.set(e,a),a}(Fm(e,t,n),t,n)}(this.key)}},{key:"children",get:function(){if("Complete"!==this.download_state)return[];var e=this.constructor;if(this._children.length<this.child_locations.length){var t,n=T(this.child_locations);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=new e(this.url,r,this,this.dataset);this._children.push(i)}}catch(a){n.e(a)}finally{n.f()}}return this._children}},{key:"theoretical_extent",get:function(){var e=this.dataset.extent,t=f(this.codes,3),n=t[0],r=t[1],i=t[2],a=(e.x[1]-e.x[0])/Math.pow(2,n),o=(e.y[1]-e.y[0])/Math.pow(2,n);return{x:[e.x[0]+r*a,e.x[0]+(r+1)*a],y:[e.y[0]+i*o,e.y[0]+(i+1)*o]}}}]),n}(zm),Dm=function(e){k(n,e);var t=S(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(E(this,n),a=t.call(this,r),B(g(a),"batch_num"),B(g(a),"full_tab"),a.full_tab=e,a._batch=e.batches[i],a.download_state="Complete",a.batch_num=i,null===a._batch.getChild("ix")){console.warn("Manually setting ix");var u=a._batch,s=new Float32Array(u.numRows),l=a.dataset._ix_seed;a.dataset._ix_seed+=u.numRows;for(var c=0;c<u.numRows;c++)s[c]=c+l;a._min_ix=l,a._max_ix=l+u.numRows,a.highest_known_ix=a._max_ix,a._batch=Hm(a.record_batch,"ix",s)}a._extent={x:at(a._batch.getChild("x")),y:at(a._batch.getChild("y"))},a.parent=o;var f=a._batch.get(a._batch.numRows-1);if(null===f)throw"No rows in table";a.max_ix=Number(f.ix),a.highest_known_ix=Number(a.max_ix);var d=a._batch.get(0);if(null===d)throw"No rows in table";return a._min_ix=Number(d.ix),a.highest_known_ix=Number(a.max_ix),a.create_children(),a}return I(n,[{key:"create_children",value:function(){for(var e=4*this.batch_num;++e<=4*this.batch_num+4;)e<this.full_tab.batches.length&&this._children.push(new n(this.full_tab,this.dataset,e,this));var t,r=T(this._children);try{for(r.s();!(t=r.n()).done;)for(var i=t.value,a=0,o=["x","y"];a<o.length;a++){var u=o[a];this._extent[u][0]=Math.min(this._extent[u][0],i._extent[u][0]),this._extent[u][1]=Math.max(this._extent[u][1],i._extent[u][1])}}catch(s){r.e(s)}finally{r.f()}}},{key:"download",value:function(){return Promise.resolve(this._batch)}},{key:"ready",get:function(){return!0}}]),n}(zm);function Bm(e,t){return void 0===t||e[0]<t.x[1]&&e[0]>t.x[0]&&e[1]<t.y[1]&&e[1]>t.y[0]}function Fm(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,r=f(e.split("/").map((function(e){return parseInt(e)})),3),i=r[0],a=r[1],o=r[2],u=0;!(u>=n&&i%t==0);)a=Math.floor(a/2),o=Math.floor(o/2),i-=1,u++;return"".concat(i,"/").concat(a,"/").concat(o)}var Pm=new Map;function Lm(e){for(var t=f(e.split("/").map((function(e){return parseInt(e)})),3),n=t[0],r=t[1],i=t[2],a=[],o=0;o<4;o++)a.push("".concat(n+1,"/").concat(2*r+o%2,"/").concat(2*i+Math.floor(o/2)));return a}function Rm(){}var Um=function(){function e(t){E(this,e),B(this,"transformations",{}),B(this,"plot"),B(this,"extents",{}),B(this,"_ix_seed",0),B(this,"_schema"),this.plot=t}return I(e,[{key:"highest_known_ix",get:function(){return this.root_tile.highest_known_ix}},{key:"table",get:function(){return new yv(this.map((function(e){return e})).filter((function(e){return e.ready})).map((function(e){return e.record_batch})))}},{key:"delete_column_if_exists",value:function(e){this.map((function(t){return t.delete_column_if_exists(e)})),delete this.transformations[e]}},{key:"domain",value:function(e){var t;if(this.extents[e])return this.extents[e];var n=null==(t=this._schema)?void 0:t.fields.find((function(t){return t.name===e}));if(void 0!==n){var r=void 0,i=void 0,a=n.metadata.get("extent");if(a){var o=f(JSON.parse(a),2);r=o[0],i=o[1]}var u=n.metadata.get("min");u&&(r=JSON.parse(u));var s=n.metadata.get("max");if(s&&(i=JSON.parse(s)),10==n.type.typeId&&"string"===typeof r&&(r=Number(new Date(r))),10==n.type.typeId&&"string"===typeof i&&(i=Number(new Date(i))),"string"===typeof i)throw new Error("Failed to parse min-max as numbers");if(void 0!==r)return this.extents[e]=[r,i]}return this.extents[e]=at(v(this.table.getChild(e)))}},{key:"points",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e99;return o().mark((function r(){var i,a,u,s,l;return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:i=[t.root_tile];case 1:if(!(a=i.shift())){r.next=24;break}if("Complete"!=a.download_state||void 0!==e&&!a.is_visible(n,e)){r.next=22;break}u=T(a),r.prev=4,u.s();case 6:if((s=u.n()).done){r.next=13;break}if(!(Bm([(l=s.value).x,l.y],e)&&l.ix<=n)){r.next=11;break}return r.next=11,l;case 11:r.next=6;break;case 13:r.next=18;break;case 15:r.prev=15,r.t0=r.catch(4),u.e(r.t0);case 18:return r.prev=18,u.f(),r.finish(18);case 21:i.push.apply(i,v(a.children));case 22:r.next=1;break;case 24:case"end":return r.stop()}}),r,null,[[4,15,18,21]])}))()}},{key:"map",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=[];return this.visit((function(t){n.push(e(t))}),t),n}},{key:"visit",value:function(e){for(var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){return!0},i=[this.root_tile],a=[];t=i.shift();)n?a.push(t):e(t),r(t)&&"Complete"==t.download_state&&i.push.apply(i,v(t.children));if(n)for(;t=a.pop();)e(t)}},{key:"schema",value:function(){var e=s(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.ready;case 2:if(!this._schema){e.next=4;break}return e.abrupt("return",this._schema);case 4:return this._schema=this.root_tile.record_batch.schema,e.abrupt("return",this.root_tile.record_batch.schema);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"add_tiled_column",value:function(e,t){var n,r=Cm(t),i={},a=T(r.batches);try{for(a.s();!(n=a.n()).done;)for(var o=n.value,u=o.getChild("data").data[0].valueOffsets,s=o.getChild("data").data[0].children[0],l=0;l<o.data.length;l++){var c=o.getChild("_tile").get(l);i[c]=s.values.slice(u[l],u[l+1])}}catch(f){a.e(f)}finally{a.f()}this.transformations[e]=function(e){var t=e.key;return i[t]}}},{key:"add_sparse_identifiers",value:function(e,t){this.transformations[e]=function(e){for(var n,r=e.key,i=e.record_batch.numRows,a=new Float32Array(i),o=null!=(n=t.values[r])?n:[],u=0,s=Object.entries(o);u<s.length;u++){var l=f(s[u],2),c=l[0],d=l[1];a[Number.parseInt(c)]=d}return a}}},{key:"add_label_identifiers",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"_id";if(this.transformations[t])throw new Error("Can't overwrite existing transformation for ".concat(t));this.transformations[t]=function(r){return function(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"_id",a=new Float32Array(e.numRows),o=e.getChild(i);if(null===o)throw new Error("Field ".concat(i," not found in batch"));var u="string";2===(null==(r=null==o?void 0:o.type)?void 0:r.typeId)&&(u="bigint");if("bigint"===u){for(var s=0;s<e.numRows;s++){var l=t[String(o.get(s))];void 0!==l&&(a[s]=l)}return a}for(var c=new Set,f=function(){var e=h[d],t=[0,1,2,3].map((function(t){return e.charCodeAt(t)||""})).join("");c.add(t)},d=0,h=Object.keys(t);d<h.length;d++)f();for(var p=o.data[0].valueOffsets,m=o.data[0].values,y=0;y<e.numRows;y++){var _=m.slice(p[y],p[y+1]),b=_.slice(0,4).join("");if(c.has(b)){var g=String.fromCharCode.apply(String,v(_));void 0!==t[g]&&(a[y]=t[g])}}return a}(r.record_batch,e,t,n)}}},{key:"findPoint",value:function(e){var t=[];return this.visit((function(n){if(n.ready&&n.record_batch&&n.min_ix<=e&&n.max_ix>=e){var r=it(v(n.record_batch.getChild("ix").data[0].values),e),i=n.record_batch.get(r);i.ix===e&&t.push(i)}})),t}}],[{key:"from_quadfeather",value:function(e,t,n){return new Wm(e,t,n)}},{key:"from_arrow_table",value:function(e,t,n){return new Vm(e,t,n)}}]),e}(),Vm=function(e){k(n,e);var t=S(n);function n(e,r,i){var a;return E(this,n),a=t.call(this,i),B(g(a),"promise",Promise.resolve()),B(g(a),"root_tile"),a.root_tile=new Dm(e,g(a),0,i),a}return I(n,[{key:"extent",get:function(){return this.root_tile.extent}},{key:"ready",get:function(){return Promise.resolve()}},{key:"download_most_needed_tiles",value:function(e,t,n){}}]),n}(Um),Wm=function(e){k(n,e);var t=S(n);function n(e,r,i){var a;return E(this,n),a=t.call(this,i),B(g(a),"_download_queue",new Set),B(g(a),"promise",new Promise(Rm)),B(g(a),"root_tile"),a.root_tile=new Nm(e,"0/0/0",null,g(a),r),a.promise=a.root_tile.promise,a}return I(n,[{key:"ready",get:function(){return this.root_tile.download()}},{key:"extent",get:function(){return this.root_tile.extent}},{key:"download_to_depth",value:function(){var e=s(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.root_tile.download_to_depth(t);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"download_most_needed_tiles",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4,r=this._download_queue;if(!(r.size>=n)){var i=[];this.visit((function(t){if(void 0===e)return 1/t.codes[0];if("Unattempted"===t.download_state){var n=function(e,t){var n=e.extent;if(n.x[0]>t.x[1]||n.x[1]<t.x[0]||n.y[0]>t.y[1]||n.y[1]<t.y[0])return 0;var r={x:[vt([t.x[0],n.x[0]]),mt([t.x[1],n.x[1]])],y:[vt([t.y[0],n.y[0]]),mt([t.y[1],n.y[1]])]},i=r.x,a=r.y,o=0;i[0]>i[1]&&(o-=1);a[0]>a[1]&&(o-=2);if(o<0)return o;return Ym(r)/Ym(t)}(t,e);i.push([n,t,e])}})),i.sort((function(e,t){return Number(e[0])-Number(t[0])}));for(var a=function(){var e=i.pop();if(void 0===e)throw new Error("Ran out of tiles unexpectedly");var n=f(e,3),a=n[0],o=n[1];n[2];if(o.min_ix&&o.min_ix>t||a<=0)return"continue";r.add(o.key),o.download().then((function(){return r.delete(o.key)})).catch((function(e){throw console.warn("Error on",o.key),r.delete(o.key),e}))};i.length>0&&r.size<n;)a()}}},{key:"add_macrotiled_column",value:function(e,t){var n={},r={};function i(e){return a.apply(this,arguments)}function a(){return(a=s(o().mark((function e(i){var a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i.key,a=i.macrotile,void 0===n[a]){e.next=7;break}return e.next=4,n[a];case 4:return e.abrupt("return",e.sent);case 7:return n[a]=t(i.macro_siblings).then((function(e){var t,n=T(Cm(e).batches);try{for(n.s();!(t=n.n()).done;)for(var i=t.value,a=i.getChild("data").data[0].valueOffsets,o=i.getChild("data").data[0].children[0],u=0;u<i.data.length;u++){var s=i.getChild("_tile").get(u);r[s]=o.values.slice(a[u],a[u+1])}}catch(l){n.e(l)}finally{n.f()}})),e.abrupt("return",n[a]);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}this.transformations[e]=function(){var e=s(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i(t);case 2:return n=r[t.key],e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),n}(Um);function Ym(e){return(e.x[1]-e.x[0])*(e.y[1]-e.y[0])}function Hm(e,t,n){var r,i={},a=T(e.schema.fields);try{for(a.s();!(r=a.n()).done;){var o=r.value;if(o.name===t){if(null===n)continue;throw new Error("Name ".concat(o.name," already exists, can't add."))}i[o.name]=e.getChild(o.name).data[0]}}catch(_){a.e(_)}finally{a.f()}if(void 0===n)throw new Error("Must pass data to bind_column");null!==n&&(n instanceof Float32Array||n instanceof BigInt64Array?i[t]=Fh(n).data[0]:i[t]=n.data[0]);var u,s=new _v(i),l=T(e.schema.metadata);try{for(l.s();!(u=l.n()).done;){var c=f(u.value,2),d=c[0],h=c[1];s.schema.metadata.set(d,h)}}catch(_){l.e(_)}finally{l.f()}var p,v=T(e.schema.fields);try{var m=function(){var e=p.value,t=s.schema.fields.find((function(t){return t.name===e.name}));if(void 0!==t){var r,i=T(e.metadata);try{for(i.s();!(r=i.n()).done;){var a=f(r.value,2),o=a[0],u=a[1];t.metadata.set(o,u)}}catch(_){i.e(_)}finally{i.f()}}else if(null!==n)throw new Error("Error!")};for(v.s();!(p=v.n()).done;)m()}catch(_){v.e(_)}finally{v.f()}if(null!==n){var y=s.schema.fields.find((function(e){return e.name===t}));null==y||y.metadata.set("created by deepscatter",(new Date).toISOString())}return s}var qm={},Gm={exports:{}};!function(e,t){e.exports=function(){function e(e,n,i,a,o){t(e,n,i||0,a||e.length-1,o||r)}function t(e,r,i,a,o){for(;a>i;){if(a-i>600){var u=a-i+1,s=r-i+1,l=Math.log(u),c=.5*Math.exp(2*l/3),f=.5*Math.sqrt(l*c*(u-c)/u)*(s-u/2<0?-1:1);t(e,r,Math.max(i,Math.floor(r-s*c/u+f)),Math.min(a,Math.floor(r+(u-s)*c/u+f)),o)}var d=e[r],h=i,p=a;for(n(e,i,r),o(e[a],d)>0&&n(e,i,a);h<p;){for(n(e,h,p),h++,p--;o(e[h],d)<0;)h++;for(;o(e[p],d)>0;)p--}0===o(e[i],d)?n(e,i,p):n(e,++p,a),p<=r&&(i=p+1),r<=p&&(a=p-1)}}function n(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function r(e,t){return e<t?-1:e>t?1:0}return e}()}(Gm),function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=Gm.exports,n=[],r=function(e){return n.push(e)},i=function e(t){t&&(r(t),s(t)||t.children.forEach(e))},a=function(e){var t=n.pop();return t?(t.children=e,t.height=1,t.leaf=!0,t.minX=1/0,t.minY=1/0,t.minZ=1/0,t.maxX=-1/0,t.maxY=-1/0,t.maxZ=-1/0):t={children:e,height:1,leaf:!0,minX:1/0,minY:1/0,minZ:1/0,maxX:-1/0,maxY:-1/0,maxZ:-1/0},t},o=[],u=function(e,t){var n=o.pop();return n?(n.dist=e,n.node=t):n={dist:e,node:t},n},s=function(e){return e.leaf},l=function(e,t){return e.leaf},c=function(e,t,n){if(!n)return t.indexOf(e);for(var r=0;r<t.length;r++)if(n(e,t[r]))return r;return-1},f=function(e){d(e,0,e.children.length,e)},d=function(e,t,n,r){var i=r;i?(i.minX=1/0,i.minY=1/0,i.minZ=1/0,i.maxX=-1/0,i.maxY=-1/0,i.maxZ=-1/0):i=a([]);for(var o=t,u=void 0;o<n;o++)u=e.children[o],h(i,u);return i},h=function(e,t){return e.minX=Math.min(e.minX,t.minX),e.minY=Math.min(e.minY,t.minY),e.minZ=Math.min(e.minZ,t.minZ),e.maxX=Math.max(e.maxX,t.maxX),e.maxY=Math.max(e.maxY,t.maxY),e.maxZ=Math.max(e.maxZ,t.maxZ),e},p=function(e){return(e.maxX-e.minX)*(e.maxY-e.minY)*(e.maxZ-e.minZ)},v=function(e){return e.maxX-e.minX+(e.maxY-e.minY)+(e.maxZ-e.minZ)},m=function(e,t){var n=Math.min(e.minX,t.minX),r=Math.min(e.minY,t.minY),i=Math.min(e.minZ,t.minZ);return(Math.max(e.maxX,t.maxX)-n)*(Math.max(e.maxY,t.maxY)-r)*(Math.max(e.maxZ,t.maxZ)-i)},y=function(e,t){var n=Math.max(e.minX,t.minX),r=Math.max(e.minY,t.minY),i=Math.max(e.minZ,t.minZ),a=Math.min(e.maxX,t.maxX),o=Math.min(e.maxY,t.maxY),u=Math.min(e.maxZ,t.maxZ);return Math.max(0,a-n)*Math.max(0,o-r)*Math.max(0,u-i)},_=function(e,t){return e.minX<=t.minX&&e.minY<=t.minY&&e.minZ<=t.minZ&&t.maxX<=e.maxX&&t.maxY<=e.maxY&&t.maxZ<=e.maxZ};e.intersects=function(e,t){return t.minX<=e.maxX&&t.minY<=e.maxY&&t.minZ<=e.maxZ&&t.maxX>=e.minX&&t.maxY>=e.minY&&t.maxZ>=e.minZ},e.boxRayIntersects=function(e,t,n,r,i,a,o){var u=(e.minX-t)*i,s=(e.maxX-t)*i,l=(e.minY-n)*a,c=(e.maxY-n)*a,f=(e.minZ-r)*o,d=(e.maxZ-r)*o,h=Math.min(f,d),p=Math.max(f,d),v=Math.min(l,c),m=Math.max(l,c),y=Math.min(u,s),_=Math.max(u,s),b=Math.max(0,y,v,h);return Math.min(_,m,p)>=b?b:1/0};var b=function(e,n,r,i,a){for(var o,u=[n,r];u.length;)(r=u.pop())-(n=u.pop())<=i||(o=n+Math.ceil((r-n)/i/2)*i,t(e,o,n,r,a),u.push(n,o,o,r))},g=function(e,t){return e.minX-t.minX},w=function(e,t){return e.minY-t.minY},x=function(e,t){return e.minZ-t.minZ},k=function(){function t(e){void 0===e&&(e=16),this.maxEntries=Math.max(e,8),this.minEntries=Math.max(4,Math.ceil(.4*this.maxEntries)),this.clear()}return t.alloc=function(){return this.pool.pop()||new this},t.free=function(e){e.clear(),this.pool.push(e)},t.prototype.search=function(t){var n=this.data,r=[];if(!e.intersects(t,n))return r;for(var i=[];n;){for(var a=0,o=n.children.length;a<o;a++){var u=n.children[a];e.intersects(t,u)&&(l(n)?r.push(u):_(t,u)?this._all(u,r):i.push(u))}n=i.pop()}return r},t.prototype.collides=function(t){var n=this.data;if(!e.intersects(t,n))return!1;for(var r=[];n;){for(var i=0,a=n.children.length;i<a;i++){var o=n.children[i];if(e.intersects(t,o)){if(l(n)||_(t,o))return!0;r.push(o)}}n=r.pop()}return!1},t.prototype.raycastInv=function(t,n,r,i,a,s,c){void 0===c&&(c=1/0);var f=this.data;if(i===1/0&&a===1/0&&s===1/0)return u(1/0,void 0);if(e.boxRayIntersects(f,t,n,r,i,a,s)===1/0)return u(1/0,void 0);for(var d,h=[u(0,f)],p=function(e,t){var n=h[e];h[e]=h[t],h[t]=n},v=function(){var e=h[0],t=h.length-1;h[0]=h[t],h.length=t;for(var n=0;;){var r=n<<1|1;if(r>=t)break;var i=r+1;if(i<t&&h[i].dist<h[r].dist&&(r=i),h[n].dist<h[r].dist)break;p(n,r),n=r}return function(e){o.push(e)}(e),e.node},m=function(e,t){var n=h.length;for(h.push(u(e,t));n>0;){var r=n-1>>1;if(h[r].dist<=h[n].dist)break;p(n,r),n=r}},y=c;h.length&&h[0].dist<y;)for(var _=0,b=(f=v()).children.length;_<b;_++){var g=f.children[_],w=e.boxRayIntersects(g,t,n,r,i,a,s);if(l(f)){if(w<y){if(0===w)return u(w,g);y=w,d=g}}else m(w,g)}return u(y<c?y:1/0,d)},t.prototype.raycast=function(e,t,n,r,i,a,o){return void 0===o&&(o=1/0),this.raycastInv(e,t,n,1/r,1/i,1/a,o)},t.prototype.all=function(){return this._all(this.data,[])},t.prototype.load=function(e){if(!e||!e.length)return this;if(e.length<this.minEntries){for(var t=0,n=e.length;t<n;t++)this.insert(e[t]);return this}var r=this.build(e.slice(),0,e.length-1,0);if(this.data.children.length)if(this.data.height===r.height)this.splitRoot(this.data,r);else{if(this.data.height<r.height){var i=this.data;this.data=r,r=i}this._insert(r,this.data.height-r.height-1,!0)}else this.data=r;return this},t.prototype.insert=function(e){return e&&this._insert(e,this.data.height-1),this},t.prototype.clear=function(){return this.data&&i(this.data),this.data=a([]),this},t.prototype.remove=function(e,t){if(!e)return this;for(var n,r,i=this.data,a=0,o=!1,u=[],l=[];i||u.length;){if(i||(i=u.pop(),a=l.pop(),r=u[u.length-1],o=!0),s(i)&&-1!==(n=c(e,i.children,t)))return i.children.splice(n,1),u.push(i),this.condense(u),this;o||s(i)||!_(i,e)?r?(a++,i=r.children[a],o=!1):i=void 0:(u.push(i),l.push(a),a=0,r=i,i=i.children[0])}return this},t.prototype.toJSON=function(){return this.data},t.prototype.fromJSON=function(e){return i(this.data),this.data=e,this},t.prototype.build=function(e,t,n,r){var i,o=n-t+1,u=this.maxEntries;if(o<=u)return i=a(e.slice(t,n+1)),f(i),i;r||(r=Math.ceil(Math.log(o)/Math.log(u)),u=Math.ceil(o/Math.pow(u,r-1))),(i=a([])).leaf=!1,i.height=r;var s=Math.ceil(o/u),l=s*Math.ceil(Math.pow(u,2/3)),c=s*Math.ceil(Math.pow(u,1/3));b(e,t,n,c,g);for(var d=t;d<=n;d+=c){var h=Math.min(d+c-1,n);b(e,d,h,l,w);for(var p=d;p<=h;p+=l){var v=Math.min(p+l-1,h);b(e,p,v,s,x);for(var m=p;m<=v;m+=s){var y=Math.min(m+s-1,v);i.children.push(this.build(e,m,y,r-1))}}}return f(i),i},t.prototype._all=function(e,t){for(var n=[];e;)s(e)?t.push.apply(t,e.children):n.push.apply(n,e.children),e=n.pop();return t},t.prototype.chooseSubtree=function(e,t,n,r){for(var i,a,o;r.push(t),!s(t)&&r.length-1!==n;){i=a=1/0;for(var u=0,l=t.children.length;u<l;u++){var c=t.children[u],f=p(c),d=m(e,c)-f;d<a?(a=d,i=f<i?f:i,o=c):d===a&&f<i&&(i=f,o=c)}t=o||t.children[0]}return t},t.prototype.split=function(e,t){var n=e[t],r=n.children.length,i=this.minEntries;this.chooseSplitAxis(n,i,r);var o=this.chooseSplitIndex(n,i,r),u=a(n.children.splice(o,n.children.length-o));u.height=n.height,u.leaf=n.leaf,f(n),f(u),t?e[t-1].children.push(u):this.splitRoot(n,u)},t.prototype.splitRoot=function(e,t){this.data=a([e,t]),this.data.height=e.height+1,this.data.leaf=!1,f(this.data)},t.prototype.chooseSplitIndex=function(e,t,n){for(var r,i=1/0,a=1/0,o=t;o<=n-t;o++){var u=d(e,0,o),s=d(e,o,n),l=y(u,s),c=p(u)+p(s);l<i?(i=l,r=o,a=c<a?c:a):l===i&&c<a&&(a=c,r=o)}return r},t.prototype.chooseSplitAxis=function(e,t,n){var r=this.allDistMargin(e,t,n,g),i=this.allDistMargin(e,t,n,w),a=this.allDistMargin(e,t,n,x);r<i&&r<a?e.children.sort(g):i<r&&i<a&&e.children.sort(w)},t.prototype.allDistMargin=function(e,t,n,r){e.children.sort(r);for(var i=d(e,0,t),a=d(e,n-t,n),o=v(i)+v(a),u=t;u<n-t;u++){var s=e.children[u];h(i,s),o+=v(i)}for(u=n-t-1;u>=t;u--){s=e.children[u];h(a,s),o+=v(a)}return o},t.prototype.adjustParentBBoxes=function(e,t,n){for(var r=n;r>=0;r--)h(t[r],e)},t.prototype.condense=function(e){for(var t=e.length-1,n=void 0;t>=0;t--)0===e[t].children.length?t>0?((n=e[t-1].children).splice(n.indexOf(e[t]),1),r(e[t])):this.clear():f(e[t])},t.prototype._insert=function(e,t,n){var r=[],i=this.chooseSubtree(e,this.data,t,r);for(i.children.push(e),h(i,e);t>=0&&r[t].children.length>this.maxEntries;)this.split(r,t),t--;this.adjustParentBBoxes(e,r,t)},t.pool=[],t}();e.RBush3D=k}(qm);var $m=function(){var e,t,n,r,i=Mr,a=zr,o=Nr,u=Dr,s={},l=gr("start","drag","end"),c=0,f=0;function d(e){e.on("mousedown.drag",h).filter(u).on("touchstart.drag",m).on("touchmove.drag",y,Sr).on("touchend.drag touchcancel.drag",_).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function h(o,u){if(!r&&i.call(this,o,u)){var s=b(this,a.call(this,o,u),o,u,"mouse");s&&(Qe(o.view).on("mousemove.drag",p,Ar).on("mouseup.drag",v,Ar),Ir(o.view),Er(o),n=!1,e=o.clientX,t=o.clientY,s("start",o))}}function p(r){if(Or(r),!n){var i=r.clientX-e,a=r.clientY-t;n=i*i+a*a>f}s.mouse("drag",r)}function v(e){Qe(e.view).on("mousemove.drag mouseup.drag",null),Tr(e.view,n),Or(e),s.mouse("end",e)}function m(e,t){if(i.call(this,e,t)){var n,r,o=e.changedTouches,u=a.call(this,e,t),s=o.length;for(n=0;n<s;++n)(r=b(this,u,e,t,o[n].identifier,o[n]))&&(Er(e),r("start",e,o[n]))}}function y(e){var t,n,r=e.changedTouches,i=r.length;for(t=0;t<i;++t)(n=s[r[t].identifier])&&(Or(e),n("drag",e,r[t]))}function _(e){var t,n,i=e.changedTouches,a=i.length;for(r&&clearTimeout(r),r=setTimeout((function(){r=null}),500),t=0;t<a;++t)(n=s[i[t].identifier])&&(Er(e),n("end",e,i[t]))}function b(e,t,n,r,i,a){var u,f,h,p=l.copy(),v=Ke(a||n,t);if(null!=(h=o.call(e,new Cr("beforestart",{sourceEvent:n,target:d,identifier:i,active:c,x:v[0],y:v[1],dx:0,dy:0,dispatch:p}),r)))return u=h.x-v[0]||0,f=h.y-v[1]||0,function n(a,o,l){var m,y=v;switch(a){case"start":s[i]=n,m=c++;break;case"end":delete s[i],--c;case"drag":v=Ke(l||o,t),m=c}p.call(a,e,new Cr(a,{sourceEvent:o,subject:h,target:d,identifier:i,active:m,x:v[0]+u,y:v[1]+f,dx:v[0]-y[0],dy:v[1]-y[1],dispatch:p}),r)}}return d.filter=function(e){return arguments.length?(i="function"===typeof e?e:jr(!!e),d):i},d.container=function(e){return arguments.length?(a="function"===typeof e?e:jr(e),d):a},d.subject=function(e){return arguments.length?(o="function"===typeof e?e:jr(e),d):o},d.touchable=function(e){return arguments.length?(u="function"===typeof e?e:jr(!!e),d):u},d.on=function(){var e=l.on.apply(l,arguments);return e===l?d:e},d.clickDistance=function(e){return arguments.length?(f=(e=+e)*e,d):Math.sqrt(f)},d}();var Xm=function(e){k(n,e);var t=S(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};E(this,n),i=t.call(this,e.div.node(),e._root,e),B(g(i),"layers",[]),B(g(i),"ctx"),B(g(i),"tree"),B(g(i),"timer"),B(g(i),"label_key"),B(g(i),"labelgroup"),B(g(i),"hovered"),B(g(i),"options",{}),i.options=a,i.canvas=e.elements[2].selectAll("canvas").node();var o=e.elements[3].selectAll("svg").node(),u=r.replace(/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~]/g,"---"),s=o.querySelectorAll("#".concat(u));if(0===s.length?i.labelgroup=Qe(o).select("#labelrects").append("g").attr("id",u).node():i.labelgroup=s[1],void 0===i.canvas)throw new Error("WTF?");return i.ctx=i.canvas.getContext("2d"),i.tree=new Zm(i.ctx,function(e){var t=f(e._zoom.scales().x.range(),2),n=t[0],r=t[1],i=f(e._zoom.scales().x.domain(),2),a=i[0];return(r-n)/(i[1]-a)}(e),.5,[.5,1e6],void 0===a.margin?30:a.margin),i.bind_zoom(e._renderer.zoom),i}return I(n,[{key:"start",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e9;this.timer&&this.timer.stop(),Qe(this.labelgroup).attr("display","inline"),this.timer=pr((function(){e.render(),(t-=1)<=0&&e.stop()}))}},{key:"delete",value:function(){Qe(this.labelgroup).remove()}},{key:"stop",value:function(){this.timer&&(this.timer.stop(),Qe(this.labelgroup).attr("display","none"),this.ctx.clearRect(0,0,4096,4096),this.timer=void 0)}},{key:"update",value:function(e,t,n){var r;this.label_key=t;var i,a=T(e.features);try{for(a.s();!(i=a.n()).done;){var o=i.value,u=o.properties,s=o.geometry;if(null!==u&&"Point"===s.type){var l=null!=(r=u[n])?r:16,c="";void 0!==u[t]&&null!==u[t]&&(c=u[t]);var f={x:s.coordinates[0]+.1*Math.random(),y:s.coordinates[1]+.1*Math.random(),text:c,height:l,properties:u};this.tree.insert_point(f)}}}catch(d){a.e(d)}finally{a.f()}}},{key:"render",value:function(){var e=this,t=this.ctx,n=this.zoom.scales(),r=n.x_,i=n.y_,a=this.zoom.transform,o=this.width,u=this.height;t.clearRect(0,0,o,u),t.textAlign="center",t.textBaseline="middle",t.globalAlpha=1;var s=this.zoom.current_corners(),l=this.tree.search({minX:s.x[0],minY:s.y[0],minZ:a.k,maxX:s.x[1],maxY:s.y[1],maxZ:a.k});t.clearRect(0,0,4096,4096);var c,f=this.scatterplot.dim("color"),d=Qe(this.labelgroup).selectAll("rect.labelbbox").data(l,(function(e){return""+e.minZ+e.minX})).join((function(e){return e.append("rect").attr("class","labellbox").style("opacity",0)})),h=T(l);try{for(h.s();!(c=h.n()).done;){var p=c.value,v=p.data,m=r(v.x),y=i(v.y);t.globalAlpha=1,t.fillStyle="white";for(var _=!1,b=0,g=[this.scatterplot.dim("filter"),this.scatterplot.dim("filter2")];b<g.length;b++){var w=g[b];v.properties[w.field]&&(w.apply(v.properties)||(_=!0))}if(_)v.properties.__display="none";else{if(v.properties.__display="inline",!1===this.options.useColorScale||void 0===this.options.useColorScale)t.shadowColor="#71797E",t.strokeStyle="#71797E";else if(v.properties[f.field]){f.scale.domain().indexOf(v.properties[f.field])>-1?(t.shadowColor=f.scale(v.properties[f.field]),t.strokeStyle=f.scale(v.properties[f.field])):(t.shadowColor="gray",t.strokeStyle="gray")}else t.shadowColor="black";var x=0;this.hovered===""+p.minZ+p.minX&&(x+=2),t.font="".concat(1*v.height+x,"pt verdana"),t.shadowBlur=12+3*x,t.lineWidth=3+x,t.strokeText(v.text,m,y),t.shadowBlur=0,t.lineWidth=4+x,t.fillStyle="white",t.fillText(v.text,m,y)}}}catch(k){h.e(k)}finally{h.f()}d.attr("class","labelbbox").attr("x",(function(t){return r(t.data.x)-t.data.pixel_width*e.tree.pixel_ratio/2})).attr("y",(function(t){return i(t.data.y)-t.data.pixel_height*e.tree.pixel_ratio/2-5})).attr("width",(function(t){return t.data.pixel_width*e.tree.pixel_ratio})).attr("stroke","red").attr("height",(function(t){return t.data.pixel_height*e.tree.pixel_ratio+10})).attr("display",(function(e){return e.data.properties.__display||"inline"})).on("mouseover",(function(t,n){Qe(t.target).style("opacity",0),e.hovered=""+n.minZ+n.minX,t.stopPropagation()})).on("mousemove",(function(e,t){e.stopPropagation()})).on("click",(function(t,n){e.scatterplot.label_click(n.data,e.scatterplot,e)})).on("mouseout",(function(t,n){e.hovered=void 0,t.stopPropagation()})),this.options.draggable_labels&&($m.on("drag",(function(e,t){t.data.x=r.invert(e.x),t.data.y=i.invert(e.y)})),$m.on("end",(function(e,t){console.log({text:t.data.text,x:t.data.x,y:t.data.y})})),d.call($m)),t.shadowColor="black",t.strokeStyle="black"}}]),n}(tu),Qm=null;function Km(e,t,n){var r=function(){if(null!==Qm)return Qm;var e=document.createElement("canvas");return e.width=500,e.height=400,Qm=e.getContext("2d")}();if(r.font="".concat(e.height,"pt verdana"),""===e.text)return null;var i=r.measureText(e.text),a=i.actualBoundingBoxLeft,o=i.actualBoundingBoxRight,u=i.actualBoundingBoxAscent,s=i.actualBoundingBoxDescent;return(Number.isNaN(a)||void 0===a)&&(a=0,o=i.width,u=e.height,s=0),{pixel_height:(u-s)/t+n/t,pixel_width:(o-a)/t+n/t}}var Zm=function(e){k(n,e);var t=S(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.5,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[.1,1e3],u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:10;return E(this,n),i=t.call(this),B(g(i),"scale_factor"),B(g(i),"mindepth"),B(g(i),"maxdepth"),B(g(i),"context"),B(g(i),"pixel_ratio"),B(g(i),"rectangle_buffer"),B(g(i),"margin"),B(g(i),"_accessor",(function(e){return[e.x,e.y]})),i.scale_factor=a,i.mindepth=o[0],i.maxdepth=o[1],i.context=e,i.pixel_ratio=r,i.margin=u,i}return I(n,[{key:"max_collision_depth",value:function(e,t){var n=f(this._accessor(e),2),r=n[0],i=n[1],a=f(this._accessor(t),2),o=a[0],u=a[1],s=Math.abs(r-o),l=(e.pixel_width+t.pixel_width)/2/s,c=Math.abs(i-u),d=(e.pixel_height+t.pixel_height)/2/c;return Math.min(l,d)}},{key:"accessor",get:function(){return this._accessor},set:function(e){this._accessor=e}},{key:"to3d",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2?arguments[2]:void 0,r=f(this.accessor(e),2),i=r[0],a=r[1],o=e.pixel_height,u=e.pixel_width,s={minX:i-u/t/2,maxX:i+u/t/2,minY:a-o/t/2,maxY:a+o/t/2,minZ:t,maxZ:n||this.maxdepth,data:e};if(Number.isNaN(i)||Number.isNaN(a))throw"Missing position"+JSON.stringify(e);if(Number.isNaN(u))throw"Missing Aspect Ratio"+JSON.stringify(e);return s}},{key:"insert_point",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/4;if(void 0!==e.text&&""!==e.text){var n;n=void 0===e.pixel_width?b(b({},e),Km(e,this.pixel_ratio,this.margin)):e;var r=this.to3d(n,t,this.maxdepth);this.collides(r)?this.insert_after_collisions(r):t<=this.mindepth?this.insert(r):this.insert_point(e,t/2)}}},{key:"insert_after_collisions",value:function(e){var t,n,r=-1,i=T(this.search(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=this.max_collision_depth(e.data,a.data);o>r&&(r=o,t=a)}}catch(h){i.e(h)}finally{i.f()}if(t&&r<this.maxdepth){var u=t.data,s=t.minZ,l=t.maxZ;if(s<r){this.remove(t);var c=this.to3d(u,s,r);this.insert(c);var f=this.to3d(u,r,l);this.insert(f)}var d=this.to3d(e.data,r,this.maxdepth);this.insert(d)}}}]),n}(qm.RBush3D),Jm={zoom_balance:.35,duration:1e3,max_points:1e3,encoding:{},point_size:1,alpha:40,background_options:{color:"gray",opacity:[.2,1],size:[.66,1],mouseover:!1},zoom_align:"center"},ey=[{id:"canvas-2d-background",nodetype:"canvas"},{id:"webgl-canvas",nodetype:"canvas"},{id:"canvas-2d",nodetype:"canvas"},{id:"deepscatter-svg",nodetype:"svg"}],ty=function(){function e(t,n,r){var i=this;E(this,e),B(this,"_renderer"),B(this,"width"),B(this,"height"),B(this,"_root"),B(this,"elements"),B(this,"secondary_renderers",{}),B(this,"div"),B(this,"bound"),B(this,"_zoom"),B(this,"plot_queue",Promise.resolve(0)),B(this,"prefs"),B(this,"ready"),B(this,"click_handler"),B(this,"hooks",{}),B(this,"tooltip_handler"),B(this,"label_click_handler"),B(this,"on_zoom"),B(this,"mark_ready",(function(){})),this.bound=!1,void 0!==t&&this.bind(t,n,r),this.width=n,this.height=r,this.ready=new Promise((function(e,t){i.mark_ready=e})),this.click_handler=new iy(this),this.tooltip_handler=new ay(this),this.label_click_handler=new ry(this),this.prefs=b({},Jm)}return I(e,[{key:"bind",value:function(e,t,n){if(this.div=Qe(e).selectAll("div.deepscatter_container").data([1]).join("div").attr("class","deepscatter_container").style("position","absolute"),this.div.empty())throw console.error(e),"Must pass a valid div selector";this.elements=[];for(var r=0,i=ey;r<i.length;r++){var a=i[r],o=this.div.append("div").attr("id","container-for-".concat(a.id)).style("position","absolute").style("top",0).style("left",0).style("pointer-events","deepscatter-svg"===a.id?"auto":"none"),u=o.append(a.nodetype).attr("id",a.id).attr("width",t||window.innerWidth).attr("height",n||window.innerHeight);"svg"===a.nodetype&&(u.append("g").attr("id","mousepoints"),u.append("g").attr("id","labelrects")),this.elements.push(o)}this.bound=!0}},{key:"add_identifier_column",value:function(e,t,n){var r=Array.isArray(t)?Object.fromEntries(t.map((function(e){return[e,1]}))):t;this._root.add_label_identifiers(r,e,n)}},{key:"add_labels_from_url",value:function(){var e=s(o().mark((function e(t,n,r,i,a){var u=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.ready;case 2:return e.next=4,this._root.promise;case 4:return e.abrupt("return",fetch(t).then(function(){var e=s(o().mark((function e(t){var s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:s=e.sent,u.add_labels(s,n,r,i,a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.error("Broken addition of ",n),console.log(e)})));case 5:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i,a){return e.apply(this,arguments)}}()},{key:"add_labels",value:function(e,t,n,r){var i=new Xm(this,t,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{});i.update(e,n,r),this.secondary_renderers[t]=i,this.secondary_renderers[t].start()}},{key:"add_api_label",value:function(e){var t={type:"FeatureCollection",features:e.labels.map((function(e){return{type:"Feature",geometry:{type:"Point",coordinates:[e.x,e.y]},properties:{text:e.text,size:e.size||void 0}}}))};console.log("OPTIONS",e.options),this.add_labels(t,e.name,"text","size",e.options||{})}},{key:"reinitialize",value:function(){var e=s(o().mark((function e(){var t,n,r,i=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===(t=this.prefs).source_url){e.next=5;break}this._root=Um.from_quadfeather(t.source_url,t,this),e.next=10;break;case 5:if(void 0===t.arrow_table){e.next=9;break}this._root=Um.from_arrow_table(t.arrow_table,t,this),e.next=10;break;case 9:throw new Error("No source_url or arrow_table specified");case 10:return e.next=12,this._root.ready;case 12:return this._renderer=new ml("#container-for-webgl-canvas",this._root,this),this._zoom=new Go("#deepscatter-svg",this.prefs,this),this._zoom.attach_tiles(this._root),this._zoom.attach_renderer("regl",this._renderer),this._zoom.initialize_zoom(),n=Qe("#container-for-canvas-2d-background").select("canvas"),(r=n.node().getContext("2d")).fillStyle=t.background_color||"rgba(133, 133, 111, .8)",r.fillRect(0,0,2*window.innerWidth,2*window.innerHeight),this._renderer.initialize(),this._root.promise.then((function(){return i.mark_ready()})),e.abrupt("return",this.ready);case 24:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"visualize_tiles",value:function(){var e=this,t=e.elements[2].selectAll("canvas").node().getContext("2d");t.clearRect(0,0,1e4,1e4);var n=e._zoom.scales(),r=n.x_,i=n.y_;t.strokeStyle="#888888";var a,o=e._root.map((function(e){return e})),u=T(bt(13));try{var s=function(){var e=a.value;setTimeout((function(){var n,a=T(o);try{for(a.s();!(n=a.n()).done;){var u=n.value;if(u.codes[0]==e&&u.extent){var s=f(u.extent.x.map((function(e){return r(e)})),2),l=s[0],c=s[1],d=f(u.extent.y.map((function(e){return i(e)})),2),h=d[0],p=d[1],v=u.codes[0];t.lineWidth=8/Math.sqrt(v),t.globalAlpha=.33,t.strokeRect(l,h,c-l,p-h),"Unattempted"!==u.download_state&&t.fillRect(l,h,c-l,p-h),t.globalAlpha=1}}}catch(m){a.e(m)}finally{a.f()}}),400*e)};for(u.s();!(a=u.n()).done;)s()}catch(l){u.e(l)}finally{u.f()}setTimeout((function(){return t.clearRect(0,0,1e4,1e4)}),6800)}},{key:"make_big_png",value:function(){var e=s(o().mark((function e(){var t,n,r,i,a,u,s,l,c,f,d,h=this,p=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=p.length>0&&void 0!==p[0]?p[0]:3,n=p.length>1&&void 0!==p[1]?p[1]:1e7,r=p.length>2&&void 0!==p[2]?p[2]:100,e.next=5,this._root.download_to_depth(n);case 5:i=this._renderer,a=i.width,u=i.height,this.plotAPI({duration:0}),(s=document.createElement("canvas")).setAttribute("width",(t*a).toString()),s.setAttribute("height",(t*u).toString()),l=s.getContext("2d"),c=this._zoom.current_corners(),this._zoom.transform.k,f=(c.x[1]-c.x[0])/t,d=(c.y[1]-c.y[0])/t,new Promise((function(e,n){for(var i=function(n){for(var i=function(i){setTimeout((function(){h._zoom.zoom_to_bbox({x:[c.x[0]+f*n,c.x[0]+f*(n+1)],y:[c.y[0]+d*i,c.y[0]+d*(i+1)]},r/5,1),setTimeout((function(){h._renderer.fbos.colorpicker.use((function(){h._renderer.render_all(h._renderer.props);var e=h._renderer.regl.read(0,0,a,u);console.log(n,i,wt(e));for(var t=u/2|0,r=4*a,o=new Uint8Array(4*a),s=0;s<t;++s){var c=s*r,f=(u-s-1)*r;o.set(e.subarray(c,c+r)),e.copyWithin(c,f,f+r),e.set(o,f)}var d=new ImageData(new Uint8ClampedArray(e),a);l.putImageData(d,a*n,u*i)})),n==t-1&&i===t-1&&e()}),r/2)}),n*r*t+i*r)},o=0;o<t;o++)i(o)},o=0;o<t;o++)i(o)})).then((function(){var e=s.toDataURL(),t=document.createElement("a");t.href=e,t.style="position:fixed;top:40vh;left:40vw;z-index:999;",t.download="deepscatter",t.click(),t.remove()}));case 17:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"destroy",value:function(){var e,t,n;null==(t=null==(e=this._renderer)?void 0:e.regl)||t.destroy(),null==(n=this.div)||n.node().parentElement.replaceChildren()}},{key:"update_prefs",value:function(e){if(this.prefs.encoding&&e.encoding)for(var t=0,n=Object.keys(this.prefs.encoding);t<n.length;t++){var r=n[t];void 0!==e.encoding[r]&&(this.prefs.encoding[r]=e.encoding[r])}tr(this.prefs,e)}},{key:"add_hook",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(void 0!==this.hooks[e]&&!n)throw new Error("Hook ".concat(e," already exists"));this.hooks[e]=t}},{key:"remove_hook",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(void 0===this.hooks[e]){if(t)return;throw new Error("Hook ".concat(e," does not exist"))}delete this.hooks[e]}},{key:"stop_labellers",value:function(){console.log("Stopping labels");for(var e=0,t=Object.entries(this.secondary_renderers);e<t.length;e++){var n=f(t[e],2),r=n[0],i=n[1];i&&void 0!==i.label_key&&(this.secondary_renderers[r].stop(),this.secondary_renderers[r].delete(),this.secondary_renderers[r]=void 0)}}},{key:"dim",value:function(e){return this._renderer.aes.dim(e).current}},{key:"tooltip_html",get:function(){return this.tooltip_handler.f},set:function(e){this.tooltip_handler.f=e}},{key:"label_click",get:function(){return this.label_click_handler.f.bind(this.label_click_handler)},set:function(e){this.label_click_handler.f=e}},{key:"click_function",get:function(){return this.click_handler.f},set:function(e){this.click_handler.f=e}},{key:"plotAPI",value:function(){var e=s(o().mark((function e(t){var n,r,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.plot_queue;case 4:if(!t){e.next=7;break}return e.next=7,this.start_transformations(t);case 7:return this.plot_queue=this.unsafe_plotAPI(t),e.next=10,this.plot_queue;case 10:for(n=0,r=Object.entries(this.hooks);n<r.length;n++)i=f(r[n],2),i[0],(0,i[1])();return e.abrupt("return");case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"start_transformations",value:function(){var e=s(o().mark((function e(t){var n,r=this,i=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:110,e.abrupt("return",new Promise((function(e){r.prefs.duration<n&&(n=r.prefs.duration);var i=new Set;t.encoding||e();for(var a=0,o=Object.entries(t.encoding);a<o.length;a++){var u=f(o[a],2),s=(u[0],u[1]);s&&"string"!==typeof s&&void 0!==s.field&&i.add(s.field)}if(r._renderer){var l,c=[],d=[],h=T(r._renderer.visible_tiles());try{for(h.s();!(l=h.n()).done;){var p=l.value,v=p._buffer_manager;if(void 0!==v&&v.ready()){var m,y=T(i);try{for(y.s();!(m=y.n()).done;){var _=m.value,b=v.ready_or_not_here_it_comes(_),g=b.ready,w=b.promise;g||null!==w&&(c.push(w),"0/0/0"===p.key&&d.push(w))}}catch(k){y.e(k)}finally{y.f()}}}}catch(k){h.e(k)}finally{h.f()}if(0===c.length)e();else{var x=Date.now();Promise.all(d).then((function(){var t=Date.now()-x;t<n?setTimeout((function(){e()}),n-t):e()}))}}else e()})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"unsafe_plotAPI",value:function(){var e=s(o().mark((function e(t){var n,r,i,a,u,s,l,c,f=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==t){e.next=2;break}return e.abrupt("return");case 2:if(t.click_function&&(this.click_function=Function("datum",t.click_function)),t.tooltip_html&&(this.tooltip_html=Function("datum",t.tooltip_html)),t.background_options&&(t.background_options.opacity&&"number"===typeof t.background_options.opacity&&(t.background_options.opacity=[t.background_options.opacity,1]),t.background_options.size&&"number"===typeof t.background_options.size&&(t.background_options.size=[t.background_options.size,1])),this.update_prefs(t),void 0!==this._root){e.next=9;break}return e.next=9,this.reinitialize();case 9:return t.basemap_gleofeather&&(t.polygons=[{file:t.basemap_gleofeather}]),e.next=12,this._root.promise;case 12:if(this._renderer.render_props.apply_prefs(this.prefs),r=this.width,i=this.height,this.update_prefs(t),void 0!==t.zoom&&(null===t.zoom?(this._zoom.zoom_to(1,r/2,i/2),t.zoom=void 0):(null==(n=t.zoom)?void 0:n.bbox)&&this._zoom.zoom_to_bbox(t.zoom.bbox,t.duration)),this._renderer.most_recent_restart=Date.now(),this._renderer.aes.apply_encoding(t.encoding),this._renderer.apply_webgl_scale&&this._renderer.apply_webgl_scale(t),this._renderer.reglframe&&(this._renderer.reglframe.cancel(),this._renderer.reglframe=void 0),this._renderer.reglframe=this._renderer.regl.frame((function(){f._renderer.tick("Basic")})),void 0===t.labels){e.next=40;break}if(null===(o=t.labels)||void 0===o.url){e.next=28;break}a=t.labels,u=a.url,s=a.label_field,l=a.size_field,c=t.labels.name||u,this.secondary_renderers[c]||(this.stop_labellers(),this.add_labels_from_url(u,c,s,l).catch((function(e){console.error("Label addition failed."),console.error(e)}))),e.next=40;break;case 28:if(!au(t.labels)){e.next=35;break}if(t.labels.name){e.next=31;break}throw new Error("API field `labels` must have a name.");case 31:this.stop_labellers(),this.add_api_label(t.labels),e.next=40;break;case 35:if(null!==t.labels){e.next=39;break}this.stop_labellers(),e.next=40;break;case 39:throw new Error("API field `labels` format not recognized.");case 40:this._zoom.restart_timer(6e4);case 41:case"end":return e.stop()}var o}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"root_table",value:function(){var e=s(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._root){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",this._root.record_batch);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"query",get:function(){var e=JSON.parse(JSON.stringify(this.prefs));return e.zoom={bbox:this._renderer.zoom.current_corners()},e}},{key:"drawContours",value:function(e,t){var n,r=(t||Qe("body")).select("#canvas-2d").node().getContext("2d"),i=T(e);try{for(i.s();!(n=i.n()).done;){var a=n.value;r.fillStyle="rgba(25, 25, 29, 1)",r.fillRect(0,0,2*window.innerWidth,2*window.innerHeight),r.strokeStyle="#8a0303",r.fillStyle="rgba(30, 30, 34, 1)",r.lineWidth=vt([.45,.25*Math.exp(Math.log(this._zoom.transform.k/2))]);var o=qn(Qn().scale(this._zoom.transform.k).translate([this._zoom.transform.x,this._zoom.transform.y]),r);r.beginPath(),o(a),r.fill()}}catch(u){i.e(u)}finally{i.f()}}},{key:"sample_points",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,n=[],r=T(this._root.points(this._zoom.current_corners()));try{for(r.s();!(e=r.n()).done;){var i=e.value;if(n.push(b({},i)),n.length>=3*t)break}}catch(a){r.e(a)}finally{r.f()}return n.sort((function(e,t){return Number(e.ix)-Number(t.ix)})),n.slice(0,t)}},{key:"contours",value:function(e){var t=this._renderer.calculate_contours(e),n=this._zoom.scales(),r=n.x,i=n.y,a=n.x_,o=n.y_;!function e(t){if(t){if(t.coordinates)return e(t.coordinates);if(0!==t.length){if(t[0].length>0)return t.map(e);t[0]=r(a.invert(t[0])),t[1]=i(o.invert(t[1]))}}}(t),this.drawContours(t)}}]),e}(),ny=function(){function e(t){E(this,e),B(this,"_f"),B(this,"string_rep"),B(this,"plot"),this.string_rep="",this.plot=t}return I(e,[{key:"f",get:function(){return void 0===this._f?this.default:this._f},set:function(e){"string"===typeof e?this.string_rep!==e&&(this.string_rep=e,this._f=Function("datum","plot",e)):this._f=e}}]),e}(),ry=function(e){k(n,e);var t=S(n);function n(){return E(this,n),t.apply(this,arguments)}return I(n,[{key:"default",value:function(e){var t,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;null!==e&&(1==e.__activated?(t=null,e.__activated=void 0):(e.__activated=!0,t={field:n.label_key,lambda:"d => d === '".concat(e.properties[n.label_key],"'")}),this.plot.plotAPI({encoding:{filter:t}}))}}]),n}(ny),iy=function(e){k(n,e);var t=S(n);function n(){return E(this,n),t.apply(this,arguments)}return I(n,[{key:"default",value:function(e){console.log(b({},e))}}]),n}(ny),ay=function(e){k(n,e);var t=S(n);function n(){return E(this,n),t.apply(this,arguments)}return I(n,[{key:"default",value:function(e){var t,n="<dl>",r=new Set(["x","y","ix",null,"tile_key"]),i=T(e);try{for(i.s();!(t=i.n()).done;){var a=f(t.value,2),o=a[0],u=a[1];null!==u&&(r.has(o)||""!==u&&(n+=" <dt>".concat(String(o),"</dt>\n"),n+="   <dd>".concat(String(u),"<dd>\n")))}}catch(s){i.e(s)}finally{i.f()}return"".concat(n,"</dl>\n")}}]),n}(ny);function oy(e,t){return function(){return e.apply(t,arguments)}}var uy,sy=Object.prototype.toString,ly=Object.getPrototypeOf,cy=(uy=Object.create(null),function(e){var t=sy.call(e);return uy[t]||(uy[t]=t.slice(8,-1).toLowerCase())}),fy=function(e){return e=e.toLowerCase(),function(t){return cy(t)===e}},dy=function(e){return function(t){return typeof t===e}},hy=Array.isArray,py=dy("undefined");var vy=fy("ArrayBuffer");var my=dy("string"),yy=dy("function"),_y=dy("number"),by=function(e){return null!==e&&"object"===typeof e},gy=function(e){if("object"!==cy(e))return!1;var t=ly(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},wy=fy("Date"),xy=fy("File"),ky=fy("Blob"),Sy=fy("FileList"),Ay=fy("URLSearchParams");function Ey(e,t){var n,r,i=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).allOwnKeys,a=void 0!==i&&i;if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),hy(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{var o,u=a?Object.getOwnPropertyNames(e):Object.keys(e),s=u.length;for(n=0;n<s;n++)o=u[n],t.call(null,e[o],o,e)}}function Oy(e,t){t=t.toLowerCase();for(var n,r=Object.keys(e),i=r.length;i-- >0;)if(t===(n=r[i]).toLowerCase())return n;return null}var Iy="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,Ty=function(e){return!py(e)&&e!==Iy};var jy,Cy=(jy="undefined"!==typeof Uint8Array&&ly(Uint8Array),function(e){return jy&&e instanceof jy}),My=fy("HTMLFormElement"),zy=function(e){var t=Object.prototype.hasOwnProperty;return function(e,n){return t.call(e,n)}}(),Ny=fy("RegExp"),Dy=function(e,t){var n=Object.getOwnPropertyDescriptors(e),r={};Ey(n,(function(n,i){!1!==t(n,i,e)&&(r[i]=n)})),Object.defineProperties(e,r)},By="abcdefghijklmnopqrstuvwxyz",Fy="0123456789",Py={DIGIT:Fy,ALPHA:By,ALPHA_DIGIT:By+By.toUpperCase()+Fy};var Ly=fy("AsyncFunction"),Ry={isArray:hy,isArrayBuffer:vy,isBuffer:function(e){return null!==e&&!py(e)&&null!==e.constructor&&!py(e.constructor)&&yy(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:function(e){var t;return e&&("function"===typeof FormData&&e instanceof FormData||yy(e.append)&&("formdata"===(t=cy(e))||"object"===t&&yy(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&vy(e.buffer)},isString:my,isNumber:_y,isBoolean:function(e){return!0===e||!1===e},isObject:by,isPlainObject:gy,isUndefined:py,isDate:wy,isFile:xy,isBlob:ky,isRegExp:Ny,isFunction:yy,isStream:function(e){return by(e)&&yy(e.pipe)},isURLSearchParams:Ay,isTypedArray:Cy,isFileList:Sy,forEach:Ey,merge:function e(){for(var t=(Ty(this)&&this||{}).caseless,n={},r=function(r,i){var a=t&&Oy(n,i)||i;gy(n[a])&&gy(r)?n[a]=e(n[a],r):gy(r)?n[a]=e({},r):hy(r)?n[a]=r.slice():n[a]=r},i=0,a=arguments.length;i<a;i++)arguments[i]&&Ey(arguments[i],r);return n},extend:function(e,t,n){return Ey(t,(function(t,r){n&&yy(t)?e[r]=oy(t,n):e[r]=t}),{allOwnKeys:(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}).allOwnKeys}),e},trim:function(e){return e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e},inherits:function(e,t,n,r){e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:function(e,t,n,r){var i,a,o,u={};if(t=t||{},null==e)return t;do{for(a=(i=Object.getOwnPropertyNames(e)).length;a-- >0;)o=i[a],r&&!r(o,e,t)||u[o]||(t[o]=e[o],u[o]=!0);e=!1!==n&&ly(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:cy,kindOfTest:fy,endsWith:function(e,t,n){e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;var r=e.indexOf(t,n);return-1!==r&&r===n},toArray:function(e){if(!e)return null;if(hy(e))return e;var t=e.length;if(!_y(t))return null;for(var n=new Array(t);t-- >0;)n[t]=e[t];return n},forEachEntry:function(e,t){for(var n,r=(e&&e[Symbol.iterator]).call(e);(n=r.next())&&!n.done;){var i=n.value;t.call(e,i[0],i[1])}},matchAll:function(e,t){for(var n,r=[];null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:My,hasOwnProperty:zy,hasOwnProp:zy,reduceDescriptors:Dy,freezeMethods:function(e){Dy(e,(function(t,n){if(yy(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;var r=e[n];yy(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=function(){throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:function(e,t){var n={},r=function(e){e.forEach((function(e){n[e]=!0}))};return hy(e)?r(e):r(String(e).split(t)),n},toCamelCase:function(e){return e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n}))},noop:function(){},toFiniteNumber:function(e,t){return e=+e,Number.isFinite(e)?e:t},findKey:Oy,global:Iy,isContextDefined:Ty,ALPHABET:Py,generateString:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Py.ALPHA_DIGIT,n="",r=t.length;e--;)n+=t[Math.random()*r|0];return n},isSpecCompliantForm:function(e){return!!(e&&yy(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:function(e){var t=new Array(10);return function e(n,r){if(by(n)){if(t.indexOf(n)>=0)return;if(!("toJSON"in n)){t[r]=n;var i=hy(n)?[]:{};return Ey(n,(function(t,n){var a=e(t,r+1);!py(a)&&(i[n]=a)})),t[r]=void 0,i}}return n}(e,0)},isAsyncFn:Ly,isThenable:function(e){return e&&(by(e)||yy(e))&&yy(e.then)&&yy(e.catch)}};function Uy(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}Ry.inherits(Uy,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Ry.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var Vy=Uy.prototype,Wy={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((function(e){Wy[e]={value:e}})),Object.defineProperties(Uy,Wy),Object.defineProperty(Vy,"isAxiosError",{value:!0}),Uy.from=function(e,t,n,r,i,a){var o=Object.create(Vy);return Ry.toFlatObject(e,o,(function(e){return e!==Error.prototype}),(function(e){return"isAxiosError"!==e})),Uy.call(o,e.message,t,n,r,i),o.cause=e,o.name=e.name,a&&Object.assign(o,a),o};var Yy=Uy,Hy=null;function qy(e){return Ry.isPlainObject(e)||Ry.isArray(e)}function Gy(e){return Ry.endsWith(e,"[]")?e.slice(0,-2):e}function $y(e,t,n){return e?e.concat(t).map((function(e,t){return e=Gy(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}var Xy=Ry.toFlatObject(Ry,{},null,(function(e){return/^is[A-Z]/.test(e)}));var Qy=function(e,t,n){if(!Ry.isObject(e))throw new TypeError("target must be an object");t=t||new(Hy||FormData);var r=(n=Ry.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!Ry.isUndefined(t[e])}))).metaTokens,i=n.visitor||l,a=n.dots,o=n.indexes,u=(n.Blob||"undefined"!==typeof Blob&&Blob)&&Ry.isSpecCompliantForm(t);if(!Ry.isFunction(i))throw new TypeError("visitor must be a function");function s(e){if(null===e)return"";if(Ry.isDate(e))return e.toISOString();if(!u&&Ry.isBlob(e))throw new Yy("Blob is not supported. Use a Buffer instead.");return Ry.isArrayBuffer(e)||Ry.isTypedArray(e)?u&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function l(e,n,i){var u=e;if(e&&!i&&"object"===typeof e)if(Ry.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(Ry.isArray(e)&&function(e){return Ry.isArray(e)&&!e.some(qy)}(e)||(Ry.isFileList(e)||Ry.endsWith(n,"[]"))&&(u=Ry.toArray(e)))return n=Gy(n),u.forEach((function(e,r){!Ry.isUndefined(e)&&null!==e&&t.append(!0===o?$y([n],r,a):null===o?n:n+"[]",s(e))})),!1;return!!qy(e)||(t.append($y(i,n,a),s(e)),!1)}var c=[],f=Object.assign(Xy,{defaultVisitor:l,convertValue:s,isVisitable:qy});if(!Ry.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!Ry.isUndefined(n)){if(-1!==c.indexOf(n))throw Error("Circular reference detected in "+r.join("."));c.push(n),Ry.forEach(n,(function(n,a){!0===(!(Ry.isUndefined(n)||null===n)&&i.call(t,n,Ry.isString(a)?a.trim():a,r,f))&&e(n,r?r.concat(a):[a])})),c.pop()}}(e),t};function Ky(e){var t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function Zy(e,t){this._pairs=[],e&&Qy(e,this,t)}var Jy=Zy.prototype;Jy.append=function(e,t){this._pairs.push([e,t])},Jy.toString=function(e){var t=e?function(t){return e.call(this,t,Ky)}:Ky;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};var e_=Zy;function t_(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function n_(e,t,n){if(!t)return e;var r,i=n&&n.encode||t_,a=n&&n.serialize;if(r=a?a(t,n):Ry.isURLSearchParams(t)?t.toString():new e_(t,n).toString(i)){var o=e.indexOf("#");-1!==o&&(e=e.slice(0,o)),e+=(-1===e.indexOf("?")?"?":"&")+r}return e}var r_=function(){function e(){E(this,e),this.handlers=[]}return I(e,[{key:"use",value:function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}},{key:"eject",value:function(e){this.handlers[e]&&(this.handlers[e]=null)}},{key:"clear",value:function(){this.handlers&&(this.handlers=[])}},{key:"forEach",value:function(e){Ry.forEach(this.handlers,(function(t){null!==t&&e(t)}))}}]),e}(),i_=r_,a_={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},o_={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:e_,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},isStandardBrowserEnv:function(){var e;return("undefined"===typeof navigator||"ReactNative"!==(e=navigator.product)&&"NativeScript"!==e&&"NS"!==e)&&("undefined"!==typeof window&&"undefined"!==typeof document)}(),isStandardBrowserWebWorkerEnv:"undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,protocols:["http","https","file","blob","url","data"]};var u_=function(e){function t(e,n,r,i){var a=e[i++],o=Number.isFinite(+a),u=i>=e.length;return a=!a&&Ry.isArray(r)?r.length:a,u?(Ry.hasOwnProp(r,a)?r[a]=[r[a],n]:r[a]=n,!o):(r[a]&&Ry.isObject(r[a])||(r[a]=[]),t(e,n,r[a],i)&&Ry.isArray(r[a])&&(r[a]=function(e){var t,n,r={},i=Object.keys(e),a=i.length;for(t=0;t<a;t++)r[n=i[t]]=e[n];return r}(r[a])),!o)}if(Ry.isFormData(e)&&Ry.isFunction(e.entries)){var n={};return Ry.forEachEntry(e,(function(e,r){t(function(e){return Ry.matchAll(/\w+|\[(\w*)]/g,e).map((function(e){return"[]"===e[0]?"":e[1]||e[0]}))}(e),r,n,0)})),n}return null},s_={"Content-Type":void 0};var l_={transitional:a_,adapter:["xhr","http"],transformRequest:[function(e,t){var n,r=t.getContentType()||"",i=r.indexOf("application/json")>-1,a=Ry.isObject(e);if(a&&Ry.isHTMLForm(e)&&(e=new FormData(e)),Ry.isFormData(e))return i&&i?JSON.stringify(u_(e)):e;if(Ry.isArrayBuffer(e)||Ry.isBuffer(e)||Ry.isStream(e)||Ry.isFile(e)||Ry.isBlob(e))return e;if(Ry.isArrayBufferView(e))return e.buffer;if(Ry.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return Qy(e,new o_.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return o_.isNode&&Ry.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((n=Ry.isFileList(e))||r.indexOf("multipart/form-data")>-1){var o=this.env&&this.env.FormData;return Qy(n?{"files[]":e}:e,o&&new o,this.formSerializer)}}return a||i?(t.setContentType("application/json",!1),function(e,t,n){if(Ry.isString(e))try{return(t||JSON.parse)(e),Ry.trim(e)}catch(r){if("SyntaxError"!==r.name)throw r}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||l_.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(e&&Ry.isString(e)&&(n&&!this.responseType||r)){var i=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(a){if(i){if("SyntaxError"===a.name)throw Yy.from(a,Yy.ERR_BAD_RESPONSE,this,null,this.response);throw a}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:o_.classes.FormData,Blob:o_.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};Ry.forEach(["delete","get","head"],(function(e){l_.headers[e]={}})),Ry.forEach(["post","put","patch"],(function(e){l_.headers[e]=Ry.merge(s_)}));var c_=l_,f_=Ry.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),d_=Symbol("internals");function h_(e){return e&&String(e).trim().toLowerCase()}function p_(e){return!1===e||null==e?e:Ry.isArray(e)?e.map(p_):String(e)}function v_(e,t,n,r,i){return Ry.isFunction(r)?r.call(this,t,n):(i&&(t=n),Ry.isString(t)?Ry.isString(r)?-1!==t.indexOf(r):Ry.isRegExp(r)?r.test(t):void 0:void 0)}var m_=function(e,t){function n(e){E(this,n),e&&this.set(e)}return I(n,[{key:"set",value:function(e,t,n){var r=this;function i(e,t,n){var i=h_(t);if(!i)throw new Error("header name must be a non-empty string");var a=Ry.findKey(r,i);(!a||void 0===r[a]||!0===n||void 0===n&&!1!==r[a])&&(r[a||t]=p_(e))}var a=function(e,t){return Ry.forEach(e,(function(e,n){return i(e,n,t)}))};return Ry.isPlainObject(e)||e instanceof this.constructor?a(e,t):Ry.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim())?a(function(e){var t,n,r,i={};return e&&e.split("\n").forEach((function(e){r=e.indexOf(":"),t=e.substring(0,r).trim().toLowerCase(),n=e.substring(r+1).trim(),!t||i[t]&&f_[t]||("set-cookie"===t?i[t]?i[t].push(n):i[t]=[n]:i[t]=i[t]?i[t]+", "+n:n)})),i}(e),t):null!=e&&i(t,e,n),this}},{key:"get",value:function(e,t){if(e=h_(e)){var n=Ry.findKey(this,e);if(n){var r=this[n];if(!t)return r;if(!0===t)return function(e){for(var t,n=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;t=r.exec(e);)n[t[1]]=t[2];return n}(r);if(Ry.isFunction(t))return t.call(this,r,n);if(Ry.isRegExp(t))return t.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}},{key:"has",value:function(e,t){if(e=h_(e)){var n=Ry.findKey(this,e);return!(!n||void 0===this[n]||t&&!v_(0,this[n],n,t))}return!1}},{key:"delete",value:function(e,t){var n=this,r=!1;function i(e){if(e=h_(e)){var i=Ry.findKey(n,e);!i||t&&!v_(0,n[i],i,t)||(delete n[i],r=!0)}}return Ry.isArray(e)?e.forEach(i):i(e),r}},{key:"clear",value:function(e){for(var t=Object.keys(this),n=t.length,r=!1;n--;){var i=t[n];e&&!v_(0,this[i],i,e,!0)||(delete this[i],r=!0)}return r}},{key:"normalize",value:function(e){var t=this,n={};return Ry.forEach(this,(function(r,i){var a=Ry.findKey(n,i);if(a)return t[a]=p_(r),void delete t[i];var o=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n}))}(i):String(i).trim();o!==i&&delete t[i],t[o]=p_(r),n[o]=!0})),this}},{key:"concat",value:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=this.constructor).concat.apply(e,[this].concat(n))}},{key:"toJSON",value:function(e){var t=Object.create(null);return Ry.forEach(this,(function(n,r){null!=n&&!1!==n&&(t[r]=e&&Ry.isArray(n)?n.join(", "):n)})),t}},{key:Symbol.iterator,value:function(){return Object.entries(this.toJSON())[Symbol.iterator]()}},{key:"toString",value:function(){return Object.entries(this.toJSON()).map((function(e){var t=f(e,2);return t[0]+": "+t[1]})).join("\n")}},{key:Symbol.toStringTag,get:function(){return"AxiosHeaders"}}],[{key:"from",value:function(e){return e instanceof this?e:new this(e)}},{key:"concat",value:function(e){for(var t=new this(e),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.forEach((function(e){return t.set(e)})),t}},{key:"accessor",value:function(e){var t=(this[d_]=this[d_]={accessors:{}}).accessors,n=this.prototype;function r(e){var r=h_(e);t[r]||(!function(e,t){var n=Ry.toCamelCase(" "+t);["get","set","has"].forEach((function(r){Object.defineProperty(e,r+n,{value:function(e,n,i){return this[r].call(this,t,e,n,i)},configurable:!0})}))}(n,e),t[r]=!0)}return Ry.isArray(e)?e.forEach(r):r(e),this}}]),n}();m_.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),Ry.freezeMethods(m_.prototype),Ry.freezeMethods(m_);var y_=m_;function __(e,t){var n=this||c_,r=t||n,i=y_.from(r.headers),a=r.data;return Ry.forEach(e,(function(e){a=e.call(n,a,i.normalize(),t?t.status:void 0)})),i.normalize(),a}function b_(e){return!(!e||!e.__CANCEL__)}function g_(e,t,n){Yy.call(this,null==e?"canceled":e,Yy.ERR_CANCELED,t,n),this.name="CanceledError"}Ry.inherits(g_,Yy,{__CANCEL__:!0});var w_=g_;var x_=o_.isStandardBrowserEnv?{write:function(e,t,n,r,i,a){var o=[];o.push(e+"="+encodeURIComponent(t)),Ry.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),Ry.isString(r)&&o.push("path="+r),Ry.isString(i)&&o.push("domain="+i),!0===a&&o.push("secure"),document.cookie=o.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}};function k_(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}var S_=o_.isStandardBrowserEnv?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function r(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=r(window.location.href),function(t){var n=Ry.isString(t)?r(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0};var A_=function(e,t){e=e||10;var n,r=new Array(e),i=new Array(e),a=0,o=0;return t=void 0!==t?t:1e3,function(u){var s=Date.now(),l=i[o];n||(n=s),r[a]=u,i[a]=s;for(var c=o,f=0;c!==a;)f+=r[c++],c%=e;if((a=(a+1)%e)===o&&(o=(o+1)%e),!(s-n<t)){var d=l&&s-l;return d?Math.round(1e3*f/d):void 0}}};function E_(e,t){var n=0,r=A_(50,250);return function(i){var a=i.loaded,o=i.lengthComputable?i.total:void 0,u=a-n,s=r(u);n=a;var l={loaded:a,total:o,progress:o?a/o:void 0,bytes:u,rate:s||void 0,estimated:s&&o&&a<=o?(o-a)/s:void 0,event:i};l[t?"download":"upload"]=!0,e(l)}}var O_="undefined"!==typeof XMLHttpRequest,I_={http:Hy,xhr:O_&&function(e){return new Promise((function(t,n){var r,i=e.data,a=y_.from(e.headers).normalize(),o=e.responseType;function u(){e.cancelToken&&e.cancelToken.unsubscribe(r),e.signal&&e.signal.removeEventListener("abort",r)}Ry.isFormData(i)&&(o_.isStandardBrowserEnv||o_.isStandardBrowserWebWorkerEnv?a.setContentType(!1):a.setContentType("multipart/form-data;",!1));var s=new XMLHttpRequest;if(e.auth){var l=e.auth.username||"",c=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";a.set("Authorization","Basic "+btoa(l+":"+c))}var f=k_(e.baseURL,e.url);function d(){if(s){var r=y_.from("getAllResponseHeaders"in s&&s.getAllResponseHeaders());!function(e,t,n){var r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new Yy("Request failed with status code "+n.status,[Yy.ERR_BAD_REQUEST,Yy.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}((function(e){t(e),u()}),(function(e){n(e),u()}),{data:o&&"text"!==o&&"json"!==o?s.response:s.responseText,status:s.status,statusText:s.statusText,headers:r,config:e,request:s}),s=null}}if(s.open(e.method.toUpperCase(),n_(f,e.params,e.paramsSerializer),!0),s.timeout=e.timeout,"onloadend"in s?s.onloadend=d:s.onreadystatechange=function(){s&&4===s.readyState&&(0!==s.status||s.responseURL&&0===s.responseURL.indexOf("file:"))&&setTimeout(d)},s.onabort=function(){s&&(n(new Yy("Request aborted",Yy.ECONNABORTED,e,s)),s=null)},s.onerror=function(){n(new Yy("Network Error",Yy.ERR_NETWORK,e,s)),s=null},s.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",r=e.transitional||a_;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(new Yy(t,r.clarifyTimeoutError?Yy.ETIMEDOUT:Yy.ECONNABORTED,e,s)),s=null},o_.isStandardBrowserEnv){var h=(e.withCredentials||S_(f))&&e.xsrfCookieName&&x_.read(e.xsrfCookieName);h&&a.set(e.xsrfHeaderName,h)}void 0===i&&a.setContentType(null),"setRequestHeader"in s&&Ry.forEach(a.toJSON(),(function(e,t){s.setRequestHeader(t,e)})),Ry.isUndefined(e.withCredentials)||(s.withCredentials=!!e.withCredentials),o&&"json"!==o&&(s.responseType=e.responseType),"function"===typeof e.onDownloadProgress&&s.addEventListener("progress",E_(e.onDownloadProgress,!0)),"function"===typeof e.onUploadProgress&&s.upload&&s.upload.addEventListener("progress",E_(e.onUploadProgress)),(e.cancelToken||e.signal)&&(r=function(t){s&&(n(!t||t.type?new w_(null,e,s):t),s.abort(),s=null)},e.cancelToken&&e.cancelToken.subscribe(r),e.signal&&(e.signal.aborted?r():e.signal.addEventListener("abort",r)));var p=function(e){var t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(f);p&&-1===o_.protocols.indexOf(p)?n(new Yy("Unsupported protocol "+p+":",Yy.ERR_BAD_REQUEST,e)):s.send(i||null)}))}};Ry.forEach(I_,(function(e,t){if(e){try{Object.defineProperty(e,"name",{value:t})}catch(n){}Object.defineProperty(e,"adapterName",{value:t})}}));var T_=function(e){for(var t,n,r=(e=Ry.isArray(e)?e:[e]).length,i=0;i<r&&(t=e[i],!(n=Ry.isString(t)?I_[t.toLowerCase()]:t));i++);if(!n){if(!1===n)throw new Yy("Adapter ".concat(t," is not supported by the environment"),"ERR_NOT_SUPPORT");throw new Error(Ry.hasOwnProp(I_,t)?"Adapter '".concat(t,"' is not available in the build"):"Unknown adapter '".concat(t,"'"))}if(!Ry.isFunction(n))throw new TypeError("adapter is not a function");return n};function j_(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new w_(null,e)}function C_(e){return j_(e),e.headers=y_.from(e.headers),e.data=__.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1),T_(e.adapter||c_.adapter)(e).then((function(t){return j_(e),t.data=__.call(e,e.transformResponse,t),t.headers=y_.from(t.headers),t}),(function(t){return b_(t)||(j_(e),t&&t.response&&(t.response.data=__.call(e,e.transformResponse,t.response),t.response.headers=y_.from(t.response.headers))),Promise.reject(t)}))}var M_=function(e){return e instanceof y_?e.toJSON():e};function z_(e,t){t=t||{};var n={};function r(e,t,n){return Ry.isPlainObject(e)&&Ry.isPlainObject(t)?Ry.merge.call({caseless:n},e,t):Ry.isPlainObject(t)?Ry.merge({},t):Ry.isArray(t)?t.slice():t}function i(e,t,n){return Ry.isUndefined(t)?Ry.isUndefined(e)?void 0:r(void 0,e,n):r(e,t,n)}function a(e,t){if(!Ry.isUndefined(t))return r(void 0,t)}function o(e,t){return Ry.isUndefined(t)?Ry.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function u(n,i,a){return a in t?r(n,i):a in e?r(void 0,n):void 0}var s={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:u,headers:function(e,t){return i(M_(e),M_(t),!0)}};return Ry.forEach(Object.keys(Object.assign({},e,t)),(function(r){var a=s[r]||i,o=a(e[r],t[r],r);Ry.isUndefined(o)&&a!==u||(n[r]=o)})),n}var N_="1.4.0",D_={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){D_[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var B_={};D_.transitional=function(e,t,n){function r(e,t){return"[Axios v1.4.0] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,i,a){if(!1===e)throw new Yy(r(i," has been removed"+(t?" in "+t:"")),Yy.ERR_DEPRECATED);return t&&!B_[i]&&(B_[i]=!0,console.warn(r(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,i,a)}};var F_={assertOptions:function(e,t,n){if("object"!==typeof e)throw new Yy("options must be an object",Yy.ERR_BAD_OPTION_VALUE);for(var r=Object.keys(e),i=r.length;i-- >0;){var a=r[i],o=t[a];if(o){var u=e[a],s=void 0===u||o(u,a,e);if(!0!==s)throw new Yy("option "+a+" must be "+s,Yy.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new Yy("Unknown option "+a,Yy.ERR_BAD_OPTION)}},validators:D_},P_=F_.validators,L_=function(){function e(t){E(this,e),this.defaults=t,this.interceptors={request:new i_,response:new i_}}return I(e,[{key:"request",value:function(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{};var n,r=t=z_(this.defaults,t),i=r.transitional,a=r.paramsSerializer,o=r.headers;void 0!==i&&F_.assertOptions(i,{silentJSONParsing:P_.transitional(P_.boolean),forcedJSONParsing:P_.transitional(P_.boolean),clarifyTimeoutError:P_.transitional(P_.boolean)},!1),null!=a&&(Ry.isFunction(a)?t.paramsSerializer={serialize:a}:F_.assertOptions(a,{encode:P_.function,serialize:P_.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase(),(n=o&&Ry.merge(o.common,o[t.method]))&&Ry.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete o[e]})),t.headers=y_.concat(n,o);var u=[],s=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(s=s&&e.synchronous,u.unshift(e.fulfilled,e.rejected))}));var l,c=[];this.interceptors.response.forEach((function(e){c.push(e.fulfilled,e.rejected)}));var f,d=0;if(!s){var h=[C_.bind(this),void 0];for(h.unshift.apply(h,u),h.push.apply(h,c),f=h.length,l=Promise.resolve(t);d<f;)l=l.then(h[d++],h[d++]);return l}f=u.length;var p=t;for(d=0;d<f;){var v=u[d++],m=u[d++];try{p=v(p)}catch(y){m.call(this,y);break}}try{l=C_.call(this,p)}catch(y){return Promise.reject(y)}for(d=0,f=c.length;d<f;)l=l.then(c[d++],c[d++]);return l}},{key:"getUri",value:function(e){return n_(k_((e=z_(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}]),e}();Ry.forEach(["delete","get","head","options"],(function(e){L_.prototype[e]=function(t,n){return this.request(z_(n||{},{method:e,url:t,data:(n||{}).data}))}})),Ry.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,i){return this.request(z_(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}L_.prototype[e]=t(),L_.prototype[e+"Form"]=t(!0)}));var R_=L_,U_=function(){function e(t){if(E(this,e),"function"!==typeof t)throw new TypeError("executor must be a function.");var n;this.promise=new Promise((function(e){n=e}));var r=this;this.promise.then((function(e){if(r._listeners){for(var t=r._listeners.length;t-- >0;)r._listeners[t](e);r._listeners=null}})),this.promise.then=function(e){var t,n=new Promise((function(e){r.subscribe(e),t=e})).then(e);return n.cancel=function(){r.unsubscribe(t)},n},t((function(e,t,i){r.reason||(r.reason=new w_(e,t,i),n(r.reason))}))}return I(e,[{key:"throwIfRequested",value:function(){if(this.reason)throw this.reason}},{key:"subscribe",value:function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}},{key:"unsubscribe",value:function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}}}],[{key:"source",value:function(){var t,n=new e((function(e){t=e}));return{token:n,cancel:t}}}]),e}(),V_=U_;var W_={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(W_).forEach((function(e){var t=f(e,2),n=t[0],r=t[1];W_[r]=n}));var Y_=W_;var H_=function e(t){var n=new R_(t),r=oy(R_.prototype.request,n);return Ry.extend(r,R_.prototype,n,{allOwnKeys:!0}),Ry.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(z_(t,n))},r}(c_);H_.Axios=R_,H_.CanceledError=w_,H_.CancelToken=V_,H_.isCancel=b_,H_.VERSION=N_,H_.toFormData=Qy,H_.AxiosError=Yy,H_.Cancel=H_.CanceledError,H_.all=function(e){return Promise.all(e)},H_.spread=function(e){return function(t){return e.apply(null,t)}},H_.isAxiosError=function(e){return Ry.isObject(e)&&!0===e.isAxiosError},H_.mergeConfig=z_,H_.AxiosHeaders=y_,H_.formToJSON=function(e){return u_(Ry.isHTMLForm(e)?new FormData(e):e)},H_.HttpStatusCode=Y_,H_.default=H_;var q_=H_,G_=new Map,$_=function(){var e=s(o().mark((function e(t){var n,r,i,a,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!G_.has(t)){e.next=2;break}return e.abrupt("return",null!==(n=G_.get(t))&&void 0!==n?n:"");case 2:return e.prev=2,e.next=5,q_.get("https://en.wikipedia.org/w/api.php",{params:{action:"query",prop:"extracts",format:"json",exintro:1,explaintext:1,pageids:t,origin:"*"}});case 5:return r=e.sent,i=r.data.query.pages,a=Object.values(i)[0],u=a.extract,G_.set(t,u),e.abrupt("return",u);case 13:return e.prev=13,e.t0=e.catch(2),console.error("Error fetching Wikipedia data:",e.t0),e.abrupt("return","");case 17:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(t){return e.apply(this,arguments)}}();function X_(e){return e=(e=e.replace(/_/g," ")).replace(/\b\w/g,(function(e){return e.toUpperCase()}))}var Q_=function(e){var t="tooltip-".concat(e.id),n=function(){var n=s(o().mark((function n(r){var i,a;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,$_(r);case 2:i=n.sent,(a=document.getElementById(t))&&(a.innerHTML='\n          <div class="tooltip-content">\n            <h3>&lt;'.concat(X_(e.topic_top_50),'&gt</h3>\n            <a href="https://en.wikipedia.org/wiki?curid=').concat(e.id,'" target="_blank">\n            <h2>').concat(e.title,"</h2>\n            </a>\n            <p>").concat(i,"</p>\n          </div>"));case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return n(e.id),'\n      <div id="'.concat(t,'" class="tooltip-content"">\n        <h3>&lt;').concat(X_(e.topic_top_50),'&gt</h3>\n        <a href="https://en.wikipedia.org/wiki?curid=').concat(e.id,'" target="_blank">\n          <h2>').concat(e.title,'</h2>\n        </a>\n        <div class="spinner"></div>\n      </div>')},K_=function(e){var t="https://en.wikipedia.org/wiki?curid=".concat(e.id);console.log("point",e),window.open(t,"_blank")},Z_=function(e){var t=e.field,n=e.selectedCategories;if(!n.length)return{};var r=n.map((function(e){return"".concat(t,' === "').concat(e,'"')})).join(" || ");return{field:t,lambda:"".concat(t," => ").concat(r)}},J_="topic_top_50",eb="category10",tb={source_url:"".concat(window.location.href,"/tiles"),max_points:1e4,alpha:25,zoom_balance:.7,point_size:3,background_color:"#000000",encoding:{x:{field:"x",transform:"literal"},y:{field:"y",transform:"literal"},color:{field:J_,range:eb}}},nb={set1:["#E41A1C","#377EB8","#4DAF4A","#984EA3","#FF7F00","#FFFF33","#A65628","#F781BF","#999999"],set2:["#66C2A5","#FC8D62","#8DA0CB","#E78AC3","#A6D854","#FFD92F","#E5C494","#B3B3B3"],tableau10:["#1F77B4","#FF7F0E","#2CA02C","#D62728","#9467BD","#8C564B","#E377C2","#7F7F7F","#BCBD22","#17BECF"],dark2:["#1B9E77","#D95F02","#7570B3","#E7298A","#66A61E","#E6AB02","#A6761D","#666666"],category10:["#1F77B4","#FF7F0E","#2CA02C","#D62728","#9467BD","#8C564B","#E377C2","#7F7F7F","#BCBD22","#17BECF"]},rb=n(184),ib=function(e){var t=e.updateCategoricalFilter,n=e.selectedColorScheme,i=function(e){var t,n,r=e.field,i=e.plot;return(null===i||void 0===i||null===(t=i._renderer)||void 0===t||null===(n=t.aes)||void 0===n?void 0:n.dim(r).current.scale.domain())||[]}({field:"color",plot:e.plotRef.current}),a=nb[n],o=f((0,r.useState)(i),2),u=o[0],s=o[1];return(0,rb.jsx)("div",{className:"dropdown-content",children:i.map((function(e,n){var r,i=u.includes(e);return(0,rb.jsxs)("label",{className:"control-panel-item".concat(i||0===u.length?"":" lighten"),style:{backgroundColor:a[n%a.length],position:"relative"},children:[(0,rb.jsx)("input",{type:"checkbox",checked:null!==(r=u.includes(e))&&void 0!==r&&r,onChange:function(){return function(e){var n;n=-1===u.findIndex((function(t){return t===e}))?[].concat(v(u),[e]):u.filter((function(t){return t!==e})),s(n),t({field:J_,selectedCategories:n})}(e)}}),X_(e)]},"".concat(e,"-").concat(n))}))})},ab=function(e){var t=e.updatePointSize,n=f((0,r.useState)(tb.point_size),2),i=n[0],a=n[1];return(0,rb.jsxs)("div",{className:"dropdown-content slider-div",children:[(0,rb.jsx)("input",{className:"range-slider",type:"range",min:"1",max:"10",step:"1",value:i,onChange:function(e){a(Number(e.target.value)),t({pointSize:Number(e.target.value)})}}),"Value: ",i]})},ob=function(e){var t=e.selectedColorScheme,n=e.setSelectedColorScheme,r=e.updateColorScheme;return(0,rb.jsx)("div",{className:"dropdown-content color-scheme-div",children:(0,rb.jsxs)("select",{value:t,onChange:function(e){var t=e.target.value;n(t),r({colorScheme:t})},className:"color-scheme-selector",size:5,children:[(0,rb.jsx)("option",{value:"set1",children:"Set 1"}),(0,rb.jsx)("option",{value:"set2",children:"Set 2"}),(0,rb.jsx)("option",{value:"tableau10",children:"Tableau 10"}),(0,rb.jsx)("option",{value:"dark2",children:"Dark 2"}),(0,rb.jsx)("option",{value:"category10",children:"Category 10"})]})})},ub=function(e){var t=e.updateCategoricalFilter,n=e.updatePointSize,i=e.updateColorScheme,a=e.plotRef,o=f((0,r.useState)(eb),2),u=o[0],s=o[1];return(0,rb.jsxs)("nav",{className:"navbar",children:[(0,rb.jsx)("div",{className:"navbar-logo",children:"Wikipedia DeepScatter Explorer"}),(0,rb.jsxs)("div",{className:"navbar-menu",children:[(0,rb.jsxs)("div",{className:"dropdown",children:[(0,rb.jsx)("div",{className:"navbar-menu-link",children:"Adjust Point Size"}),(0,rb.jsx)(ab,{updatePointSize:n})]}),(0,rb.jsxs)("div",{className:"dropdown",children:[(0,rb.jsx)("div",{className:"navbar-menu-link",children:"Adjust Color Scheme"}),(0,rb.jsx)(ob,{selectedColorScheme:u,setSelectedColorScheme:s,updateColorScheme:i})]}),(0,rb.jsxs)("div",{className:"dropdown",children:[(0,rb.jsx)("div",{className:"navbar-menu-link",children:"Filter by Category"}),(0,rb.jsx)(ib,{plotRef:a,selectedColorScheme:u,updateCategoricalFilter:t})]})]})]})},sb={position:"fixed",top:0,left:0,width:"100%",height:"100%"},lb=function(e){var t=e.prefs,n=e.plotRef,i=e.updateCategoricalFilter,a=e.updatePointSize,u=e.updateColorScheme,l=f((0,r.useState)(!1),2),c=(l[0],l[1]),d="deep-scatter-parent-element-id",h=(0,r.useRef)(null);return(0,r.useEffect)((function(){if(h.current&&(null===n||void 0===n||!n.current)){var e=new ty("#".concat(d));e.tooltip_html=Q_,n.current=e,window.plot=e,console.log("created scatter..."),n.current.plotAPI(t).finally(s(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.log("... initial prefs set"),c(!0),e.click_function=K_;case 3:case"end":return t.stop()}}),t)}))))}}),[d,n,h,t]),(0,rb.jsxs)("div",{children:[(0,rb.jsx)(ub,{updateCategoricalFilter:i,updatePointSize:a,updateColorScheme:u,plotRef:n}),(0,rb.jsx)("div",{style:sb,id:d,ref:h})]})};var cb=function(){var e=(0,r.useRef)();return(0,rb.jsx)("div",{className:"App",children:(0,rb.jsx)(lb,{prefs:tb,plotRef:e,updateCategoricalFilter:function(t){var n,r=t.field,i=t.selectedCategories;null===e||void 0===e||null===(n=e.current)||void 0===n||n.plotAPI({encoding:{filter:Z_({field:r,selectedCategories:i})}})},updatePointSize:function(t){var n,r=t.pointSize;null===e||void 0===e||null===(n=e.current)||void 0===n||n.plotAPI({point_size:r})},updateColorScheme:function(t){var n,r=t.colorScheme;null===e||void 0===e||null===(n=e.current)||void 0===n||n.plotAPI({encoding:{color:{field:J_,range:r}}})}})})},fb=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),i(e),a(e),o(e)}))};i.createRoot(document.getElementById("root")).render((0,rb.jsx)(r.StrictMode,{children:(0,rb.jsx)(cb,{})})),fb()}()}();
//# sourceMappingURL=main.2c80c02a.js.map